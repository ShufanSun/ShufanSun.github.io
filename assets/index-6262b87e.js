function NN(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function zh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ON(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var HR={exports:{}},Wg={},VR={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=Symbol.for("react.element"),UN=Symbol.for("react.portal"),kN=Symbol.for("react.fragment"),zN=Symbol.for("react.strict_mode"),GN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),VN=Symbol.for("react.context"),WN=Symbol.for("react.forward_ref"),jN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),XN=Symbol.for("react.lazy"),ZE=Symbol.iterator;function KN(n){return n===null||typeof n!="object"?null:(n=ZE&&n[ZE]||n["@@iterator"],typeof n=="function"?n:null)}var WR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jR=Object.assign,JR={};function _u(n,e,t){this.props=n,this.context=e,this.refs=JR,this.updater=t||WR}_u.prototype.isReactComponent={};_u.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_u.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function XR(){}XR.prototype=_u.prototype;function K_(n,e,t){this.props=n,this.context=e,this.refs=JR,this.updater=t||WR}var Y_=K_.prototype=new XR;Y_.constructor=K_;jR(Y_,_u.prototype);Y_.isPureReactComponent=!0;var $E=Array.isArray,KR=Object.prototype.hasOwnProperty,Q_={current:null},YR={key:!0,ref:!0,__self:!0,__source:!0};function QR(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KR.call(e,i)&&!YR.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Gh,type:n,key:s,ref:o,props:r,_owner:Q_.current}}function YN(n,e){return{$$typeof:Gh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function q_(n){return typeof n=="object"&&n!==null&&n.$$typeof===Gh}function QN(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ew=/\/+/g;function jv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?QN(""+n.key):e.toString(36)}function Lm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Gh:case UN:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+jv(o,0):i,$E(r)?(t="",n!=null&&(t=n.replace(ew,"$&/")+"/"),Lm(r,e,t,"",function(c){return c})):r!=null&&(q_(r)&&(r=YN(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ew,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",$E(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+jv(s,a);o+=Lm(s,e,t,l,r)}else if(l=KN(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+jv(s,a++),o+=Lm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xp(n,e,t){if(n==null)return n;var i=[],r=0;return Lm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function qN(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ai={current:null},Dm={transition:null},ZN={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:Dm,ReactCurrentOwner:Q_};wt.Children={map:xp,forEach:function(n,e,t){xp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xp(n,function(){e++}),e},toArray:function(n){return xp(n,function(e){return e})||[]},only:function(n){if(!q_(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};wt.Component=_u;wt.Fragment=kN;wt.Profiler=GN;wt.PureComponent=K_;wt.StrictMode=zN;wt.Suspense=jN;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZN;wt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=jR({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Q_.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)KR.call(e,l)&&!YR.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Gh,type:n.type,key:r,ref:s,props:i,_owner:o}};wt.createContext=function(n){return n={$$typeof:VN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:HN,_context:n},n.Consumer=n};wt.createElement=QR;wt.createFactory=function(n){var e=QR.bind(null,n);return e.type=n,e};wt.createRef=function(){return{current:null}};wt.forwardRef=function(n){return{$$typeof:WN,render:n}};wt.isValidElement=q_;wt.lazy=function(n){return{$$typeof:XN,_payload:{_status:-1,_result:n},_init:qN}};wt.memo=function(n,e){return{$$typeof:JN,type:n,compare:e===void 0?null:e}};wt.startTransition=function(n){var e=Dm.transition;Dm.transition={};try{n()}finally{Dm.transition=e}};wt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};wt.useCallback=function(n,e){return Ai.current.useCallback(n,e)};wt.useContext=function(n){return Ai.current.useContext(n)};wt.useDebugValue=function(){};wt.useDeferredValue=function(n){return Ai.current.useDeferredValue(n)};wt.useEffect=function(n,e){return Ai.current.useEffect(n,e)};wt.useId=function(){return Ai.current.useId()};wt.useImperativeHandle=function(n,e,t){return Ai.current.useImperativeHandle(n,e,t)};wt.useInsertionEffect=function(n,e){return Ai.current.useInsertionEffect(n,e)};wt.useLayoutEffect=function(n,e){return Ai.current.useLayoutEffect(n,e)};wt.useMemo=function(n,e){return Ai.current.useMemo(n,e)};wt.useReducer=function(n,e,t){return Ai.current.useReducer(n,e,t)};wt.useRef=function(n){return Ai.current.useRef(n)};wt.useState=function(n){return Ai.current.useState(n)};wt.useSyncExternalStore=function(n,e,t){return Ai.current.useSyncExternalStore(n,e,t)};wt.useTransition=function(){return Ai.current.useTransition()};wt.version="18.2.0";VR.exports=wt;var N=VR.exports;const yn=zh(N),$N=NN({__proto__:null,default:yn},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eO=N,tO=Symbol.for("react.element"),nO=Symbol.for("react.fragment"),iO=Object.prototype.hasOwnProperty,rO=eO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sO={key:!0,ref:!0,__self:!0,__source:!0};function qR(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)iO.call(e,i)&&!sO.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:tO,type:n,key:s,ref:o,props:r,_owner:rO.current}}Wg.Fragment=nO;Wg.jsx=qR;Wg.jsxs=qR;HR.exports=Wg;var q=HR.exports,Dx={},ZR={exports:{}},ir={},$R={exports:{}},eP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var ee=H-1>>>1,Z=L[ee];if(0<r(Z,V))L[ee]=V,L[H]=Z,H=ee;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var ee=0,Z=L.length,ne=Z>>>1;ee<ne;){var ie=2*(ee+1)-1,Ee=L[ie],pe=ie+1,j=L[pe];if(0>r(Ee,H))pe<Z&&0>r(j,Ee)?(L[ee]=j,L[pe]=H,ee=pe):(L[ee]=Ee,L[ie]=H,ee=ie);else if(pe<Z&&0>r(j,H))L[ee]=j,L[pe]=H,ee=pe;else break e}}return V}function r(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(L){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=L)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function E(L){if(x=!1,M(L),!v)if(t(l)!==null)v=!0,oe(C);else{var V=t(c);V!==null&&te(E,V.startTime-L)}}function C(L,V){v=!1,x&&(x=!1,g(P),P=-1),m=!0;var H=p;try{for(M(V),d=t(l);d!==null&&(!(d.expirationTime>V)||L&&!G());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var Z=ee(d.expirationTime<=V);V=n.unstable_now(),typeof Z=="function"?d.callback=Z:d===t(l)&&i(l),M(V)}else i(l);d=t(l)}if(d!==null)var ne=!0;else{var ie=t(c);ie!==null&&te(E,ie.startTime-V),ne=!1}return ne}finally{d=null,p=H,m=!1}}var R=!1,B=null,P=-1,b=5,I=-1;function G(){return!(n.unstable_now()-I<b)}function J(){if(B!==null){var L=n.unstable_now();I=L;var V=!0;try{V=B(!0,L)}finally{V?W():(R=!1,B=null)}}else R=!1}var W;if(typeof A=="function")W=function(){A(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=J,W=function(){X.postMessage(null)}}else W=function(){_(J,0)};function oe(L){B=L,R||(R=!0,W())}function te(L,V){P=_(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,oe(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return V()}finally{p=H}},n.unstable_scheduleCallback=function(L,V,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,L={id:h++,callback:V,priorityLevel:L,startTime:H,expirationTime:Z,sortIndex:-1},H>ee?(L.sortIndex=H,e(c,L),t(l)===null&&L===t(c)&&(x?(g(P),P=-1):x=!0,te(E,H-ee))):(L.sortIndex=Z,e(l,L),v||m||(v=!0,oe(C))),L},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(L){var V=p;return function(){var H=p;p=V;try{return L.apply(this,arguments)}finally{p=H}}}})(eP);$R.exports=eP;var oO=$R.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP=N,er=oO;function Re(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nP=new Set,rh={};function Sl(n,e){tu(n,e),tu(n+"Capture",e)}function tu(n,e){for(rh[n]=e,n=0;n<e.length;n++)nP.add(e[n])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fx=Object.prototype.hasOwnProperty,aO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tw={},nw={};function lO(n){return Fx.call(nw,n)?!0:Fx.call(tw,n)?!1:aO.test(n)?nw[n]=!0:(tw[n]=!0,!1)}function cO(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function uO(n,e,t,i){if(e===null||typeof e>"u"||cO(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _i(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qn[n]=new _i(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];qn[e]=new _i(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qn[n]=new _i(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qn[n]=new _i(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qn[n]=new _i(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qn[n]=new _i(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qn[n]=new _i(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qn[n]=new _i(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qn[n]=new _i(n,5,!1,n.toLowerCase(),null,!1,!1)});var Z_=/[\-:]([a-z])/g;function $_(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Z_,$_);qn[e]=new _i(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Z_,$_);qn[e]=new _i(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Z_,$_);qn[e]=new _i(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qn[n]=new _i(n,1,!1,n.toLowerCase(),null,!1,!1)});qn.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qn[n]=new _i(n,1,!1,n.toLowerCase(),null,!0,!0)});function eM(n,e,t,i){var r=qn.hasOwnProperty(e)?qn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uO(e,t,r,i)&&(t=null),i||r===null?lO(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var lo=tP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ap=Symbol.for("react.element"),Ac=Symbol.for("react.portal"),_c=Symbol.for("react.fragment"),tM=Symbol.for("react.strict_mode"),Nx=Symbol.for("react.profiler"),iP=Symbol.for("react.provider"),rP=Symbol.for("react.context"),nM=Symbol.for("react.forward_ref"),Ox=Symbol.for("react.suspense"),Ux=Symbol.for("react.suspense_list"),iM=Symbol.for("react.memo"),Io=Symbol.for("react.lazy"),sP=Symbol.for("react.offscreen"),iw=Symbol.iterator;function Zu(n){return n===null||typeof n!="object"?null:(n=iw&&n[iw]||n["@@iterator"],typeof n=="function"?n:null)}var fn=Object.assign,Jv;function Tf(n){if(Jv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Jv=e&&e[1]||""}return`
`+Jv+n}var Xv=!1;function Kv(n,e){if(!n||Xv)return"";Xv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Tf(n):""}function fO(n){switch(n.tag){case 5:return Tf(n.type);case 16:return Tf("Lazy");case 13:return Tf("Suspense");case 19:return Tf("SuspenseList");case 0:case 2:case 15:return n=Kv(n.type,!1),n;case 11:return n=Kv(n.type.render,!1),n;case 1:return n=Kv(n.type,!0),n;default:return""}}function kx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _c:return"Fragment";case Ac:return"Portal";case Nx:return"Profiler";case tM:return"StrictMode";case Ox:return"Suspense";case Ux:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case rP:return(n.displayName||"Context")+".Consumer";case iP:return(n._context.displayName||"Context")+".Provider";case nM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case iM:return e=n.displayName||null,e!==null?e:kx(n.type)||"Memo";case Io:e=n._payload,n=n._init;try{return kx(n(e))}catch{}}return null}function hO(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kx(e);case 8:return e===tM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oP(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dO(n){var e=oP(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function _p(n){n._valueTracker||(n._valueTracker=dO(n))}function aP(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=oP(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function ng(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function zx(n,e){var t=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function rw(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ta(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lP(n,e){e=e.checked,e!=null&&eM(n,"checked",e,!1)}function Gx(n,e){lP(n,e);var t=ta(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Hx(n,e.type,t):e.hasOwnProperty("defaultValue")&&Hx(n,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function sw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Hx(n,e,t){(e!=="number"||ng(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var bf=Array.isArray;function Gc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ta(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Vx(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ow(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Re(92));if(bf(t)){if(1<t.length)throw Error(Re(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ta(t)}}function cP(n,e){var t=ta(e.value),i=ta(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function aw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function uP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?uP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Mp,fP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Mp=Mp||document.createElement("div"),Mp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function sh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pO=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(n){pO.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Of[e]=Of[n]})});function hP(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Of.hasOwnProperty(n)&&Of[n]?(""+e).trim():e+"px"}function dP(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=hP(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var mO=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jx(n,e){if(e){if(mO[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function Jx(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xx=null;function rM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kx=null,Hc=null,Vc=null;function lw(n){if(n=Wh(n)){if(typeof Kx!="function")throw Error(Re(280));var e=n.stateNode;e&&(e=Yg(e),Kx(n.stateNode,n.type,e))}}function pP(n){Hc?Vc?Vc.push(n):Vc=[n]:Hc=n}function mP(){if(Hc){var n=Hc,e=Vc;if(Vc=Hc=null,lw(n),e)for(n=0;n<e.length;n++)lw(e[n])}}function gP(n,e){return n(e)}function yP(){}var Yv=!1;function vP(n,e,t){if(Yv)return n(e,t);Yv=!0;try{return gP(n,e,t)}finally{Yv=!1,(Hc!==null||Vc!==null)&&(yP(),mP())}}function oh(n,e){var t=n.stateNode;if(t===null)return null;var i=Yg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Re(231,e,typeof t));return t}var Yx=!1;if(eo)try{var $u={};Object.defineProperty($u,"passive",{get:function(){Yx=!0}}),window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{Yx=!1}function gO(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var Uf=!1,ig=null,rg=!1,Qx=null,yO={onError:function(n){Uf=!0,ig=n}};function vO(n,e,t,i,r,s,o,a,l){Uf=!1,ig=null,gO.apply(yO,arguments)}function xO(n,e,t,i,r,s,o,a,l){if(vO.apply(this,arguments),Uf){if(Uf){var c=ig;Uf=!1,ig=null}else throw Error(Re(198));rg||(rg=!0,Qx=c)}}function El(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function xP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function cw(n){if(El(n)!==n)throw Error(Re(188))}function AO(n){var e=n.alternate;if(!e){if(e=El(n),e===null)throw Error(Re(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return cw(r),n;if(s===i)return cw(r),e;s=s.sibling}throw Error(Re(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Re(189))}}if(t.alternate!==i)throw Error(Re(190))}if(t.tag!==3)throw Error(Re(188));return t.stateNode.current===t?n:e}function AP(n){return n=AO(n),n!==null?_P(n):null}function _P(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=_P(n);if(e!==null)return e;n=n.sibling}return null}var MP=er.unstable_scheduleCallback,uw=er.unstable_cancelCallback,_O=er.unstable_shouldYield,MO=er.unstable_requestPaint,An=er.unstable_now,SO=er.unstable_getCurrentPriorityLevel,sM=er.unstable_ImmediatePriority,SP=er.unstable_UserBlockingPriority,sg=er.unstable_NormalPriority,EO=er.unstable_LowPriority,EP=er.unstable_IdlePriority,jg=null,gs=null;function wO(n){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(jg,n,void 0,(n.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:bO,CO=Math.log,TO=Math.LN2;function bO(n){return n>>>=0,n===0?32:31-(CO(n)/TO|0)|0}var Sp=64,Ep=4194304;function Rf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function og(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Rf(a):(s&=o,s!==0&&(i=Rf(s)))}else o=t&~r,o!==0?i=Rf(o):s!==0&&(i=Rf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Vr(e),r=1<<t,i|=n[t],e&=~r;return i}function RO(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PO(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Vr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=RO(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function qx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function wP(){var n=Sp;return Sp<<=1,!(Sp&4194240)&&(Sp=64),n}function Qv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Hh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Vr(e),n[e]=t}function BO(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Vr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function oM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Vr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var zt=0;function CP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var TP,aM,bP,RP,PP,Zx=!1,wp=[],Ho=null,Vo=null,Wo=null,ah=new Map,lh=new Map,Oo=[],IO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(n,e){switch(n){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(e.pointerId)}}function ef(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Wh(e),e!==null&&aM(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function LO(n,e,t,i,r){switch(e){case"focusin":return Ho=ef(Ho,n,e,t,i,r),!0;case"dragenter":return Vo=ef(Vo,n,e,t,i,r),!0;case"mouseover":return Wo=ef(Wo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ah.set(s,ef(ah.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,lh.set(s,ef(lh.get(s)||null,n,e,t,i,r)),!0}return!1}function BP(n){var e=Ka(n.target);if(e!==null){var t=El(e);if(t!==null){if(e=t.tag,e===13){if(e=xP(t),e!==null){n.blockedOn=e,PP(n.priority,function(){bP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=$x(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Xx=i,t.target.dispatchEvent(i),Xx=null}else return e=Wh(t),e!==null&&aM(e),n.blockedOn=t,!1;e.shift()}return!0}function hw(n,e,t){Fm(n)&&t.delete(e)}function DO(){Zx=!1,Ho!==null&&Fm(Ho)&&(Ho=null),Vo!==null&&Fm(Vo)&&(Vo=null),Wo!==null&&Fm(Wo)&&(Wo=null),ah.forEach(hw),lh.forEach(hw)}function tf(n,e){n.blockedOn===e&&(n.blockedOn=null,Zx||(Zx=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,DO)))}function ch(n){function e(r){return tf(r,n)}if(0<wp.length){tf(wp[0],n);for(var t=1;t<wp.length;t++){var i=wp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ho!==null&&tf(Ho,n),Vo!==null&&tf(Vo,n),Wo!==null&&tf(Wo,n),ah.forEach(e),lh.forEach(e),t=0;t<Oo.length;t++)i=Oo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Oo.length&&(t=Oo[0],t.blockedOn===null);)BP(t),t.blockedOn===null&&Oo.shift()}var Wc=lo.ReactCurrentBatchConfig,ag=!0;function FO(n,e,t,i){var r=zt,s=Wc.transition;Wc.transition=null;try{zt=1,lM(n,e,t,i)}finally{zt=r,Wc.transition=s}}function NO(n,e,t,i){var r=zt,s=Wc.transition;Wc.transition=null;try{zt=4,lM(n,e,t,i)}finally{zt=r,Wc.transition=s}}function lM(n,e,t,i){if(ag){var r=$x(n,e,t,i);if(r===null)o0(n,e,i,lg,t),fw(n,i);else if(LO(r,n,e,t,i))i.stopPropagation();else if(fw(n,i),e&4&&-1<IO.indexOf(n)){for(;r!==null;){var s=Wh(r);if(s!==null&&TP(s),s=$x(n,e,t,i),s===null&&o0(n,e,i,lg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else o0(n,e,i,null,t)}}var lg=null;function $x(n,e,t,i){if(lg=null,n=rM(i),n=Ka(n),n!==null)if(e=El(n),e===null)n=null;else if(t=e.tag,t===13){if(n=xP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return lg=n,null}function IP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SO()){case sM:return 1;case SP:return 4;case sg:case EO:return 16;case EP:return 536870912;default:return 16}default:return 16}}var ko=null,cM=null,Nm=null;function LP(){if(Nm)return Nm;var n,e=cM,t=e.length,i,r="value"in ko?ko.value:ko.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Nm=r.slice(n,1<i?1-i:void 0)}function Om(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Cp(){return!0}function dw(){return!1}function rr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cp:dw,this.isPropagationStopped=dw,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),e}var Mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uM=rr(Mu),Vh=fn({},Mu,{view:0,detail:0}),OO=rr(Vh),qv,Zv,nf,Jg=fn({},Vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nf&&(nf&&n.type==="mousemove"?(qv=n.screenX-nf.screenX,Zv=n.screenY-nf.screenY):Zv=qv=0,nf=n),qv)},movementY:function(n){return"movementY"in n?n.movementY:Zv}}),pw=rr(Jg),UO=fn({},Jg,{dataTransfer:0}),kO=rr(UO),zO=fn({},Vh,{relatedTarget:0}),$v=rr(zO),GO=fn({},Mu,{animationName:0,elapsedTime:0,pseudoElement:0}),HO=rr(GO),VO=fn({},Mu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),WO=rr(VO),jO=fn({},Mu,{data:0}),mw=rr(jO),JO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YO(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=KO[n])?!!e[n]:!1}function fM(){return YO}var QO=fn({},Vh,{key:function(n){if(n.key){var e=JO[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Om(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?XO[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fM,charCode:function(n){return n.type==="keypress"?Om(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Om(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qO=rr(QO),ZO=fn({},Jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=rr(ZO),$O=fn({},Vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fM}),eU=rr($O),tU=fn({},Mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),nU=rr(tU),iU=fn({},Jg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rU=rr(iU),sU=[9,13,27,32],hM=eo&&"CompositionEvent"in window,kf=null;eo&&"documentMode"in document&&(kf=document.documentMode);var oU=eo&&"TextEvent"in window&&!kf,DP=eo&&(!hM||kf&&8<kf&&11>=kf),yw=String.fromCharCode(32),vw=!1;function FP(n,e){switch(n){case"keyup":return sU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mc=!1;function aU(n,e){switch(n){case"compositionend":return NP(e);case"keypress":return e.which!==32?null:(vw=!0,yw);case"textInput":return n=e.data,n===yw&&vw?null:n;default:return null}}function lU(n,e){if(Mc)return n==="compositionend"||!hM&&FP(n,e)?(n=LP(),Nm=cM=ko=null,Mc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DP&&e.locale!=="ko"?null:e.data;default:return null}}var cU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!cU[n.type]:e==="textarea"}function OP(n,e,t,i){pP(i),e=cg(e,"onChange"),0<e.length&&(t=new uM("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var zf=null,uh=null;function uU(n){KP(n,0)}function Xg(n){var e=wc(n);if(aP(e))return n}function fU(n,e){if(n==="change")return e}var UP=!1;if(eo){var e0;if(eo){var t0="oninput"in document;if(!t0){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),t0=typeof Aw.oninput=="function"}e0=t0}else e0=!1;UP=e0&&(!document.documentMode||9<document.documentMode)}function _w(){zf&&(zf.detachEvent("onpropertychange",kP),uh=zf=null)}function kP(n){if(n.propertyName==="value"&&Xg(uh)){var e=[];OP(e,uh,n,rM(n)),vP(uU,e)}}function hU(n,e,t){n==="focusin"?(_w(),zf=e,uh=t,zf.attachEvent("onpropertychange",kP)):n==="focusout"&&_w()}function dU(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xg(uh)}function pU(n,e){if(n==="click")return Xg(e)}function mU(n,e){if(n==="input"||n==="change")return Xg(e)}function gU(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Yr=typeof Object.is=="function"?Object.is:gU;function fh(n,e){if(Yr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Fx.call(e,r)||!Yr(n[r],e[r]))return!1}return!0}function Mw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sw(n,e){var t=Mw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Mw(t)}}function zP(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?zP(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function GP(){for(var n=window,e=ng();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=ng(n.document)}return e}function dM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function yU(n){var e=GP(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&zP(t.ownerDocument.documentElement,t)){if(i!==null&&dM(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Sw(t,s);var o=Sw(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vU=eo&&"documentMode"in document&&11>=document.documentMode,Sc=null,eA=null,Gf=null,tA=!1;function Ew(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;tA||Sc==null||Sc!==ng(i)||(i=Sc,"selectionStart"in i&&dM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gf&&fh(Gf,i)||(Gf=i,i=cg(eA,"onSelect"),0<i.length&&(e=new uM("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Sc)))}function Tp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ec={animationend:Tp("Animation","AnimationEnd"),animationiteration:Tp("Animation","AnimationIteration"),animationstart:Tp("Animation","AnimationStart"),transitionend:Tp("Transition","TransitionEnd")},n0={},HP={};eo&&(HP=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Kg(n){if(n0[n])return n0[n];if(!Ec[n])return n;var e=Ec[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in HP)return n0[n]=e[t];return n}var VP=Kg("animationend"),WP=Kg("animationiteration"),jP=Kg("animationstart"),JP=Kg("transitionend"),XP=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(n,e){XP.set(n,e),Sl(e,[n])}for(var i0=0;i0<ww.length;i0++){var r0=ww[i0],xU=r0.toLowerCase(),AU=r0[0].toUpperCase()+r0.slice(1);ua(xU,"on"+AU)}ua(VP,"onAnimationEnd");ua(WP,"onAnimationIteration");ua(jP,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(JP,"onTransitionEnd");tu("onMouseEnter",["mouseout","mouseover"]);tu("onMouseLeave",["mouseout","mouseover"]);tu("onPointerEnter",["pointerout","pointerover"]);tu("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_U=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pf));function Cw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,xO(i,e,void 0,n),n.currentTarget=null}function KP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Cw(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Cw(r,a,c),s=l}}}if(rg)throw n=Qx,rg=!1,Qx=null,n}function Kt(n,e){var t=e[oA];t===void 0&&(t=e[oA]=new Set);var i=n+"__bubble";t.has(i)||(YP(e,n,2,!1),t.add(i))}function s0(n,e,t){var i=0;e&&(i|=4),YP(t,n,i,e)}var bp="_reactListening"+Math.random().toString(36).slice(2);function hh(n){if(!n[bp]){n[bp]=!0,nP.forEach(function(t){t!=="selectionchange"&&(_U.has(t)||s0(t,!1,n),s0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[bp]||(e[bp]=!0,s0("selectionchange",!1,e))}}function YP(n,e,t,i){switch(IP(e)){case 1:var r=FO;break;case 4:r=NO;break;default:r=lM}t=r.bind(null,e,t,n),r=void 0,!Yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function o0(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ka(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}vP(function(){var c=s,h=rM(t),d=[];e:{var p=XP.get(n);if(p!==void 0){var m=uM,v=n;switch(n){case"keypress":if(Om(t)===0)break e;case"keydown":case"keyup":m=qO;break;case"focusin":v="focus",m=$v;break;case"focusout":v="blur",m=$v;break;case"beforeblur":case"afterblur":m=$v;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eU;break;case VP:case WP:case jP:m=HO;break;case JP:m=nU;break;case"scroll":m=OO;break;case"wheel":m=rU;break;case"copy":case"cut":case"paste":m=WO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gw}var x=(e&4)!==0,_=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var A=c,M;A!==null;){M=A;var E=M.stateNode;if(M.tag===5&&E!==null&&(M=E,g!==null&&(E=oh(A,g),E!=null&&x.push(dh(A,E,M)))),_)break;A=A.return}0<x.length&&(p=new m(p,v,null,t,h),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Xx&&(v=t.relatedTarget||t.fromElement)&&(Ka(v)||v[to]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?Ka(v):null,v!==null&&(_=El(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=pw,E="onMouseLeave",g="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(x=gw,E="onPointerLeave",g="onPointerEnter",A="pointer"),_=m==null?p:wc(m),M=v==null?p:wc(v),p=new x(E,A+"leave",m,t,h),p.target=_,p.relatedTarget=M,E=null,Ka(h)===c&&(x=new x(g,A+"enter",v,t,h),x.target=M,x.relatedTarget=_,E=x),_=E,m&&v)t:{for(x=m,g=v,A=0,M=x;M;M=jl(M))A++;for(M=0,E=g;E;E=jl(E))M++;for(;0<A-M;)x=jl(x),A--;for(;0<M-A;)g=jl(g),M--;for(;A--;){if(x===g||g!==null&&x===g.alternate)break t;x=jl(x),g=jl(g)}x=null}else x=null;m!==null&&Tw(d,p,m,x,!1),v!==null&&_!==null&&Tw(d,_,v,x,!0)}}e:{if(p=c?wc(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=fU;else if(xw(p))if(UP)C=mU;else{C=dU;var R=hU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=pU);if(C&&(C=C(n,c))){OP(d,C,t,h);break e}R&&R(n,p,c),n==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Hx(p,"number",p.value)}switch(R=c?wc(c):window,n){case"focusin":(xw(R)||R.contentEditable==="true")&&(Sc=R,eA=c,Gf=null);break;case"focusout":Gf=eA=Sc=null;break;case"mousedown":tA=!0;break;case"contextmenu":case"mouseup":case"dragend":tA=!1,Ew(d,t,h);break;case"selectionchange":if(vU)break;case"keydown":case"keyup":Ew(d,t,h)}var B;if(hM)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Mc?FP(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(DP&&t.locale!=="ko"&&(Mc||P!=="onCompositionStart"?P==="onCompositionEnd"&&Mc&&(B=LP()):(ko=h,cM="value"in ko?ko.value:ko.textContent,Mc=!0)),R=cg(c,P),0<R.length&&(P=new mw(P,n,null,t,h),d.push({event:P,listeners:R}),B?P.data=B:(B=NP(t),B!==null&&(P.data=B)))),(B=oU?aU(n,t):lU(n,t))&&(c=cg(c,"onBeforeInput"),0<c.length&&(h=new mw("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=B))}KP(d,e)})}function dh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function cg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=oh(n,t),s!=null&&i.unshift(dh(n,s,r)),s=oh(n,e),s!=null&&i.push(dh(n,s,r))),n=n.return}return i}function jl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Tw(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=oh(t,s),l!=null&&o.unshift(dh(t,l,a))):r||(l=oh(t,s),l!=null&&o.push(dh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var MU=/\r\n?/g,SU=/\u0000|\uFFFD/g;function bw(n){return(typeof n=="string"?n:""+n).replace(MU,`
`).replace(SU,"")}function Rp(n,e,t){if(e=bw(e),bw(n)!==e&&t)throw Error(Re(425))}function ug(){}var nA=null,iA=null;function rA(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sA=typeof setTimeout=="function"?setTimeout:void 0,EU=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,wU=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(n){return Rw.resolve(null).then(n).catch(CU)}:sA;function CU(n){setTimeout(function(){throw n})}function a0(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),ch(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);ch(e)}function jo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Pw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Su=Math.random().toString(36).slice(2),ms="__reactFiber$"+Su,ph="__reactProps$"+Su,to="__reactContainer$"+Su,oA="__reactEvents$"+Su,TU="__reactListeners$"+Su,bU="__reactHandles$"+Su;function Ka(n){var e=n[ms];if(e)return e;for(var t=n.parentNode;t;){if(e=t[to]||t[ms]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Pw(n);n!==null;){if(t=n[ms])return t;n=Pw(n)}return e}n=t,t=n.parentNode}return null}function Wh(n){return n=n[ms]||n[to],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function wc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Re(33))}function Yg(n){return n[ph]||null}var aA=[],Cc=-1;function fa(n){return{current:n}}function Qt(n){0>Cc||(n.current=aA[Cc],aA[Cc]=null,Cc--)}function Xt(n,e){Cc++,aA[Cc]=n.current,n.current=e}var na={},ci=fa(na),Ii=fa(!1),fl=na;function nu(n,e){var t=n.type.contextTypes;if(!t)return na;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Li(n){return n=n.childContextTypes,n!=null}function fg(){Qt(Ii),Qt(ci)}function Bw(n,e,t){if(ci.current!==na)throw Error(Re(168));Xt(ci,e),Xt(Ii,t)}function QP(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Re(108,hO(n)||"Unknown",r));return fn({},t,i)}function hg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||na,fl=ci.current,Xt(ci,n),Xt(Ii,Ii.current),!0}function Iw(n,e,t){var i=n.stateNode;if(!i)throw Error(Re(169));t?(n=QP(n,e,fl),i.__reactInternalMemoizedMergedChildContext=n,Qt(Ii),Qt(ci),Xt(ci,n)):Qt(Ii),Xt(Ii,t)}var Hs=null,Qg=!1,l0=!1;function qP(n){Hs===null?Hs=[n]:Hs.push(n)}function RU(n){Qg=!0,qP(n)}function ha(){if(!l0&&Hs!==null){l0=!0;var n=0,e=zt;try{var t=Hs;for(zt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Hs=null,Qg=!1}catch(r){throw Hs!==null&&(Hs=Hs.slice(n+1)),MP(sM,ha),r}finally{zt=e,l0=!1}}return null}var Tc=[],bc=0,dg=null,pg=0,Ar=[],_r=0,hl=null,js=1,Js="";function Oa(n,e){Tc[bc++]=pg,Tc[bc++]=dg,dg=n,pg=e}function ZP(n,e,t){Ar[_r++]=js,Ar[_r++]=Js,Ar[_r++]=hl,hl=n;var i=js;n=Js;var r=32-Vr(i)-1;i&=~(1<<r),t+=1;var s=32-Vr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,js=1<<32-Vr(e)+r|t<<r|i,Js=s+n}else js=1<<s|t<<r|i,Js=n}function pM(n){n.return!==null&&(Oa(n,1),ZP(n,1,0))}function mM(n){for(;n===dg;)dg=Tc[--bc],Tc[bc]=null,pg=Tc[--bc],Tc[bc]=null;for(;n===hl;)hl=Ar[--_r],Ar[_r]=null,Js=Ar[--_r],Ar[_r]=null,js=Ar[--_r],Ar[_r]=null}var Qi=null,Ji=null,en=!1,Gr=null;function $P(n,e){var t=Sr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Lw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Qi=n,Ji=jo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Qi=n,Ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=hl!==null?{id:js,overflow:Js}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Sr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Qi=n,Ji=null,!0):!1;default:return!1}}function lA(n){return(n.mode&1)!==0&&(n.flags&128)===0}function cA(n){if(en){var e=Ji;if(e){var t=e;if(!Lw(n,e)){if(lA(n))throw Error(Re(418));e=jo(t.nextSibling);var i=Qi;e&&Lw(n,e)?$P(i,t):(n.flags=n.flags&-4097|2,en=!1,Qi=n)}}else{if(lA(n))throw Error(Re(418));n.flags=n.flags&-4097|2,en=!1,Qi=n}}}function Dw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Qi=n}function Pp(n){if(n!==Qi)return!1;if(!en)return Dw(n),en=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!rA(n.type,n.memoizedProps)),e&&(e=Ji)){if(lA(n))throw eB(),Error(Re(418));for(;e;)$P(n,e),e=jo(e.nextSibling)}if(Dw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Re(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ji=jo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ji=null}}else Ji=Qi?jo(n.stateNode.nextSibling):null;return!0}function eB(){for(var n=Ji;n;)n=jo(n.nextSibling)}function iu(){Ji=Qi=null,en=!1}function gM(n){Gr===null?Gr=[n]:Gr.push(n)}var PU=lo.ReactCurrentBatchConfig;function Ur(n,e){if(n&&n.defaultProps){e=fn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var mg=fa(null),gg=null,Rc=null,yM=null;function vM(){yM=Rc=gg=null}function xM(n){var e=mg.current;Qt(mg),n._currentValue=e}function uA(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function jc(n,e){gg=n,yM=Rc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Bi=!0),n.firstContext=null)}function wr(n){var e=n._currentValue;if(yM!==n)if(n={context:n,memoizedValue:e,next:null},Rc===null){if(gg===null)throw Error(Re(308));Rc=n,gg.dependencies={lanes:0,firstContext:n}}else Rc=Rc.next=n;return e}var Ya=null;function AM(n){Ya===null?Ya=[n]:Ya.push(n)}function tB(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,AM(e)):(t.next=r.next,r.next=t),e.interleaved=t,no(n,i)}function no(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Lo=!1;function _M(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nB(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Qs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Jo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,no(n,t)}return r=i.interleaved,r===null?(e.next=e,AM(i)):(e.next=r.next,r.next=e),i.interleaved=e,no(n,t)}function Um(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,oM(n,t)}}function Fw(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function yg(n,e,t,i){var r=n.updateQueue;Lo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,x=a;switch(p=e,m=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=fn({},d,p);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);pl|=o,n.lanes=o,n.memoizedState=d}}function Nw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Re(191,r));r.call(i)}}}var iB=new tP.Component().refs;function fA(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:fn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var qg={isMounted:function(n){return(n=n._reactInternals)?El(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=vi(),r=Ko(n),s=Qs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Jo(n,s,r),e!==null&&(Wr(e,n,r,i),Um(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=vi(),r=Ko(n),s=Qs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Jo(n,s,r),e!==null&&(Wr(e,n,r,i),Um(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vi(),i=Ko(n),r=Qs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Jo(n,r,i),e!==null&&(Wr(e,n,i,t),Um(e,n,i))}};function Ow(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!fh(t,i)||!fh(r,s):!0}function rB(n,e,t){var i=!1,r=na,s=e.contextType;return typeof s=="object"&&s!==null?s=wr(s):(r=Li(e)?fl:ci.current,i=e.contextTypes,s=(i=i!=null)?nu(n,r):na),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qg,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Uw(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&qg.enqueueReplaceState(e,e.state,null)}function hA(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=iB,_M(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=wr(s):(s=Li(e)?fl:ci.current,r.context=nu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fA(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&qg.enqueueReplaceState(r,r.state,null),yg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function rf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Re(309));var i=t.stateNode}if(!i)throw Error(Re(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===iB&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Re(284));if(!t._owner)throw Error(Re(290,n))}return n}function Bp(n,e){throw n=Object.prototype.toString.call(e),Error(Re(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function kw(n){var e=n._init;return e(n._payload)}function sB(n){function e(g,A){if(n){var M=g.deletions;M===null?(g.deletions=[A],g.flags|=16):M.push(A)}}function t(g,A){if(!n)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function i(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=Yo(g,A),g.index=0,g.sibling=null,g}function s(g,A,M){return g.index=M,n?(M=g.alternate,M!==null?(M=M.index,M<A?(g.flags|=2,A):M):(g.flags|=2,A)):(g.flags|=1048576,A)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,A,M,E){return A===null||A.tag!==6?(A=m0(M,g.mode,E),A.return=g,A):(A=r(A,M),A.return=g,A)}function l(g,A,M,E){var C=M.type;return C===_c?h(g,A,M.props.children,E,M.key):A!==null&&(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Io&&kw(C)===A.type)?(E=r(A,M.props),E.ref=rf(g,A,M),E.return=g,E):(E=Wm(M.type,M.key,M.props,null,g.mode,E),E.ref=rf(g,A,M),E.return=g,E)}function c(g,A,M,E){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=g0(M,g.mode,E),A.return=g,A):(A=r(A,M.children||[]),A.return=g,A)}function h(g,A,M,E,C){return A===null||A.tag!==7?(A=rl(M,g.mode,E,C),A.return=g,A):(A=r(A,M),A.return=g,A)}function d(g,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=m0(""+A,g.mode,M),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ap:return M=Wm(A.type,A.key,A.props,null,g.mode,M),M.ref=rf(g,null,A),M.return=g,M;case Ac:return A=g0(A,g.mode,M),A.return=g,A;case Io:var E=A._init;return d(g,E(A._payload),M)}if(bf(A)||Zu(A))return A=rl(A,g.mode,M,null),A.return=g,A;Bp(g,A)}return null}function p(g,A,M,E){var C=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return C!==null?null:a(g,A,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ap:return M.key===C?l(g,A,M,E):null;case Ac:return M.key===C?c(g,A,M,E):null;case Io:return C=M._init,p(g,A,C(M._payload),E)}if(bf(M)||Zu(M))return C!==null?null:h(g,A,M,E,null);Bp(g,M)}return null}function m(g,A,M,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(M)||null,a(A,g,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ap:return g=g.get(E.key===null?M:E.key)||null,l(A,g,E,C);case Ac:return g=g.get(E.key===null?M:E.key)||null,c(A,g,E,C);case Io:var R=E._init;return m(g,A,M,R(E._payload),C)}if(bf(E)||Zu(E))return g=g.get(M)||null,h(A,g,E,C,null);Bp(A,E)}return null}function v(g,A,M,E){for(var C=null,R=null,B=A,P=A=0,b=null;B!==null&&P<M.length;P++){B.index>P?(b=B,B=null):b=B.sibling;var I=p(g,B,M[P],E);if(I===null){B===null&&(B=b);break}n&&B&&I.alternate===null&&e(g,B),A=s(I,A,P),R===null?C=I:R.sibling=I,R=I,B=b}if(P===M.length)return t(g,B),en&&Oa(g,P),C;if(B===null){for(;P<M.length;P++)B=d(g,M[P],E),B!==null&&(A=s(B,A,P),R===null?C=B:R.sibling=B,R=B);return en&&Oa(g,P),C}for(B=i(g,B);P<M.length;P++)b=m(B,g,P,M[P],E),b!==null&&(n&&b.alternate!==null&&B.delete(b.key===null?P:b.key),A=s(b,A,P),R===null?C=b:R.sibling=b,R=b);return n&&B.forEach(function(G){return e(g,G)}),en&&Oa(g,P),C}function x(g,A,M,E){var C=Zu(M);if(typeof C!="function")throw Error(Re(150));if(M=C.call(M),M==null)throw Error(Re(151));for(var R=C=null,B=A,P=A=0,b=null,I=M.next();B!==null&&!I.done;P++,I=M.next()){B.index>P?(b=B,B=null):b=B.sibling;var G=p(g,B,I.value,E);if(G===null){B===null&&(B=b);break}n&&B&&G.alternate===null&&e(g,B),A=s(G,A,P),R===null?C=G:R.sibling=G,R=G,B=b}if(I.done)return t(g,B),en&&Oa(g,P),C;if(B===null){for(;!I.done;P++,I=M.next())I=d(g,I.value,E),I!==null&&(A=s(I,A,P),R===null?C=I:R.sibling=I,R=I);return en&&Oa(g,P),C}for(B=i(g,B);!I.done;P++,I=M.next())I=m(B,g,P,I.value,E),I!==null&&(n&&I.alternate!==null&&B.delete(I.key===null?P:I.key),A=s(I,A,P),R===null?C=I:R.sibling=I,R=I);return n&&B.forEach(function(J){return e(g,J)}),en&&Oa(g,P),C}function _(g,A,M,E){if(typeof M=="object"&&M!==null&&M.type===_c&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Ap:e:{for(var C=M.key,R=A;R!==null;){if(R.key===C){if(C=M.type,C===_c){if(R.tag===7){t(g,R.sibling),A=r(R,M.props.children),A.return=g,g=A;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Io&&kw(C)===R.type){t(g,R.sibling),A=r(R,M.props),A.ref=rf(g,R,M),A.return=g,g=A;break e}t(g,R);break}else e(g,R);R=R.sibling}M.type===_c?(A=rl(M.props.children,g.mode,E,M.key),A.return=g,g=A):(E=Wm(M.type,M.key,M.props,null,g.mode,E),E.ref=rf(g,A,M),E.return=g,g=E)}return o(g);case Ac:e:{for(R=M.key;A!==null;){if(A.key===R)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){t(g,A.sibling),A=r(A,M.children||[]),A.return=g,g=A;break e}else{t(g,A);break}else e(g,A);A=A.sibling}A=g0(M,g.mode,E),A.return=g,g=A}return o(g);case Io:return R=M._init,_(g,A,R(M._payload),E)}if(bf(M))return v(g,A,M,E);if(Zu(M))return x(g,A,M,E);Bp(g,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(t(g,A.sibling),A=r(A,M),A.return=g,g=A):(t(g,A),A=m0(M,g.mode,E),A.return=g,g=A),o(g)):t(g,A)}return _}var ru=sB(!0),oB=sB(!1),jh={},ys=fa(jh),mh=fa(jh),gh=fa(jh);function Qa(n){if(n===jh)throw Error(Re(174));return n}function MM(n,e){switch(Xt(gh,e),Xt(mh,n),Xt(ys,jh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Wx(e,n)}Qt(ys),Xt(ys,e)}function su(){Qt(ys),Qt(mh),Qt(gh)}function aB(n){Qa(gh.current);var e=Qa(ys.current),t=Wx(e,n.type);e!==t&&(Xt(mh,n),Xt(ys,t))}function SM(n){mh.current===n&&(Qt(ys),Qt(mh))}var sn=fa(0);function vg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c0=[];function EM(){for(var n=0;n<c0.length;n++)c0[n]._workInProgressVersionPrimary=null;c0.length=0}var km=lo.ReactCurrentDispatcher,u0=lo.ReactCurrentBatchConfig,dl=0,un=null,Pn=null,Gn=null,xg=!1,Hf=!1,yh=0,BU=0;function ii(){throw Error(Re(321))}function wM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Yr(n[t],e[t]))return!1;return!0}function CM(n,e,t,i,r,s){if(dl=s,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,km.current=n===null||n.memoizedState===null?FU:NU,n=t(i,r),Hf){s=0;do{if(Hf=!1,yh=0,25<=s)throw Error(Re(301));s+=1,Gn=Pn=null,e.updateQueue=null,km.current=OU,n=t(i,r)}while(Hf)}if(km.current=Ag,e=Pn!==null&&Pn.next!==null,dl=0,Gn=Pn=un=null,xg=!1,e)throw Error(Re(300));return n}function TM(){var n=yh!==0;return yh=0,n}function hs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?un.memoizedState=Gn=n:Gn=Gn.next=n,Gn}function Cr(){if(Pn===null){var n=un.alternate;n=n!==null?n.memoizedState:null}else n=Pn.next;var e=Gn===null?un.memoizedState:Gn.next;if(e!==null)Gn=e,Pn=n;else{if(n===null)throw Error(Re(310));Pn=n,n={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Gn===null?un.memoizedState=Gn=n:Gn=Gn.next=n}return Gn}function vh(n,e){return typeof e=="function"?e(n):e}function f0(n){var e=Cr(),t=e.queue;if(t===null)throw Error(Re(311));t.lastRenderedReducer=n;var i=Pn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((dl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,un.lanes|=h,pl|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Yr(i,e.memoizedState)||(Bi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,un.lanes|=s,pl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function h0(n){var e=Cr(),t=e.queue;if(t===null)throw Error(Re(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Yr(s,e.memoizedState)||(Bi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function lB(){}function cB(n,e){var t=un,i=Cr(),r=e(),s=!Yr(i.memoizedState,r);if(s&&(i.memoizedState=r,Bi=!0),i=i.queue,bM(hB.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(t.flags|=2048,xh(9,fB.bind(null,t,i,r,e),void 0,null),Vn===null)throw Error(Re(349));dl&30||uB(t,e,r)}return r}function uB(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function fB(n,e,t,i){e.value=t,e.getSnapshot=i,dB(e)&&pB(n)}function hB(n,e,t){return t(function(){dB(e)&&pB(n)})}function dB(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Yr(n,t)}catch{return!0}}function pB(n){var e=no(n,1);e!==null&&Wr(e,n,1,-1)}function zw(n){var e=hs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:n},e.queue=n,n=n.dispatch=DU.bind(null,un,n),[e.memoizedState,n]}function xh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function mB(){return Cr().memoizedState}function zm(n,e,t,i){var r=hs();un.flags|=n,r.memoizedState=xh(1|e,t,void 0,i===void 0?null:i)}function Zg(n,e,t,i){var r=Cr();i=i===void 0?null:i;var s=void 0;if(Pn!==null){var o=Pn.memoizedState;if(s=o.destroy,i!==null&&wM(i,o.deps)){r.memoizedState=xh(e,t,s,i);return}}un.flags|=n,r.memoizedState=xh(1|e,t,s,i)}function Gw(n,e){return zm(8390656,8,n,e)}function bM(n,e){return Zg(2048,8,n,e)}function gB(n,e){return Zg(4,2,n,e)}function yB(n,e){return Zg(4,4,n,e)}function vB(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function xB(n,e,t){return t=t!=null?t.concat([n]):null,Zg(4,4,vB.bind(null,e,n),t)}function RM(){}function AB(n,e){var t=Cr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&wM(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function _B(n,e){var t=Cr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&wM(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function MB(n,e,t){return dl&21?(Yr(t,e)||(t=wP(),un.lanes|=t,pl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Bi=!0),n.memoizedState=t)}function IU(n,e){var t=zt;zt=t!==0&&4>t?t:4,n(!0);var i=u0.transition;u0.transition={};try{n(!1),e()}finally{zt=t,u0.transition=i}}function SB(){return Cr().memoizedState}function LU(n,e,t){var i=Ko(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},EB(n))wB(e,t);else if(t=tB(n,e,t,i),t!==null){var r=vi();Wr(t,n,i,r),CB(t,e,i)}}function DU(n,e,t){var i=Ko(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(EB(n))wB(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Yr(a,o)){var l=e.interleaved;l===null?(r.next=r,AM(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=tB(n,e,r,i),t!==null&&(r=vi(),Wr(t,n,i,r),CB(t,e,i))}}function EB(n){var e=n.alternate;return n===un||e!==null&&e===un}function wB(n,e){Hf=xg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function CB(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,oM(n,t)}}var Ag={readContext:wr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},FU={readContext:wr,useCallback:function(n,e){return hs().memoizedState=[n,e===void 0?null:e],n},useContext:wr,useEffect:Gw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,zm(4194308,4,vB.bind(null,e,n),t)},useLayoutEffect:function(n,e){return zm(4194308,4,n,e)},useInsertionEffect:function(n,e){return zm(4,2,n,e)},useMemo:function(n,e){var t=hs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=hs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=LU.bind(null,un,n),[i.memoizedState,n]},useRef:function(n){var e=hs();return n={current:n},e.memoizedState=n},useState:zw,useDebugValue:RM,useDeferredValue:function(n){return hs().memoizedState=n},useTransition:function(){var n=zw(!1),e=n[0];return n=IU.bind(null,n[1]),hs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=un,r=hs();if(en){if(t===void 0)throw Error(Re(407));t=t()}else{if(t=e(),Vn===null)throw Error(Re(349));dl&30||uB(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Gw(hB.bind(null,i,s,n),[n]),i.flags|=2048,xh(9,fB.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=hs(),e=Vn.identifierPrefix;if(en){var t=Js,i=js;t=(i&~(1<<32-Vr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=yh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=BU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},NU={readContext:wr,useCallback:AB,useContext:wr,useEffect:bM,useImperativeHandle:xB,useInsertionEffect:gB,useLayoutEffect:yB,useMemo:_B,useReducer:f0,useRef:mB,useState:function(){return f0(vh)},useDebugValue:RM,useDeferredValue:function(n){var e=Cr();return MB(e,Pn.memoizedState,n)},useTransition:function(){var n=f0(vh)[0],e=Cr().memoizedState;return[n,e]},useMutableSource:lB,useSyncExternalStore:cB,useId:SB,unstable_isNewReconciler:!1},OU={readContext:wr,useCallback:AB,useContext:wr,useEffect:bM,useImperativeHandle:xB,useInsertionEffect:gB,useLayoutEffect:yB,useMemo:_B,useReducer:h0,useRef:mB,useState:function(){return h0(vh)},useDebugValue:RM,useDeferredValue:function(n){var e=Cr();return Pn===null?e.memoizedState=n:MB(e,Pn.memoizedState,n)},useTransition:function(){var n=h0(vh)[0],e=Cr().memoizedState;return[n,e]},useMutableSource:lB,useSyncExternalStore:cB,useId:SB,unstable_isNewReconciler:!1};function ou(n,e){try{var t="",i=e;do t+=fO(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function d0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function dA(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var UU=typeof WeakMap=="function"?WeakMap:Map;function TB(n,e,t){t=Qs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Mg||(Mg=!0,SA=i),dA(n,e)},t}function bB(n,e,t){t=Qs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){dA(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){dA(n,e),typeof i!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Hw(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new UU;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=ZU.bind(null,n,e,t),e.then(n,n))}function Vw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Ww(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Qs(-1,1),e.tag=2,Jo(t,e,1))),t.lanes|=1),n)}var kU=lo.ReactCurrentOwner,Bi=!1;function yi(n,e,t,i){e.child=n===null?oB(e,null,t,i):ru(e,n.child,t,i)}function jw(n,e,t,i,r){t=t.render;var s=e.ref;return jc(e,r),i=CM(n,e,t,i,s,r),t=TM(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,io(n,e,r)):(en&&t&&pM(e),e.flags|=1,yi(n,e,i,r),e.child)}function Jw(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!OM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,RB(n,e,s,i,r)):(n=Wm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:fh,t(o,i)&&n.ref===e.ref)return io(n,e,r)}return e.flags|=1,n=Yo(s,i),n.ref=e.ref,n.return=e,e.child=n}function RB(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(fh(s,i)&&n.ref===e.ref)if(Bi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Bi=!0);else return e.lanes=n.lanes,io(n,e,r)}return pA(n,e,t,i,r)}function PB(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Bc,Wi),Wi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Xt(Bc,Wi),Wi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Xt(Bc,Wi),Wi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Xt(Bc,Wi),Wi|=i;return yi(n,e,r,t),e.child}function BB(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function pA(n,e,t,i,r){var s=Li(t)?fl:ci.current;return s=nu(e,s),jc(e,r),t=CM(n,e,t,i,s,r),i=TM(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,io(n,e,r)):(en&&i&&pM(e),e.flags|=1,yi(n,e,t,r),e.child)}function Xw(n,e,t,i,r){if(Li(t)){var s=!0;hg(e)}else s=!1;if(jc(e,r),e.stateNode===null)Gm(n,e),rB(e,t,i),hA(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=wr(c):(c=Li(t)?fl:ci.current,c=nu(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Uw(e,o,i,c),Lo=!1;var p=e.memoizedState;o.state=p,yg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Ii.current||Lo?(typeof h=="function"&&(fA(e,t,h,i),l=e.memoizedState),(a=Lo||Ow(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,nB(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ur(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=wr(l):(l=Li(t)?fl:ci.current,l=nu(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Uw(e,o,i,l),Lo=!1,p=e.memoizedState,o.state=p,yg(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||Ii.current||Lo?(typeof m=="function"&&(fA(e,t,m,i),v=e.memoizedState),(c=Lo||Ow(e,t,c,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return mA(n,e,t,i,s,r)}function mA(n,e,t,i,r,s){BB(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Iw(e,t,!1),io(n,e,s);i=e.stateNode,kU.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=ru(e,n.child,null,s),e.child=ru(e,null,a,s)):yi(n,e,a,s),e.memoizedState=i.state,r&&Iw(e,t,!0),e.child}function IB(n){var e=n.stateNode;e.pendingContext?Bw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Bw(n,e.context,!1),MM(n,e.containerInfo)}function Kw(n,e,t,i,r){return iu(),gM(r),e.flags|=256,yi(n,e,t,i),e.child}var gA={dehydrated:null,treeContext:null,retryLane:0};function yA(n){return{baseLanes:n,cachePool:null,transitions:null}}function LB(n,e,t){var i=e.pendingProps,r=sn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Xt(sn,r&1),n===null)return cA(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ty(o,i,0,null),n=rl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=yA(t),e.memoizedState=gA,n):PM(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return zU(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Yo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Yo(a,s):(s=rl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?yA(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=gA,i}return s=n.child,n=s.sibling,i=Yo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function PM(n,e){return e=ty({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ip(n,e,t,i){return i!==null&&gM(i),ru(e,n.child,null,t),n=PM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function zU(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=d0(Error(Re(422))),Ip(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ty({mode:"visible",children:i.children},r,0,null),s=rl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ru(e,n.child,null,o),e.child.memoizedState=yA(o),e.memoizedState=gA,s);if(!(e.mode&1))return Ip(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Re(419)),i=d0(s,i,void 0),Ip(n,e,o,i)}if(a=(o&n.childLanes)!==0,Bi||a){if(i=Vn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,no(n,r),Wr(i,n,r,-1))}return NM(),i=d0(Error(Re(421))),Ip(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=$U.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Ji=jo(r.nextSibling),Qi=e,en=!0,Gr=null,n!==null&&(Ar[_r++]=js,Ar[_r++]=Js,Ar[_r++]=hl,js=n.id,Js=n.overflow,hl=e),e=PM(e,i.children),e.flags|=4096,e)}function Yw(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),uA(n.return,e,t)}function p0(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function DB(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(yi(n,e,i.children,t),i=sn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yw(n,t,e);else if(n.tag===19)Yw(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Xt(sn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&vg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),p0(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&vg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}p0(e,!0,t,null,s);break;case"together":p0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function io(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),pl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Re(153));if(e.child!==null){for(n=e.child,t=Yo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Yo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function GU(n,e,t){switch(e.tag){case 3:IB(e),iu();break;case 5:aB(e);break;case 1:Li(e.type)&&hg(e);break;case 4:MM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Xt(mg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Xt(sn,sn.current&1),e.flags|=128,null):t&e.child.childLanes?LB(n,e,t):(Xt(sn,sn.current&1),n=io(n,e,t),n!==null?n.sibling:null);Xt(sn,sn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return DB(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Xt(sn,sn.current),i)break;return null;case 22:case 23:return e.lanes=0,PB(n,e,t)}return io(n,e,t)}var FB,vA,NB,OB;FB=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};vA=function(){};NB=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Qa(ys.current);var s=null;switch(t){case"input":r=zx(n,r),i=zx(n,i),s=[];break;case"select":r=fn({},r,{value:void 0}),i=fn({},i,{value:void 0}),s=[];break;case"textarea":r=Vx(n,r),i=Vx(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=ug)}jx(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};OB=function(n,e,t,i){t!==i&&(e.flags|=4)};function sf(n,e){if(!en)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ri(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function HU(n,e,t){var i=e.pendingProps;switch(mM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(e),null;case 1:return Li(e.type)&&fg(),ri(e),null;case 3:return i=e.stateNode,su(),Qt(Ii),Qt(ci),EM(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Pp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(CA(Gr),Gr=null))),vA(n,e),ri(e),null;case 5:SM(e);var r=Qa(gh.current);if(t=e.type,n!==null&&e.stateNode!=null)NB(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Re(166));return ri(e),null}if(n=Qa(ys.current),Pp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ms]=e,i[ph]=s,n=(e.mode&1)!==0,t){case"dialog":Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":case"embed":Kt("load",i);break;case"video":case"audio":for(r=0;r<Pf.length;r++)Kt(Pf[r],i);break;case"source":Kt("error",i);break;case"img":case"image":case"link":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"input":rw(i,s),Kt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",i);break;case"textarea":ow(i,s),Kt("invalid",i)}jx(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rp(i.textContent,a,n),r=["children",""+a]):rh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kt("scroll",i)}switch(t){case"input":_p(i),sw(i,s,!0);break;case"textarea":_p(i),aw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=ug)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=uP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ms]=e,n[ph]=i,FB(n,e,!1,!1),e.stateNode=n;e:{switch(o=Jx(t,i),t){case"dialog":Kt("cancel",n),Kt("close",n),r=i;break;case"iframe":case"object":case"embed":Kt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Pf.length;r++)Kt(Pf[r],n);r=i;break;case"source":Kt("error",n),r=i;break;case"img":case"image":case"link":Kt("error",n),Kt("load",n),r=i;break;case"details":Kt("toggle",n),r=i;break;case"input":rw(n,i),r=zx(n,i),Kt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=fn({},i,{value:void 0}),Kt("invalid",n);break;case"textarea":ow(n,i),r=Vx(n,i),Kt("invalid",n);break;default:r=i}jx(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dP(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fP(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&sh(n,l):typeof l=="number"&&sh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",n):l!=null&&eM(n,s,l,o))}switch(t){case"input":_p(n),sw(n,i,!1);break;case"textarea":_p(n),aw(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ta(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Gc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Gc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=ug)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ri(e),null;case 6:if(n&&e.stateNode!=null)OB(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Re(166));if(t=Qa(gh.current),Qa(ys.current),Pp(e)){if(i=e.stateNode,t=e.memoizedProps,i[ms]=e,(s=i.nodeValue!==t)&&(n=Qi,n!==null))switch(n.tag){case 3:Rp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Rp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ms]=e,e.stateNode=i}return ri(e),null;case 13:if(Qt(sn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(en&&Ji!==null&&e.mode&1&&!(e.flags&128))eB(),iu(),e.flags|=98560,s=!1;else if(s=Pp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Re(317));s[ms]=e}else iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ri(e),s=!1}else Gr!==null&&(CA(Gr),Gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||sn.current&1?In===0&&(In=3):NM())),e.updateQueue!==null&&(e.flags|=4),ri(e),null);case 4:return su(),vA(n,e),n===null&&hh(e.stateNode.containerInfo),ri(e),null;case 10:return xM(e.type._context),ri(e),null;case 17:return Li(e.type)&&fg(),ri(e),null;case 19:if(Qt(sn),s=e.memoizedState,s===null)return ri(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)sf(s,!1);else{if(In!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=vg(n),o!==null){for(e.flags|=128,sf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Xt(sn,sn.current&1|2),e.child}n=n.sibling}s.tail!==null&&An()>au&&(e.flags|=128,i=!0,sf(s,!1),e.lanes=4194304)}else{if(!i)if(n=vg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),sf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!en)return ri(e),null}else 2*An()-s.renderingStartTime>au&&t!==1073741824&&(e.flags|=128,i=!0,sf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=An(),e.sibling=null,t=sn.current,Xt(sn,i?t&1|2:t&1),e):(ri(e),null);case 22:case 23:return FM(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Wi&1073741824&&(ri(e),e.subtreeFlags&6&&(e.flags|=8192)):ri(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function VU(n,e){switch(mM(e),e.tag){case 1:return Li(e.type)&&fg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return su(),Qt(Ii),Qt(ci),EM(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return SM(e),null;case 13:if(Qt(sn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));iu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Qt(sn),null;case 4:return su(),null;case 10:return xM(e.type._context),null;case 22:case 23:return FM(),null;case 24:return null;default:return null}}var Lp=!1,ai=!1,WU=typeof WeakSet=="function"?WeakSet:Set,He=null;function Pc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){pn(n,e,i)}else t.current=null}function xA(n,e,t){try{t()}catch(i){pn(n,e,i)}}var Qw=!1;function jU(n,e){if(nA=ag,n=GP(),dM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(iA={focusedElem:n,selectionRange:t},ag=!1,He=e;He!==null;)if(e=He,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,He=n;else for(;He!==null;){e=He;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,g=e.stateNode,A=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ur(e.type,x),_);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(E){pn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}return v=Qw,Qw=!1,v}function Vf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&xA(e,t,s)}r=r.next}while(r!==i)}}function $g(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function AA(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function UB(n){var e=n.alternate;e!==null&&(n.alternate=null,UB(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ms],delete e[ph],delete e[oA],delete e[TU],delete e[bU])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kB(n){return n.tag===5||n.tag===3||n.tag===4}function qw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kB(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _A(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ug));else if(i!==4&&(n=n.child,n!==null))for(_A(n,e,t),n=n.sibling;n!==null;)_A(n,e,t),n=n.sibling}function MA(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(MA(n,e,t),n=n.sibling;n!==null;)MA(n,e,t),n=n.sibling}var Kn=null,zr=!1;function Mo(n,e,t){for(t=t.child;t!==null;)zB(n,e,t),t=t.sibling}function zB(n,e,t){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(jg,t)}catch{}switch(t.tag){case 5:ai||Pc(t,e);case 6:var i=Kn,r=zr;Kn=null,Mo(n,e,t),Kn=i,zr=r,Kn!==null&&(zr?(n=Kn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Kn.removeChild(t.stateNode));break;case 18:Kn!==null&&(zr?(n=Kn,t=t.stateNode,n.nodeType===8?a0(n.parentNode,t):n.nodeType===1&&a0(n,t),ch(n)):a0(Kn,t.stateNode));break;case 4:i=Kn,r=zr,Kn=t.stateNode.containerInfo,zr=!0,Mo(n,e,t),Kn=i,zr=r;break;case 0:case 11:case 14:case 15:if(!ai&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xA(t,e,o),r=r.next}while(r!==i)}Mo(n,e,t);break;case 1:if(!ai&&(Pc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){pn(t,e,a)}Mo(n,e,t);break;case 21:Mo(n,e,t);break;case 22:t.mode&1?(ai=(i=ai)||t.memoizedState!==null,Mo(n,e,t),ai=i):Mo(n,e,t);break;default:Mo(n,e,t)}}function Zw(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new WU),e.forEach(function(i){var r=e3.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Dr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kn=a.stateNode,zr=!1;break e;case 3:Kn=a.stateNode.containerInfo,zr=!0;break e;case 4:Kn=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(Kn===null)throw Error(Re(160));zB(s,o,r),Kn=null,zr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){pn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GB(e,n),e=e.sibling}function GB(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Dr(e,n),us(n),i&4){try{Vf(3,n,n.return),$g(3,n)}catch(x){pn(n,n.return,x)}try{Vf(5,n,n.return)}catch(x){pn(n,n.return,x)}}break;case 1:Dr(e,n),us(n),i&512&&t!==null&&Pc(t,t.return);break;case 5:if(Dr(e,n),us(n),i&512&&t!==null&&Pc(t,t.return),n.flags&32){var r=n.stateNode;try{sh(r,"")}catch(x){pn(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lP(r,s),Jx(a,o);var c=Jx(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?dP(r,d):h==="dangerouslySetInnerHTML"?fP(r,d):h==="children"?sh(r,d):eM(r,h,d,c)}switch(a){case"input":Gx(r,s);break;case"textarea":cP(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Gc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Gc(r,!!s.multiple,s.defaultValue,!0):Gc(r,!!s.multiple,s.multiple?[]:"",!1))}r[ph]=s}catch(x){pn(n,n.return,x)}}break;case 6:if(Dr(e,n),us(n),i&4){if(n.stateNode===null)throw Error(Re(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){pn(n,n.return,x)}}break;case 3:if(Dr(e,n),us(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{ch(e.containerInfo)}catch(x){pn(n,n.return,x)}break;case 4:Dr(e,n),us(n);break;case 13:Dr(e,n),us(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(LM=An())),i&4&&Zw(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(ai=(c=ai)||h,Dr(e,n),ai=c):Dr(e,n),us(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(He=n,h=n.child;h!==null;){for(d=He=h;He!==null;){switch(p=He,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vf(4,p,p.return);break;case 1:Pc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){pn(i,t,x)}}break;case 5:Pc(p,p.return);break;case 22:if(p.memoizedState!==null){eC(d);continue}}m!==null?(m.return=p,He=m):eC(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hP("display",o))}catch(x){pn(n,n.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){pn(n,n.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dr(e,n),us(n),i&4&&Zw(n);break;case 21:break;default:Dr(e,n),us(n)}}function us(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(kB(t)){var i=t;break e}t=t.return}throw Error(Re(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(sh(r,""),i.flags&=-33);var s=qw(n);MA(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=qw(n);_A(n,a,o);break;default:throw Error(Re(161))}}catch(l){pn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function JU(n,e,t){He=n,HB(n)}function HB(n,e,t){for(var i=(n.mode&1)!==0;He!==null;){var r=He,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Lp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ai;a=Lp;var c=ai;if(Lp=o,(ai=l)&&!c)for(He=r;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?tC(r):l!==null?(l.return=o,He=l):tC(r);for(;s!==null;)He=s,HB(s),s=s.sibling;He=r,Lp=a,ai=c}$w(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,He=s):$w(n)}}function $w(n){for(;He!==null;){var e=He;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ai||$g(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ai)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ur(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nw(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Nw(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ch(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}ai||e.flags&512&&AA(e)}catch(p){pn(e,e.return,p)}}if(e===n){He=null;break}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function eC(n){for(;He!==null;){var e=He;if(e===n){He=null;break}var t=e.sibling;if(t!==null){t.return=e.return,He=t;break}He=e.return}}function tC(n){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$g(4,e)}catch(l){pn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){pn(e,r,l)}}var s=e.return;try{AA(e)}catch(l){pn(e,s,l)}break;case 5:var o=e.return;try{AA(e)}catch(l){pn(e,o,l)}}}catch(l){pn(e,e.return,l)}if(e===n){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var XU=Math.ceil,_g=lo.ReactCurrentDispatcher,BM=lo.ReactCurrentOwner,Er=lo.ReactCurrentBatchConfig,Rt=0,Vn=null,Tn=null,Qn=0,Wi=0,Bc=fa(0),In=0,Ah=null,pl=0,ey=0,IM=0,Wf=null,bi=null,LM=0,au=1/0,Gs=null,Mg=!1,SA=null,Xo=null,Dp=!1,zo=null,Sg=0,jf=0,EA=null,Hm=-1,Vm=0;function vi(){return Rt&6?An():Hm!==-1?Hm:Hm=An()}function Ko(n){return n.mode&1?Rt&2&&Qn!==0?Qn&-Qn:PU.transition!==null?(Vm===0&&(Vm=wP()),Vm):(n=zt,n!==0||(n=window.event,n=n===void 0?16:IP(n.type)),n):1}function Wr(n,e,t,i){if(50<jf)throw jf=0,EA=null,Error(Re(185));Hh(n,t,i),(!(Rt&2)||n!==Vn)&&(n===Vn&&(!(Rt&2)&&(ey|=t),In===4&&Uo(n,Qn)),Di(n,i),t===1&&Rt===0&&!(e.mode&1)&&(au=An()+500,Qg&&ha()))}function Di(n,e){var t=n.callbackNode;PO(n,e);var i=og(n,n===Vn?Qn:0);if(i===0)t!==null&&uw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&uw(t),e===1)n.tag===0?RU(nC.bind(null,n)):qP(nC.bind(null,n)),wU(function(){!(Rt&6)&&ha()}),t=null;else{switch(CP(i)){case 1:t=sM;break;case 4:t=SP;break;case 16:t=sg;break;case 536870912:t=EP;break;default:t=sg}t=QB(t,VB.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function VB(n,e){if(Hm=-1,Vm=0,Rt&6)throw Error(Re(327));var t=n.callbackNode;if(Jc()&&n.callbackNode!==t)return null;var i=og(n,n===Vn?Qn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Eg(n,i);else{e=i;var r=Rt;Rt|=2;var s=jB();(Vn!==n||Qn!==e)&&(Gs=null,au=An()+500,il(n,e));do try{QU();break}catch(a){WB(n,a)}while(1);vM(),_g.current=s,Rt=r,Tn!==null?e=0:(Vn=null,Qn=0,e=In)}if(e!==0){if(e===2&&(r=qx(n),r!==0&&(i=r,e=wA(n,r))),e===1)throw t=Ah,il(n,0),Uo(n,i),Di(n,An()),t;if(e===6)Uo(n,i);else{if(r=n.current.alternate,!(i&30)&&!KU(r)&&(e=Eg(n,i),e===2&&(s=qx(n),s!==0&&(i=s,e=wA(n,s))),e===1))throw t=Ah,il(n,0),Uo(n,i),Di(n,An()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Re(345));case 2:Ua(n,bi,Gs);break;case 3:if(Uo(n,i),(i&130023424)===i&&(e=LM+500-An(),10<e)){if(og(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){vi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=sA(Ua.bind(null,n,bi,Gs),e);break}Ua(n,bi,Gs);break;case 4:if(Uo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Vr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=An()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*XU(i/1960))-i,10<i){n.timeoutHandle=sA(Ua.bind(null,n,bi,Gs),i);break}Ua(n,bi,Gs);break;case 5:Ua(n,bi,Gs);break;default:throw Error(Re(329))}}}return Di(n,An()),n.callbackNode===t?VB.bind(null,n):null}function wA(n,e){var t=Wf;return n.current.memoizedState.isDehydrated&&(il(n,e).flags|=256),n=Eg(n,e),n!==2&&(e=bi,bi=t,e!==null&&CA(e)),n}function CA(n){bi===null?bi=n:bi.push.apply(bi,n)}function KU(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Yr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Uo(n,e){for(e&=~IM,e&=~ey,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Vr(e),i=1<<t;n[t]=-1,e&=~i}}function nC(n){if(Rt&6)throw Error(Re(327));Jc();var e=og(n,0);if(!(e&1))return Di(n,An()),null;var t=Eg(n,e);if(n.tag!==0&&t===2){var i=qx(n);i!==0&&(e=i,t=wA(n,i))}if(t===1)throw t=Ah,il(n,0),Uo(n,e),Di(n,An()),t;if(t===6)throw Error(Re(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ua(n,bi,Gs),Di(n,An()),null}function DM(n,e){var t=Rt;Rt|=1;try{return n(e)}finally{Rt=t,Rt===0&&(au=An()+500,Qg&&ha())}}function ml(n){zo!==null&&zo.tag===0&&!(Rt&6)&&Jc();var e=Rt;Rt|=1;var t=Er.transition,i=zt;try{if(Er.transition=null,zt=1,n)return n()}finally{zt=i,Er.transition=t,Rt=e,!(Rt&6)&&ha()}}function FM(){Wi=Bc.current,Qt(Bc)}function il(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,EU(t)),Tn!==null)for(t=Tn.return;t!==null;){var i=t;switch(mM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fg();break;case 3:su(),Qt(Ii),Qt(ci),EM();break;case 5:SM(i);break;case 4:su();break;case 13:Qt(sn);break;case 19:Qt(sn);break;case 10:xM(i.type._context);break;case 22:case 23:FM()}t=t.return}if(Vn=n,Tn=n=Yo(n.current,null),Qn=Wi=e,In=0,Ah=null,IM=ey=pl=0,bi=Wf=null,Ya!==null){for(e=0;e<Ya.length;e++)if(t=Ya[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ya=null}return n}function WB(n,e){do{var t=Tn;try{if(vM(),km.current=Ag,xg){for(var i=un.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xg=!1}if(dl=0,Gn=Pn=un=null,Hf=!1,yh=0,BM.current=null,t===null||t.return===null){In=1,Ah=e,Tn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Qn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Vw(o);if(m!==null){m.flags&=-257,Ww(m,o,a,s,e),m.mode&1&&Hw(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){Hw(s,c,e),NM();break e}l=Error(Re(426))}}else if(en&&a.mode&1){var _=Vw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ww(_,o,a,s,e),gM(ou(l,a));break e}}s=l=ou(l,a),In!==4&&(In=2),Wf===null?Wf=[s]:Wf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=TB(s,l,e);Fw(s,g);break e;case 1:a=l;var A=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Xo===null||!Xo.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=bB(s,a,e);Fw(s,E);break e}}s=s.return}while(s!==null)}XB(t)}catch(C){e=C,Tn===t&&t!==null&&(Tn=t=t.return);continue}break}while(1)}function jB(){var n=_g.current;return _g.current=Ag,n===null?Ag:n}function NM(){(In===0||In===3||In===2)&&(In=4),Vn===null||!(pl&268435455)&&!(ey&268435455)||Uo(Vn,Qn)}function Eg(n,e){var t=Rt;Rt|=2;var i=jB();(Vn!==n||Qn!==e)&&(Gs=null,il(n,e));do try{YU();break}catch(r){WB(n,r)}while(1);if(vM(),Rt=t,_g.current=i,Tn!==null)throw Error(Re(261));return Vn=null,Qn=0,In}function YU(){for(;Tn!==null;)JB(Tn)}function QU(){for(;Tn!==null&&!_O();)JB(Tn)}function JB(n){var e=YB(n.alternate,n,Wi);n.memoizedProps=n.pendingProps,e===null?XB(n):Tn=e,BM.current=null}function XB(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=VU(t,e),t!==null){t.flags&=32767,Tn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{In=6,Tn=null;return}}else if(t=HU(t,e,Wi),t!==null){Tn=t;return}if(e=e.sibling,e!==null){Tn=e;return}Tn=e=n}while(e!==null);In===0&&(In=5)}function Ua(n,e,t){var i=zt,r=Er.transition;try{Er.transition=null,zt=1,qU(n,e,t,i)}finally{Er.transition=r,zt=i}return null}function qU(n,e,t,i){do Jc();while(zo!==null);if(Rt&6)throw Error(Re(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Re(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(BO(n,s),n===Vn&&(Tn=Vn=null,Qn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Dp||(Dp=!0,QB(sg,function(){return Jc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var o=zt;zt=1;var a=Rt;Rt|=4,BM.current=null,jU(n,t),GB(t,n),yU(iA),ag=!!nA,iA=nA=null,n.current=t,JU(t),MO(),Rt=a,zt=o,Er.transition=s}else n.current=t;if(Dp&&(Dp=!1,zo=n,Sg=r),s=n.pendingLanes,s===0&&(Xo=null),wO(t.stateNode),Di(n,An()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mg)throw Mg=!1,n=SA,SA=null,n;return Sg&1&&n.tag!==0&&Jc(),s=n.pendingLanes,s&1?n===EA?jf++:(jf=0,EA=n):jf=0,ha(),null}function Jc(){if(zo!==null){var n=CP(Sg),e=Er.transition,t=zt;try{if(Er.transition=null,zt=16>n?16:n,zo===null)var i=!1;else{if(n=zo,zo=null,Sg=0,Rt&6)throw Error(Re(331));var r=Rt;for(Rt|=4,He=n.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(He=c;He!==null;){var h=He;switch(h.tag){case 0:case 11:case 15:Vf(8,h,s)}var d=h.child;if(d!==null)d.return=h,He=d;else for(;He!==null;){h=He;var p=h.sibling,m=h.return;if(UB(h),h===c){He=null;break}if(p!==null){p.return=m,He=p;break}He=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vf(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,He=g;break e}He=s.return}}var A=n.current;for(He=A;He!==null;){o=He;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,He=M;else e:for(o=A;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$g(9,a)}}catch(C){pn(a,a.return,C)}if(a===o){He=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,He=E;break e}He=a.return}}if(Rt=r,ha(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(jg,n)}catch{}i=!0}return i}finally{zt=t,Er.transition=e}}return!1}function iC(n,e,t){e=ou(t,e),e=TB(n,e,1),n=Jo(n,e,1),e=vi(),n!==null&&(Hh(n,1,e),Di(n,e))}function pn(n,e,t){if(n.tag===3)iC(n,n,t);else for(;e!==null;){if(e.tag===3){iC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Xo===null||!Xo.has(i))){n=ou(t,n),n=bB(e,n,1),e=Jo(e,n,1),n=vi(),e!==null&&(Hh(e,1,n),Di(e,n));break}}e=e.return}}function ZU(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=vi(),n.pingedLanes|=n.suspendedLanes&t,Vn===n&&(Qn&t)===t&&(In===4||In===3&&(Qn&130023424)===Qn&&500>An()-LM?il(n,0):IM|=t),Di(n,e)}function KB(n,e){e===0&&(n.mode&1?(e=Ep,Ep<<=1,!(Ep&130023424)&&(Ep=4194304)):e=1);var t=vi();n=no(n,e),n!==null&&(Hh(n,e,t),Di(n,t))}function $U(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),KB(n,t)}function e3(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Re(314))}i!==null&&i.delete(e),KB(n,t)}var YB;YB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ii.current)Bi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Bi=!1,GU(n,e,t);Bi=!!(n.flags&131072)}else Bi=!1,en&&e.flags&1048576&&ZP(e,pg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Gm(n,e),n=e.pendingProps;var r=nu(e,ci.current);jc(e,t),r=CM(null,e,i,n,r,t);var s=TM();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(i)?(s=!0,hg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,_M(e),r.updater=qg,e.stateNode=r,r._reactInternals=e,hA(e,i,n,t),e=mA(null,e,i,!0,s,t)):(e.tag=0,en&&s&&pM(e),yi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Gm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=n3(i),n=Ur(i,n),r){case 0:e=pA(null,e,i,n,t);break e;case 1:e=Xw(null,e,i,n,t);break e;case 11:e=jw(null,e,i,n,t);break e;case 14:e=Jw(null,e,i,Ur(i.type,n),t);break e}throw Error(Re(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),pA(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),Xw(n,e,i,r,t);case 3:e:{if(IB(e),n===null)throw Error(Re(387));i=e.pendingProps,s=e.memoizedState,r=s.element,nB(n,e),yg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ou(Error(Re(423)),e),e=Kw(n,e,i,t,r);break e}else if(i!==r){r=ou(Error(Re(424)),e),e=Kw(n,e,i,t,r);break e}else for(Ji=jo(e.stateNode.containerInfo.firstChild),Qi=e,en=!0,Gr=null,t=oB(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(iu(),i===r){e=io(n,e,t);break e}yi(n,e,i,t)}e=e.child}return e;case 5:return aB(e),n===null&&cA(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,rA(i,r)?o=null:s!==null&&rA(i,s)&&(e.flags|=32),BB(n,e),yi(n,e,o,t),e.child;case 6:return n===null&&cA(e),null;case 13:return LB(n,e,t);case 4:return MM(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ru(e,null,i,t):yi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),jw(n,e,i,r,t);case 7:return yi(n,e,e.pendingProps,t),e.child;case 8:return yi(n,e,e.pendingProps.children,t),e.child;case 12:return yi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Xt(mg,i._currentValue),i._currentValue=o,s!==null)if(Yr(s.value,o)){if(s.children===r.children&&!Ii.current){e=io(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Qs(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),uA(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Re(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),uA(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,jc(e,t),r=wr(r),i=i(r),e.flags|=1,yi(n,e,i,t),e.child;case 14:return i=e.type,r=Ur(i,e.pendingProps),r=Ur(i.type,r),Jw(n,e,i,r,t);case 15:return RB(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),Gm(n,e),e.tag=1,Li(i)?(n=!0,hg(e)):n=!1,jc(e,t),rB(e,i,r),hA(e,i,r,t),mA(null,e,i,!0,n,t);case 19:return DB(n,e,t);case 22:return PB(n,e,t)}throw Error(Re(156,e.tag))};function QB(n,e){return MP(n,e)}function t3(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(n,e,t,i){return new t3(n,e,t,i)}function OM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function n3(n){if(typeof n=="function")return OM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===nM)return 11;if(n===iM)return 14}return 2}function Yo(n,e){var t=n.alternate;return t===null?(t=Sr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Wm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")OM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case _c:return rl(t.children,r,s,e);case tM:o=8,r|=8;break;case Nx:return n=Sr(12,t,e,r|2),n.elementType=Nx,n.lanes=s,n;case Ox:return n=Sr(13,t,e,r),n.elementType=Ox,n.lanes=s,n;case Ux:return n=Sr(19,t,e,r),n.elementType=Ux,n.lanes=s,n;case sP:return ty(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case iP:o=10;break e;case rP:o=9;break e;case nM:o=11;break e;case iM:o=14;break e;case Io:o=16,i=null;break e}throw Error(Re(130,n==null?n:typeof n,""))}return e=Sr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function rl(n,e,t,i){return n=Sr(7,n,i,e),n.lanes=t,n}function ty(n,e,t,i){return n=Sr(22,n,i,e),n.elementType=sP,n.lanes=t,n.stateNode={isHidden:!1},n}function m0(n,e,t){return n=Sr(6,n,null,e),n.lanes=t,n}function g0(n,e,t){return e=Sr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function i3(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qv(0),this.expirationTimes=Qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function UM(n,e,t,i,r,s,o,a,l){return n=new i3(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},_M(s),n}function r3(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ac,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function qB(n){if(!n)return na;n=n._reactInternals;e:{if(El(n)!==n||n.tag!==1)throw Error(Re(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(n.tag===1){var t=n.type;if(Li(t))return QP(n,t,e)}return e}function ZB(n,e,t,i,r,s,o,a,l){return n=UM(t,i,!0,n,r,s,o,a,l),n.context=qB(null),t=n.current,i=vi(),r=Ko(t),s=Qs(i,r),s.callback=e??null,Jo(t,s,r),n.current.lanes=r,Hh(n,r,i),Di(n,i),n}function ny(n,e,t,i){var r=e.current,s=vi(),o=Ko(r);return t=qB(t),e.context===null?e.context=t:e.pendingContext=t,e=Qs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Jo(r,e,o),n!==null&&(Wr(n,r,o,s),Um(n,r,o)),o}function wg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function rC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function kM(n,e){rC(n,e),(n=n.alternate)&&rC(n,e)}function s3(){return null}var $B=typeof reportError=="function"?reportError:function(n){console.error(n)};function zM(n){this._internalRoot=n}iy.prototype.render=zM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Re(409));ny(n,e,null,null)};iy.prototype.unmount=zM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ml(function(){ny(null,n,null,null)}),e[to]=null}};function iy(n){this._internalRoot=n}iy.prototype.unstable_scheduleHydration=function(n){if(n){var e=RP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Oo.length&&e!==0&&e<Oo[t].priority;t++);Oo.splice(t,0,n),t===0&&BP(n)}};function GM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ry(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sC(){}function o3(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=wg(o);s.call(c)}}var o=ZB(e,i,n,0,null,!1,!1,"",sC);return n._reactRootContainer=o,n[to]=o.current,hh(n.nodeType===8?n.parentNode:n),ml(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=wg(l);a.call(c)}}var l=UM(n,0,!1,null,null,!1,!1,"",sC);return n._reactRootContainer=l,n[to]=l.current,hh(n.nodeType===8?n.parentNode:n),ml(function(){ny(e,l,t,i)}),l}function sy(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=wg(o);a.call(l)}}ny(e,o,n,r)}else o=o3(t,e,n,r,i);return wg(o)}TP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Rf(e.pendingLanes);t!==0&&(oM(e,t|1),Di(e,An()),!(Rt&6)&&(au=An()+500,ha()))}break;case 13:ml(function(){var i=no(n,1);if(i!==null){var r=vi();Wr(i,n,1,r)}}),kM(n,1)}};aM=function(n){if(n.tag===13){var e=no(n,134217728);if(e!==null){var t=vi();Wr(e,n,134217728,t)}kM(n,134217728)}};bP=function(n){if(n.tag===13){var e=Ko(n),t=no(n,e);if(t!==null){var i=vi();Wr(t,n,e,i)}kM(n,e)}};RP=function(){return zt};PP=function(n,e){var t=zt;try{return zt=n,e()}finally{zt=t}};Kx=function(n,e,t){switch(e){case"input":if(Gx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Yg(i);if(!r)throw Error(Re(90));aP(i),Gx(i,r)}}}break;case"textarea":cP(n,t);break;case"select":e=t.value,e!=null&&Gc(n,!!t.multiple,e,!1)}};gP=DM;yP=ml;var a3={usingClientEntryPoint:!1,Events:[Wh,wc,Yg,pP,mP,DM]},of={findFiberByHostInstance:Ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},l3={bundleType:of.bundleType,version:of.version,rendererPackageName:of.rendererPackageName,rendererConfig:of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=AP(n),n===null?null:n.stateNode},findFiberByHostInstance:of.findFiberByHostInstance||s3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{jg=Fp.inject(l3),gs=Fp}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a3;ir.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GM(e))throw Error(Re(200));return r3(n,e,null,t)};ir.createRoot=function(n,e){if(!GM(n))throw Error(Re(299));var t=!1,i="",r=$B;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=UM(n,1,!1,null,null,t,!1,i,r),n[to]=e.current,hh(n.nodeType===8?n.parentNode:n),new zM(e)};ir.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Re(188)):(n=Object.keys(n).join(","),Error(Re(268,n)));return n=AP(e),n=n===null?null:n.stateNode,n};ir.flushSync=function(n){return ml(n)};ir.hydrate=function(n,e,t){if(!ry(e))throw Error(Re(200));return sy(null,n,e,!0,t)};ir.hydrateRoot=function(n,e,t){if(!GM(n))throw Error(Re(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=$B;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=ZB(e,null,n,1,t??null,r,!1,s,o),n[to]=e.current,hh(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new iy(e)};ir.render=function(n,e,t){if(!ry(e))throw Error(Re(200));return sy(null,n,e,!1,t)};ir.unmountComponentAtNode=function(n){if(!ry(n))throw Error(Re(40));return n._reactRootContainer?(ml(function(){sy(null,null,n,!1,function(){n._reactRootContainer=null,n[to]=null})}),!0):!1};ir.unstable_batchedUpdates=DM;ir.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!ry(t))throw Error(Re(200));if(n==null||n._reactInternals===void 0)throw Error(Re(38));return sy(n,e,t,!1,i)};ir.version="18.2.0-next-9e3b772b8-20220608";function eI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eI)}catch(n){console.error(n)}}eI(),ZR.exports=ir;var tI=ZR.exports;const Bf=zh(tI);var nI,oC=tI;nI=Dx.createRoot=oC.createRoot,Dx.hydrateRoot=oC.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_h.apply(this,arguments)}var qa;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(qa||(qa={}));const aC="popstate";function c3(n){n===void 0&&(n={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=Jh(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),TA("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Cg(s))}function i(r,s){u3(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return h3(e,t,i,n)}function jr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function u3(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f3(){return Math.random().toString(36).substr(2,8)}function lC(n,e){return{usr:n.state,key:n.key,idx:e}}function TA(n,e,t,i){return t===void 0&&(t=null),_h({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Jh(e):e,{state:t,key:e&&e.key||i||f3()})}function Cg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Jh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function h3(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=qa.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(_h({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=qa.Pop;let _=h(),g=_==null?null:_-c;c=_,l&&l({action:a,location:x.location,delta:g})}function p(_,g){a=qa.Push;let A=TA(x.location,_,g);t&&t(A,_),c=h()+1;let M=lC(A,c),E=x.createHref(A);try{o.pushState(M,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(E)}s&&l&&l({action:a,location:x.location,delta:1})}function m(_,g){a=qa.Replace;let A=TA(x.location,_,g);t&&t(A,_),c=h();let M=lC(A,c),E=x.createHref(A);o.replaceState(M,"",E),s&&l&&l({action:a,location:x.location,delta:0})}function v(_){let g=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof _=="string"?_:Cg(_);return jr(g,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,g)}let x={get action(){return a},get location(){return n(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(aC,d),l=_,()=>{r.removeEventListener(aC,d),l=null}},createHref(_){return e(r,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(_){return o.go(_)}};return x}var cC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(cC||(cC={}));function iI(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function d3(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Jh(n):n;return{pathname:t?t.startsWith("/")?t:p3(t,e):e,search:g3(i),hash:y3(r)}}function p3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function y0(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rI(n,e){let t=m3(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function sI(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Jh(n):(r=_h({},n),jr(!r.pathname||!r.pathname.includes("?"),y0("?","pathname","search",r)),jr(!r.pathname||!r.pathname.includes("#"),y0("#","pathname","hash",r)),jr(!r.search||!r.search.includes("#"),y0("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else if(i){let d=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d.pop();r.pathname=p.join("/")}a="/"+d.join("/")}else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=d3(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const oI=n=>n.join("/").replace(/\/\/+/g,"/"),g3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,y3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,aI=["post","put","patch","delete"];new Set(aI);const v3=["get",...aI];new Set(v3);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tg.apply(this,arguments)}const lI=N.createContext(null),Eu=N.createContext(null),HM=N.createContext(null),oy=N.createContext({outlet:null,matches:[],isDataRoute:!1});function x3(n,e){let{relative:t}=e===void 0?{}:e;ay()||jr(!1);let{basename:i,navigator:r}=N.useContext(Eu),{hash:s,pathname:o,search:a}=uI(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:oI([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ay(){return N.useContext(HM)!=null}function VM(){return ay()||jr(!1),N.useContext(HM).location}function cI(n){N.useContext(Eu).static||N.useLayoutEffect(n)}function A3(){let{isDataRoute:n}=N.useContext(oy);return n?w3():_3()}function _3(){ay()||jr(!1);let n=N.useContext(lI),{basename:e,future:t,navigator:i}=N.useContext(Eu),{matches:r}=N.useContext(oy),{pathname:s}=VM(),o=JSON.stringify(rI(r,t.v7_relativeSplatPath)),a=N.useRef(!1);return cI(()=>{a.current=!0}),N.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=sI(c,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:oI([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,n])}function uI(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=N.useContext(Eu),{matches:r}=N.useContext(oy),{pathname:s}=VM(),o=JSON.stringify(rI(r,i.v7_relativeSplatPath));return N.useMemo(()=>sI(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}var fI=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(fI||{}),hI=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(hI||{});function M3(n){let e=N.useContext(lI);return e||jr(!1),e}function S3(n){let e=N.useContext(oy);return e||jr(!1),e}function E3(n){let e=S3(),t=e.matches[e.matches.length-1];return t.route.id||jr(!1),t.route.id}function w3(){let{router:n}=M3(fI.UseNavigateStable),e=E3(hI.UseNavigateStable),t=N.useRef(!1);return cI(()=>{t.current=!0}),N.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Tg({fromRouteId:e},s)))},[n,e])}function C3(n){let{basename:e="/",children:t=null,location:i,navigationType:r=qa.Pop,navigator:s,static:o=!1,future:a}=n;ay()&&jr(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Tg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Jh(i));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:v="default"}=i,x=N.useMemo(()=>{let _=iI(h,l);return _==null?null:{location:{pathname:_,search:d,hash:p,state:m,key:v},navigationType:r}},[l,h,d,p,m,v,r]);return x==null?null:N.createElement(Eu.Provider,{value:c},N.createElement(HM.Provider,{children:t,value:x}))}new Promise(()=>{});/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bA(){return bA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bA.apply(this,arguments)}function T3(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function b3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function R3(n,e){return n.button===0&&(!e||e==="_self")&&!b3(n)}const P3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],B3="startTransition",uC=$N[B3];function I3(n){let{basename:e,children:t,future:i,window:r}=n,s=N.useRef();s.current==null&&(s.current=c3({window:r,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=N.useCallback(d=>{c&&uC?uC(()=>l(d)):l(d)},[l,c]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(C3,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const L3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F3=N.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,p=T3(e,P3),{basename:m}=N.useContext(Eu),v,x=!1;if(typeof c=="string"&&D3.test(c)&&(v=c,L3))try{let M=new URL(window.location.href),E=c.startsWith("//")?new URL(M.protocol+c):new URL(c),C=iI(E.pathname,m);E.origin===M.origin&&C!=null?c=C+E.search+E.hash:x=!0}catch{}let _=x3(c,{relative:r}),g=N3(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:d});function A(M){i&&i(M),M.defaultPrevented||g(M)}return N.createElement("a",bA({},p,{href:v||_,onClick:x||s?i:A,ref:t,target:l}))});var fC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(fC||(fC={}));var hC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(hC||(hC={}));function N3(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=A3(),c=VM(),h=uI(n,{relative:o});return N.useCallback(d=>{if(R3(d,t)){d.preventDefault();let p=i!==void 0?i:Cg(c)===Cg(h);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,i,r,t,n,s,o,a])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xh="152",ka={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},za={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},dI=0,RA=1,pI=2,O3=3,mI=0,ly=1,Jf=2,kr=3,Ms=0,xi=1,Mr=2,U3=2,qs=0,sl=1,PA=2,BA=3,IA=4,gI=5,Ja=100,yI=101,vI=102,LA=103,DA=104,xI=200,AI=201,_I=202,MI=203,WM=204,jM=205,SI=206,EI=207,wI=208,CI=209,TI=210,bI=0,RI=1,PI=2,bg=3,BI=4,II=5,LI=6,DI=7,Kh=0,FI=1,NI=2,Jr=0,OI=1,UI=2,kI=3,JM=4,zI=5,cy=300,ia=301,ra=302,Mh=303,Sh=304,wu=306,sa=1e3,Yn=1001,lu=1002,mn=1003,Eh=1004,k3=1004,Xc=1005,z3=1005,on=1006,uy=1007,G3=1007,Ss=1008,H3=1008,ro=1009,GI=1010,HI=1011,XM=1012,VI=1013,Go=1014,Xs=1015,cu=1016,WI=1017,jI=1018,ol=1020,JI=1021,Pi=1023,XI=1024,KI=1025,Qo=1026,gl=1027,YI=1028,QI=1029,qI=1030,ZI=1031,$I=1033,jm=33776,Jm=33777,Xm=33778,Km=33779,FA=35840,NA=35841,OA=35842,UA=35843,eL=36196,kA=37492,zA=37496,GA=37808,HA=37809,VA=37810,WA=37811,jA=37812,JA=37813,XA=37814,KA=37815,YA=37816,QA=37817,qA=37818,ZA=37819,$A=37820,e_=37821,Ym=36492,tL=36283,t_=36284,n_=36285,i_=36286,nL=2200,iL=2201,rL=2202,uu=2300,yl=2301,Qm=2302,Za=2400,$a=2401,wh=2402,fy=2500,KM=2501,sL=0,YM=1,Rg=2,QM=3e3,qi=3001,oL=3200,aL=3201,da=0,lL=1,qo="",pt="srgb",Qr="srgb-linear",qM="display-p3",V3=0,qm=7680,W3=7681,j3=7682,J3=7683,X3=34055,K3=34056,Y3=5386,Q3=512,q3=513,Z3=514,$3=515,ek=516,tk=517,nk=518,cL=519,Ch=35044,ik=35048,rk=35040,sk=35045,ok=35049,ak=35041,lk=35046,ck=35050,uk=35042,fk="100",r_="300 es",Pg=1035;let Cs=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let dC=1234567;const al=Math.PI/180,fu=180/Math.PI;function Zi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[i&255]+si[i>>8&255]+si[i>>16&255]+si[i>>24&255]).toLowerCase()}function gn(n,e,t){return Math.max(e,Math.min(t,n))}function ZM(n,e){return(n%e+e)%e}function hk(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function dk(n,e,t){return n!==e?(t-n)/(e-n):0}function Xf(n,e,t){return(1-t)*n+t*e}function pk(n,e,t,i){return Xf(n,e,1-Math.exp(-t*i))}function mk(n,e=1){return e-Math.abs(ZM(n,e*2)-e)}function gk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function yk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function vk(n,e){return n+Math.floor(Math.random()*(e-n+1))}function xk(n,e){return n+Math.random()*(e-n)}function Ak(n){return n*(.5-Math.random())}function _k(n){n!==void 0&&(dC=n);let e=dC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Mk(n){return n*al}function Sk(n){return n*fu}function s_(n){return(n&n-1)===0&&n!==0}function uL(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function fL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ek(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*h,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*h,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*h,a*c);break;case"XZX":n.set(a*h,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*h,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Xi(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function vt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const $M={DEG2RAD:al,RAD2DEG:fu,generateUUID:Zi,clamp:gn,euclideanModulo:ZM,mapLinear:hk,inverseLerp:dk,lerp:Xf,damp:pk,pingpong:mk,smoothstep:gk,smootherstep:yk,randInt:vk,randFloat:xk,randFloatSpread:Ak,seededRandom:_k,degToRad:Mk,radToDeg:Sk,isPowerOfTwo:s_,ceilPowerOfTwo:uL,floorPowerOfTwo:fL,setQuaternionFromProperEuler:Ek,normalize:vt,denormalize:Xi};class Ae{constructor(e=0,t=0){Ae.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(gn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Et{constructor(){Et.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],h=i[4],d=i[7],p=i[2],m=i[5],v=i[8],x=r[0],_=r[3],g=r[6],A=r[1],M=r[4],E=r[7],C=r[2],R=r[5],B=r[8];return s[0]=o*x+a*A+l*C,s[3]=o*_+a*M+l*R,s[6]=o*g+a*E+l*B,s[1]=c*x+h*A+d*C,s[4]=c*_+h*M+d*R,s[7]=c*g+h*E+d*B,s[2]=p*x+m*A+v*C,s[5]=p*_+m*M+v*R,s[8]=p*g+m*E+v*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8];return t*o*h-t*a*c-i*s*h+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=h*o-a*c,p=a*l-h*s,m=c*s-o*l,v=t*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(r*c-h*i)*x,e[2]=(a*i-r*o)*x,e[3]=p*x,e[4]=(h*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(v0.makeScale(e,t)),this}rotate(e){return this.premultiply(v0.makeRotation(-e)),this}translate(e,t){return this.premultiply(v0.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const v0=new Et;function hL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const wk={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ic(n,e){return new wk[n](e)}function Th(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const pC={};function Kf(n){n in pC||(pC[n]=!0,console.warn(n))}function Kc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function x0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Ck=new Et().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Tk=new Et().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function bk(n){return n.convertSRGBToLinear().applyMatrix3(Tk)}function Rk(n){return n.applyMatrix3(Ck).convertLinearToSRGB()}const Pk={[Qr]:n=>n,[pt]:n=>n.convertSRGBToLinear(),[qM]:bk},Bk={[Qr]:n=>n,[pt]:n=>n.convertLinearToSRGB(),[qM]:Rk},yr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Qr},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Pk[e],r=Bk[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Jl;class eS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Jl===void 0&&(Jl=Th("canvas")),Jl.width=e.width,Jl.height=e.height;const i=Jl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Jl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Th("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Kc(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Kc(t[i]/255)*255):t[i]=Kc(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class el{constructor(e=null){this.isSource=!0,this.uuid=Zi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(A0(r[o].image)):s.push(A0(r[o]))}else s=A0(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function A0(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?eS.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ik=0;class tn extends Cs{constructor(e=tn.DEFAULT_IMAGE,t=tn.DEFAULT_MAPPING,i=Yn,r=Yn,s=on,o=Ss,a=Pi,l=ro,c=tn.DEFAULT_ANISOTROPY,h=qo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ik++}),this.uuid=Zi(),this.name="",this.source=new el(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Et,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(Kf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===qi?pt:qo),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==cy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sa:e.x=e.x-Math.floor(e.x);break;case Yn:e.x=e.x<0?0:1;break;case lu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sa:e.y=e.y-Math.floor(e.y);break;case Yn:e.y=e.y<0?0:1;break;case lu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Kf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===pt?qi:QM}set encoding(e){Kf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===qi?pt:qo}}tn.DEFAULT_IMAGE=null;tn.DEFAULT_MAPPING=cy;tn.DEFAULT_ANISOTROPY=1;class kt{constructor(e=0,t=0,i=0,r=1){kt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],h=l[4],d=l[8],p=l[1],m=l[5],v=l[9],x=l[2],_=l[6],g=l[10];if(Math.abs(h-p)<.01&&Math.abs(d-x)<.01&&Math.abs(v-_)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+x)<.1&&Math.abs(v+_)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(c+1)/2,E=(m+1)/2,C=(g+1)/2,R=(h+p)/4,B=(d+x)/4,P=(v+_)/4;return M>E&&M>C?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=R/i,s=B/i):E>C?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=R/r,s=P/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=B/s,r=P/s),this.set(i,r,s,t),this}let A=Math.sqrt((_-v)*(_-v)+(d-x)*(d-x)+(p-h)*(p-h));return Math.abs(A)<.001&&(A=1),this.x=(_-v)/A,this.y=(d-x)/A,this.z=(p-h)/A,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class qr extends Cs{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new kt(0,0,e,t),this.scissorTest=!1,this.viewport=new kt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(Kf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===qi?pt:qo),this.texture=new tn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:on,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new el(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hy extends tn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=mn,this.minFilter=mn,this.wrapR=Yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lk extends qr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new hy(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class tS extends tn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=mn,this.minFilter=mn,this.wrapR=Yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Dk extends qr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new tS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Fk extends qr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Wn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=x;return}if(d!==x||l!==p||c!==m||h!==v){let _=1-a;const g=l*p+c*m+h*v+d*x,A=g>=0?1:-1,M=1-g*g;if(M>Number.EPSILON){const C=Math.sqrt(M),R=Math.atan2(C,g*A);_=Math.sin(_*R)/C,a=Math.sin(a*R)/C}const E=a*A;if(l=l*_+p*E,c=c*_+m*E,h=h*_+v*E,d=d*_+x*E,_===1-a){const C=1/Math.sqrt(l*l+c*c+h*h+d*d);l*=C,c*=C,h*=C,d*=C}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+h*d+l*m-c*p,e[t+1]=l*v+h*p+c*d-a*m,e[t+2]=c*v+h*m+a*p-l*d,e[t+3]=h*v-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"YXZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"ZXY":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"ZYX":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"YZX":this._x=p*h*d+c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d-p*m*v;break;case"XZY":this._x=p*h*d-c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(gn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,h=t._w;return this._x=i*h+o*a+r*c-s*l,this._y=r*h+o*l+s*a-i*c,this._z=s*h+o*c+i*l-r*a,this._w=o*h-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),d=Math.sin((1-t)*h)/c,p=Math.sin(t*h)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,i=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(mC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(mC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,h=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+h*-a-d*-o,this.y=h*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return _0.copy(this).projectOnVector(e),this.sub(_0)}reflect(e){return this.sub(_0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(gn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _0=new F,mC=new Wn;class Zr{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Fs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Fs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Fs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Xl.copy(e.boundingBox),Xl.applyMatrix4(e.matrixWorld),this.union(Xl);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Fs.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Fs)}else r.boundingBox===null&&r.computeBoundingBox(),Xl.copy(r.boundingBox),Xl.applyMatrix4(e.matrixWorld),this.union(Xl)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Fs),Fs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(af),Np.subVectors(this.max,af),Kl.subVectors(e.a,af),Yl.subVectors(e.b,af),Ql.subVectors(e.c,af),So.subVectors(Yl,Kl),Eo.subVectors(Ql,Yl),ba.subVectors(Kl,Ql);let t=[0,-So.z,So.y,0,-Eo.z,Eo.y,0,-ba.z,ba.y,So.z,0,-So.x,Eo.z,0,-Eo.x,ba.z,0,-ba.x,-So.y,So.x,0,-Eo.y,Eo.x,0,-ba.y,ba.x,0];return!M0(t,Kl,Yl,Ql,Np)||(t=[1,0,0,0,1,0,0,0,1],!M0(t,Kl,Yl,Ql,Np))?!1:(Op.crossVectors(So,Eo),t=[Op.x,Op.y,Op.z],M0(t,Kl,Yl,Ql,Np))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Fs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Fs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ds),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ds=[new F,new F,new F,new F,new F,new F,new F,new F],Fs=new F,Xl=new Zr,Kl=new F,Yl=new F,Ql=new F,So=new F,Eo=new F,ba=new F,af=new F,Np=new F,Op=new F,Ra=new F;function M0(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ra.fromArray(n,s);const a=r.x*Math.abs(Ra.x)+r.y*Math.abs(Ra.y)+r.z*Math.abs(Ra.z),l=e.dot(Ra),c=t.dot(Ra),h=i.dot(Ra);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const Nk=new Zr,lf=new F,S0=new F;class $r{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Nk.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;lf.subVectors(e,this.center);const t=lf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(lf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(S0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(lf.copy(e.center).add(S0)),this.expandByPoint(lf.copy(e.center).sub(S0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ns=new F,E0=new F,Up=new F,wo=new F,w0=new F,kp=new F,C0=new F;class Yh{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ns)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ns.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ns.copy(this.origin).addScaledVector(this.direction,t),Ns.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){E0.copy(e).add(t).multiplyScalar(.5),Up.copy(t).sub(e).normalize(),wo.copy(this.origin).sub(E0);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Up),a=wo.dot(this.direction),l=-wo.dot(Up),c=wo.lengthSq(),h=Math.abs(1-o*o);let d,p,m,v;if(h>0)if(d=o*l-a,p=o*a-l,v=s*h,d>=0)if(p>=-v)if(p<=v){const x=1/h;d*=x,p*=x,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(E0).addScaledVector(Up,p),m}intersectSphere(e,t){Ns.subVectors(e.center,this.origin);const i=Ns.dot(this.direction),r=Ns.dot(Ns)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ns)!==null}intersectTriangle(e,t,i,r,s){w0.subVectors(t,e),kp.subVectors(i,e),C0.crossVectors(w0,kp);let o=this.direction.dot(C0),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;wo.subVectors(this.origin,e);const l=a*this.direction.dot(kp.crossVectors(wo,kp));if(l<0)return null;const c=a*this.direction.dot(w0.cross(wo));if(c<0||l+c>o)return null;const h=-a*wo.dot(C0);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class st{constructor(){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,h,d,p,m,v,x,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=h,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new st().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/ql.setFromMatrixColumn(e,0).length(),s=1/ql.setFromMatrixColumn(e,1).length(),o=1/ql.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,v=a*h,x=a*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=m+v*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,v=c*h,x=c*d;t[0]=p+x*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-v,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,v=c*h,x=c*d;t[0]=p-x*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*h,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,v=a*h,x=a*d;t[0]=l*h,t[4]=v*c-m,t[8]=p*c+x,t[1]=l*d,t[5]=x*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*h,t[4]=x-p*d,t[8]=v*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-c*h,t[6]=m*d+v,t[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=p*d+x,t[5]=o*h,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*h,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ok,e,Uk)}lookAt(e,t,i){const r=this.elements;return Gi.subVectors(e,t),Gi.lengthSq()===0&&(Gi.z=1),Gi.normalize(),Co.crossVectors(i,Gi),Co.lengthSq()===0&&(Math.abs(i.z)===1?Gi.x+=1e-4:Gi.z+=1e-4,Gi.normalize(),Co.crossVectors(i,Gi)),Co.normalize(),zp.crossVectors(Gi,Co),r[0]=Co.x,r[4]=zp.x,r[8]=Gi.x,r[1]=Co.y,r[5]=zp.y,r[9]=Gi.y,r[2]=Co.z,r[6]=zp.z,r[10]=Gi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],h=i[1],d=i[5],p=i[9],m=i[13],v=i[2],x=i[6],_=i[10],g=i[14],A=i[3],M=i[7],E=i[11],C=i[15],R=r[0],B=r[4],P=r[8],b=r[12],I=r[1],G=r[5],J=r[9],W=r[13],K=r[2],X=r[6],oe=r[10],te=r[14],L=r[3],V=r[7],H=r[11],ee=r[15];return s[0]=o*R+a*I+l*K+c*L,s[4]=o*B+a*G+l*X+c*V,s[8]=o*P+a*J+l*oe+c*H,s[12]=o*b+a*W+l*te+c*ee,s[1]=h*R+d*I+p*K+m*L,s[5]=h*B+d*G+p*X+m*V,s[9]=h*P+d*J+p*oe+m*H,s[13]=h*b+d*W+p*te+m*ee,s[2]=v*R+x*I+_*K+g*L,s[6]=v*B+x*G+_*X+g*V,s[10]=v*P+x*J+_*oe+g*H,s[14]=v*b+x*W+_*te+g*ee,s[3]=A*R+M*I+E*K+C*L,s[7]=A*B+M*G+E*X+C*V,s[11]=A*P+M*J+E*oe+C*H,s[15]=A*b+M*W+E*te+C*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],h=e[2],d=e[6],p=e[10],m=e[14],v=e[3],x=e[7],_=e[11],g=e[15];return v*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+x*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*h-s*l*h)+_*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*h-i*c*h)+g*(-r*a*h-t*l*d+t*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=e[9],p=e[10],m=e[11],v=e[12],x=e[13],_=e[14],g=e[15],A=d*_*c-x*p*c+x*l*m-a*_*m-d*l*g+a*p*g,M=v*p*c-h*_*c-v*l*m+o*_*m+h*l*g-o*p*g,E=h*x*c-v*d*c+v*a*m-o*x*m-h*a*g+o*d*g,C=v*d*l-h*x*l-v*a*p+o*x*p+h*a*_-o*d*_,R=t*A+i*M+r*E+s*C;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/R;return e[0]=A*B,e[1]=(x*p*s-d*_*s-x*r*m+i*_*m+d*r*g-i*p*g)*B,e[2]=(a*_*s-x*l*s+x*r*c-i*_*c-a*r*g+i*l*g)*B,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*B,e[4]=M*B,e[5]=(h*_*s-v*p*s+v*r*m-t*_*m-h*r*g+t*p*g)*B,e[6]=(v*l*s-o*_*s-v*r*c+t*_*c+o*r*g-t*l*g)*B,e[7]=(o*p*s-h*l*s+h*r*c-t*p*c-o*r*m+t*l*m)*B,e[8]=E*B,e[9]=(v*d*s-h*x*s-v*i*m+t*x*m+h*i*g-t*d*g)*B,e[10]=(o*x*s-v*a*s+v*i*c-t*x*c-o*i*g+t*a*g)*B,e[11]=(h*a*s-o*d*s-h*i*c+t*d*c+o*i*m-t*a*m)*B,e[12]=C*B,e[13]=(h*x*r-v*d*r+v*i*p-t*x*p-h*i*_+t*d*_)*B,e[14]=(v*a*r-o*x*r-v*i*l+t*x*l+o*i*_-t*a*_)*B,e[15]=(o*d*r-h*a*r+h*i*l-t*d*l-o*i*p+t*a*p)*B,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,h=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,h*a+i,h*l-r*o,0,c*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,h=o+o,d=a+a,p=s*c,m=s*h,v=s*d,x=o*h,_=o*d,g=a*d,A=l*c,M=l*h,E=l*d,C=i.x,R=i.y,B=i.z;return r[0]=(1-(x+g))*C,r[1]=(m+E)*C,r[2]=(v-M)*C,r[3]=0,r[4]=(m-E)*R,r[5]=(1-(p+g))*R,r[6]=(_+A)*R,r[7]=0,r[8]=(v+M)*B,r[9]=(_-A)*B,r[10]=(1-(p+x))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=ql.set(r[0],r[1],r[2]).length();const o=ql.set(r[4],r[5],r[6]).length(),a=ql.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Fr.copy(this);const c=1/s,h=1/o,d=1/a;return Fr.elements[0]*=c,Fr.elements[1]*=c,Fr.elements[2]*=c,Fr.elements[4]*=h,Fr.elements[5]*=h,Fr.elements[6]*=h,Fr.elements[8]*=d,Fr.elements[9]*=d,Fr.elements[10]*=d,t.setFromRotationMatrix(Fr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),h=(t+e)/(t-e),d=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),h=1/(o-s),d=(t+e)*l,p=(i+r)*c,m=(o+s)*h;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const ql=new F,Fr=new st,Ok=new F(0,0,0),Uk=new F(1,1,1),Co=new F,zp=new F,Gi=new F,gC=new st,yC=new Wn;class wl{constructor(e=0,t=0,i=0,r=wl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(gn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-gn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(gn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-gn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(gn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-gn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return gC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return yC.setFromEuler(this),this.setFromQuaternion(yC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}wl.DEFAULT_ORDER="XYZ";class ll{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kk=0;const vC=new F,Zl=new Wn,Os=new st,Gp=new F,cf=new F,zk=new F,Gk=new Wn,xC=new F(1,0,0),AC=new F(0,1,0),_C=new F(0,0,1),Hk={type:"added"},MC={type:"removed"};class Ct extends Cs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kk++}),this.uuid=Zi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ct.DEFAULT_UP.clone();const e=new F,t=new wl,i=new Wn,r=new F(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new st},normalMatrix:{value:new Et}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=Ct.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ct.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ll,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zl.setFromAxisAngle(e,t),this.quaternion.multiply(Zl),this}rotateOnWorldAxis(e,t){return Zl.setFromAxisAngle(e,t),this.quaternion.premultiply(Zl),this}rotateX(e){return this.rotateOnAxis(xC,e)}rotateY(e){return this.rotateOnAxis(AC,e)}rotateZ(e){return this.rotateOnAxis(_C,e)}translateOnAxis(e,t){return vC.copy(e).applyQuaternion(this.quaternion),this.position.add(vC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(xC,e)}translateY(e){return this.translateOnAxis(AC,e)}translateZ(e){return this.translateOnAxis(_C,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Os.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Gp.copy(e):Gp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),cf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Os.lookAt(cf,Gp,this.up):Os.lookAt(Gp,cf,this.up),this.quaternion.setFromRotationMatrix(Os),r&&(Os.extractRotation(r.matrixWorld),Zl.setFromRotationMatrix(Os),this.quaternion.premultiply(Zl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Hk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(MC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(MC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Os.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Os.multiply(e.parent.matrixWorld)),e.applyMatrix4(Os),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cf,e,zk),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cf,Gk,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const h=a[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ct.DEFAULT_UP=new F(0,1,0);Ct.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ct.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Nr=new F,Us=new F,T0=new F,ks=new F,$l=new F,ec=new F,SC=new F,b0=new F,R0=new F,P0=new F;let Hp=!1;class Ri{constructor(e=new F,t=new F,i=new F){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Nr.subVectors(e,t),r.cross(Nr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Nr.subVectors(r,t),Us.subVectors(i,t),T0.subVectors(e,t);const o=Nr.dot(Nr),a=Nr.dot(Us),l=Nr.dot(T0),c=Us.dot(Us),h=Us.dot(T0),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ks),ks.x>=0&&ks.y>=0&&ks.x+ks.y<=1}static getUV(e,t,i,r,s,o,a,l){return Hp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Hp=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,ks),l.setScalar(0),l.addScaledVector(s,ks.x),l.addScaledVector(o,ks.y),l.addScaledVector(a,ks.z),l}static isFrontFacing(e,t,i,r){return Nr.subVectors(i,t),Us.subVectors(e,t),Nr.cross(Us).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Nr.subVectors(this.c,this.b),Us.subVectors(this.a,this.b),Nr.cross(Us).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ri.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ri.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Hp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Hp=!0),Ri.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Ri.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ri.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ri.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;$l.subVectors(r,i),ec.subVectors(s,i),b0.subVectors(e,i);const l=$l.dot(b0),c=ec.dot(b0);if(l<=0&&c<=0)return t.copy(i);R0.subVectors(e,r);const h=$l.dot(R0),d=ec.dot(R0);if(h>=0&&d<=h)return t.copy(r);const p=l*d-h*c;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(i).addScaledVector($l,o);P0.subVectors(e,s);const m=$l.dot(P0),v=ec.dot(P0);if(v>=0&&m<=v)return t.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(ec,a);const _=h*v-m*d;if(_<=0&&d-h>=0&&m-v>=0)return SC.subVectors(s,r),a=(d-h)/(d-h+(m-v)),t.copy(r).addScaledVector(SC,a);const g=1/(_+x+p);return o=x*g,a=p*g,t.copy(i).addScaledVector($l,o).addScaledVector(ec,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Vk=0;class bn extends Cs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Vk++}),this.uuid=Zi(),this.name="",this.type="Material",this.blending=sl,this.side=Ms,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=WM,this.blendDst=jM,this.blendEquation=Ja,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=bg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=cL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=qm,this.stencilZFail=qm,this.stencilZPass=qm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==sl&&(i.blending=this.blending),this.side!==Ms&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const dL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Or={h:0,s:0,l:0},Vp={h:0,s:0,l:0};function B0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Fe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=pt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,yr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=yr.workingColorSpace){return this.r=e,this.g=t,this.b=i,yr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=yr.workingColorSpace){if(e=ZM(e,1),t=gn(t,0,1),i=gn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=B0(o,s,e+1/3),this.g=B0(o,s,e),this.b=B0(o,s,e-1/3)}return yr.toWorkingColorSpace(this,r),this}setStyle(e,t=pt){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=pt){const i=dL[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Kc(e.r),this.g=Kc(e.g),this.b=Kc(e.b),this}copyLinearToSRGB(e){return this.r=x0(e.r),this.g=x0(e.g),this.b=x0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=pt){return yr.fromWorkingColorSpace(oi.copy(this),e),Math.round(gn(oi.r*255,0,255))*65536+Math.round(gn(oi.g*255,0,255))*256+Math.round(gn(oi.b*255,0,255))}getHexString(e=pt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=yr.workingColorSpace){yr.fromWorkingColorSpace(oi.copy(this),t);const i=oi.r,r=oi.g,s=oi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const h=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=yr.workingColorSpace){return yr.fromWorkingColorSpace(oi.copy(this),t),e.r=oi.r,e.g=oi.g,e.b=oi.b,e}getStyle(e=pt){yr.fromWorkingColorSpace(oi.copy(this),e);const t=oi.r,i=oi.g,r=oi.b;return e!==pt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Or),Or.h+=e,Or.s+=t,Or.l+=i,this.setHSL(Or.h,Or.s,Or.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Or),e.getHSL(Vp);const i=Xf(Or.h,Vp.h,t),r=Xf(Or.s,Vp.s,t),s=Xf(Or.l,Vp.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const oi=new Fe;Fe.NAMES=dL;class Ki extends bn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vs=Wk();function Wk(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,s[l]=c|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ti(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=gn(n,-65504,65504),Vs.floatView[0]=n;const e=Vs.uint32View[0],t=e>>23&511;return Vs.baseTable[t]+((e&8388607)>>Vs.shiftTable[t])}function If(n){const e=n>>10;return Vs.uint32View[0]=Vs.mantissaTable[Vs.offsetTable[e]+(n&1023)]+Vs.exponentTable[e],Vs.floatView[0]}const jk={toHalfFloat:Ti,fromHalfFloat:If},wn=new F,Wp=new Ae;class Dt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ch,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Wp.fromBufferAttribute(this,t),Wp.applyMatrix3(e),this.setXY(t,Wp.x,Wp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)wn.fromBufferAttribute(this,t),wn.applyMatrix3(e),this.setXYZ(t,wn.x,wn.y,wn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)wn.fromBufferAttribute(this,t),wn.applyMatrix4(e),this.setXYZ(t,wn.x,wn.y,wn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)wn.fromBufferAttribute(this,t),wn.applyNormalMatrix(e),this.setXYZ(t,wn.x,wn.y,wn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)wn.fromBufferAttribute(this,t),wn.transformDirection(e),this.setXYZ(t,wn.x,wn.y,wn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xi(t,this.array)),t}setX(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xi(t,this.array)),t}setY(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xi(t,this.array)),t}setW(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ch&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Jk extends Dt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Xk extends Dt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Kk extends Dt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Yk extends Dt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class nS extends Dt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Qk extends Dt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class iS extends Dt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class qk extends Dt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=If(this.array[e*this.itemSize]);return this.normalized&&(t=Xi(t,this.array)),t}setX(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize]=Ti(t),this}getY(e){let t=If(this.array[e*this.itemSize+1]);return this.normalized&&(t=Xi(t,this.array)),t}setY(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+1]=Ti(t),this}getZ(e){let t=If(this.array[e*this.itemSize+2]);return this.normalized&&(t=Xi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+2]=Ti(t),this}getW(e){let t=If(this.array[e*this.itemSize+3]);return this.normalized&&(t=Xi(t,this.array)),t}setW(e,t){return this.normalized&&(t=vt(t,this.array)),this.array[e*this.itemSize+3]=Ti(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array)),this.array[e+0]=Ti(t),this.array[e+1]=Ti(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.array[e+0]=Ti(t),this.array[e+1]=Ti(i),this.array[e+2]=Ti(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.array[e+0]=Ti(t),this.array[e+1]=Ti(i),this.array[e+2]=Ti(r),this.array[e+3]=Ti(s),this}}class Je extends Dt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class Zk extends Dt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let $k=0;const pr=new st,I0=new Ct,tc=new F,Hi=new Zr,uf=new Zr,zn=new F;class ut extends Cs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:$k++}),this.uuid=Zi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hL(e)?iS:nS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Et().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return pr.makeRotationFromQuaternion(e),this.applyMatrix4(pr),this}rotateX(e){return pr.makeRotationX(e),this.applyMatrix4(pr),this}rotateY(e){return pr.makeRotationY(e),this.applyMatrix4(pr),this}rotateZ(e){return pr.makeRotationZ(e),this.applyMatrix4(pr),this}translate(e,t,i){return pr.makeTranslation(e,t,i),this.applyMatrix4(pr),this}scale(e,t,i){return pr.makeScale(e,t,i),this.applyMatrix4(pr),this}lookAt(e){return I0.lookAt(e),I0.updateMatrix(),this.applyMatrix4(I0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tc).negate(),this.translate(tc.x,tc.y,tc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Hi.setFromBufferAttribute(s),this.morphTargetsRelative?(zn.addVectors(this.boundingBox.min,Hi.min),this.boundingBox.expandByPoint(zn),zn.addVectors(this.boundingBox.max,Hi.max),this.boundingBox.expandByPoint(zn)):(this.boundingBox.expandByPoint(Hi.min),this.boundingBox.expandByPoint(Hi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const i=this.boundingSphere.center;if(Hi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];uf.setFromBufferAttribute(a),this.morphTargetsRelative?(zn.addVectors(Hi.min,uf.min),Hi.expandByPoint(zn),zn.addVectors(Hi.max,uf.max),Hi.expandByPoint(zn)):(Hi.expandByPoint(uf.min),Hi.expandByPoint(uf.max))}Hi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)zn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(zn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)zn.fromBufferAttribute(a,c),l&&(tc.fromBufferAttribute(e,c),zn.add(tc)),r=Math.max(r,i.distanceToSquared(zn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],h=[];for(let I=0;I<a;I++)c[I]=new F,h[I]=new F;const d=new F,p=new F,m=new F,v=new Ae,x=new Ae,_=new Ae,g=new F,A=new F;function M(I,G,J){d.fromArray(r,I*3),p.fromArray(r,G*3),m.fromArray(r,J*3),v.fromArray(o,I*2),x.fromArray(o,G*2),_.fromArray(o,J*2),p.sub(d),m.sub(d),x.sub(v),_.sub(v);const W=1/(x.x*_.y-_.x*x.y);isFinite(W)&&(g.copy(p).multiplyScalar(_.y).addScaledVector(m,-x.y).multiplyScalar(W),A.copy(m).multiplyScalar(x.x).addScaledVector(p,-_.x).multiplyScalar(W),c[I].add(g),c[G].add(g),c[J].add(g),h[I].add(A),h[G].add(A),h[J].add(A))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let I=0,G=E.length;I<G;++I){const J=E[I],W=J.start,K=J.count;for(let X=W,oe=W+K;X<oe;X+=3)M(i[X+0],i[X+1],i[X+2])}const C=new F,R=new F,B=new F,P=new F;function b(I){B.fromArray(s,I*3),P.copy(B);const G=c[I];C.copy(G),C.sub(B.multiplyScalar(B.dot(G))).normalize(),R.crossVectors(P,G);const W=R.dot(h[I])<0?-1:1;l[I*4]=C.x,l[I*4+1]=C.y,l[I*4+2]=C.z,l[I*4+3]=W}for(let I=0,G=E.length;I<G;++I){const J=E[I],W=J.start,K=J.count;for(let X=W,oe=W+K;X<oe;X+=3)b(i[X+0]),b(i[X+1]),b(i[X+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Dt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,l=new F,c=new F,h=new F,d=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),_=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,_),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,_),a.add(h),l.add(h),c.add(h),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)zn.fromBufferAttribute(e,t),zn.normalize(),e.setXYZ(t,zn.x,zn.y,zn.z)}toNonIndexed(){function e(a,l){const c=a.array,h=a.itemSize,d=a.normalized,p=new c.constructor(l.length*h);let m=0,v=0;for(let x=0,_=l.length;x<_;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*h;for(let g=0;g<h;g++)p[v++]=c[m++]}return new Dt(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ut,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let h=0,d=c.length;h<d;h++){const p=c[h],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const h=r[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],d=s[c];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const EC=new st,fs=new Yh,jp=new $r,wC=new F,nc=new F,ic=new F,rc=new F,L0=new F,Jp=new F,Xp=new Ae,Kp=new Ae,Yp=new Ae,CC=new F,TC=new F,bC=new F,Qp=new F,qp=new F;class Ln extends Ct{constructor(e=new ut,t=new Ki){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Jp.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const h=a[l],d=s[l];h!==0&&(L0.fromBufferAttribute(d,e),o?Jp.addScaledVector(L0,h):Jp.addScaledVector(L0.sub(t),h))}t.add(Jp)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),jp.copy(i.boundingSphere),jp.applyMatrix4(s),fs.copy(e.ray).recast(e.near),!(jp.containsPoint(fs.origin)===!1&&(fs.intersectSphere(jp,wC)===null||fs.origin.distanceToSquared(wC)>(e.far-e.near)**2))&&(EC.copy(s).invert(),fs.copy(e.ray).applyMatrix4(EC),!(i.boundingBox!==null&&fs.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let i;const r=this.geometry,s=this.material,o=r.index,a=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,h=r.attributes.normal,d=r.groups,p=r.drawRange;if(o!==null)if(Array.isArray(s))for(let m=0,v=d.length;m<v;m++){const x=d[m],_=s[x.materialIndex],g=Math.max(x.start,p.start),A=Math.min(o.count,Math.min(x.start+x.count,p.start+p.count));for(let M=g,E=A;M<E;M+=3){const C=o.getX(M),R=o.getX(M+1),B=o.getX(M+2);i=Zp(this,_,e,fs,l,c,h,C,R,B),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,t.push(i))}}else{const m=Math.max(0,p.start),v=Math.min(o.count,p.start+p.count);for(let x=m,_=v;x<_;x+=3){const g=o.getX(x),A=o.getX(x+1),M=o.getX(x+2);i=Zp(this,s,e,fs,l,c,h,g,A,M),i&&(i.faceIndex=Math.floor(x/3),t.push(i))}}else if(a!==void 0)if(Array.isArray(s))for(let m=0,v=d.length;m<v;m++){const x=d[m],_=s[x.materialIndex],g=Math.max(x.start,p.start),A=Math.min(a.count,Math.min(x.start+x.count,p.start+p.count));for(let M=g,E=A;M<E;M+=3){const C=M,R=M+1,B=M+2;i=Zp(this,_,e,fs,l,c,h,C,R,B),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=x.materialIndex,t.push(i))}}else{const m=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let x=m,_=v;x<_;x+=3){const g=x,A=x+1,M=x+2;i=Zp(this,s,e,fs,l,c,h,g,A,M),i&&(i.faceIndex=Math.floor(x/3),t.push(i))}}}}function ez(n,e,t,i,r,s,o,a){let l;if(e.side===xi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Ms,a),l===null)return null;qp.copy(a),qp.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(qp);return c<t.near||c>t.far?null:{distance:c,point:qp.clone(),object:n}}function Zp(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,nc),n.getVertexPosition(l,ic),n.getVertexPosition(c,rc);const h=ez(n,e,t,i,nc,ic,rc,Qp);if(h){r&&(Xp.fromBufferAttribute(r,a),Kp.fromBufferAttribute(r,l),Yp.fromBufferAttribute(r,c),h.uv=Ri.getInterpolation(Qp,nc,ic,rc,Xp,Kp,Yp,new Ae)),s&&(Xp.fromBufferAttribute(s,a),Kp.fromBufferAttribute(s,l),Yp.fromBufferAttribute(s,c),h.uv1=Ri.getInterpolation(Qp,nc,ic,rc,Xp,Kp,Yp,new Ae),h.uv2=h.uv1),o&&(CC.fromBufferAttribute(o,a),TC.fromBufferAttribute(o,l),bC.fromBufferAttribute(o,c),h.normal=Ri.getInterpolation(Qp,nc,ic,rc,CC,TC,bC,new F),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new F,materialIndex:0};Ri.getNormal(nc,ic,rc,d.normal),h.face=d}return h}class pa extends ut{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Je(c,3)),this.setAttribute("normal",new Je(h,3)),this.setAttribute("uv",new Je(d,2));function v(x,_,g,A,M,E,C,R,B,P,b){const I=E/B,G=C/P,J=E/2,W=C/2,K=R/2,X=B+1,oe=P+1;let te=0,L=0;const V=new F;for(let H=0;H<oe;H++){const ee=H*G-W;for(let Z=0;Z<X;Z++){const ne=Z*I-J;V[x]=ne*A,V[_]=ee*M,V[g]=K,c.push(V.x,V.y,V.z),V[x]=0,V[_]=0,V[g]=R>0?1:-1,h.push(V.x,V.y,V.z),d.push(Z/B),d.push(1-H/P),te+=1}}for(let H=0;H<P;H++)for(let ee=0;ee<B;ee++){const Z=p+ee+X*H,ne=p+ee+X*(H+1),ie=p+(ee+1)+X*(H+1),Ee=p+(ee+1)+X*H;l.push(Z,ne,Ee),l.push(ne,ie,Ee),L+=6}a.addGroup(m,L,b),m+=L,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function hu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function mi(n){const e={};for(let t=0;t<n.length;t++){const i=hu(n[t]);for(const r in i)e[r]=i[r]}return e}function tz(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function pL(n){return n.getRenderTarget()===null?n.outputColorSpace:Qr}const mL={clone:hu,merge:mi};var nz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,iz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Es extends bn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nz,this.fragmentShader=iz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=hu(e.uniforms),this.uniformsGroups=tz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Qh extends Ct{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Wt extends Qh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=fu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(al*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return fu*2*Math.atan(Math.tan(al*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(al*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const sc=-90,oc=1;class rS extends Ct{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Wt(sc,oc,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Wt(sc,oc,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Wt(sc,oc,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Wt(sc,oc,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Wt(sc,oc,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Wt(sc,oc,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,h=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Jr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class qh extends tn{constructor(e,t,i,r,s,o,a,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:ia,super(e,t,i,r,s,o,a,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class sS extends qr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(Kf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===qi?pt:qo),this.texture=new qh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:on}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new pa(5,5,5),s=new Es({name:"CubemapFromEquirect",uniforms:hu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:xi,blending:qs});s.uniforms.tEquirect.value=t;const o=new Ln(r,s),a=t.minFilter;return t.minFilter===Ss&&(t.minFilter=on),new rS(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const D0=new F,rz=new F,sz=new Et;class Do{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=D0.subVectors(i,t).cross(rz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(D0),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||sz.getNormalMatrix(e),r=this.coplanarPoint(D0).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Pa=new $r,$p=new F;class dy{constructor(e=new Do,t=new Do,i=new Do,r=new Do,s=new Do,o=new Do){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],h=i[6],d=i[7],p=i[8],m=i[9],v=i[10],x=i[11],_=i[12],g=i[13],A=i[14],M=i[15];return t[0].setComponents(a-r,d-l,x-p,M-_).normalize(),t[1].setComponents(a+r,d+l,x+p,M+_).normalize(),t[2].setComponents(a+s,d+c,x+m,M+g).normalize(),t[3].setComponents(a-s,d-c,x-m,M-g).normalize(),t[4].setComponents(a-o,d-h,x-v,M-A).normalize(),t[5].setComponents(a+o,d+h,x+v,M+A).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Pa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Pa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Pa)}intersectsSprite(e){return Pa.center.set(0,0,0),Pa.radius=.7071067811865476,Pa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pa)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if($p.x=r.normal.x>0?e.max.x:e.min.x,$p.y=r.normal.y>0?e.max.y:e.min.y,$p.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint($p)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function gL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function oz(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,h){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,d,p),c.onUploadCallback();let v;if(d instanceof Float32Array)v=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)v=n.SHORT;else if(d instanceof Uint32Array)v=n.UNSIGNED_INT;else if(d instanceof Int32Array)v=n.INT;else if(d instanceof Int8Array)v=n.BYTE;else if(d instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,h,d){const p=h.array,m=h.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h&&(n.deleteBuffer(h.buffer),i.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,h)):d.version<c.version&&(s(d.buffer,c,h),d.version=c.version)}return{get:o,remove:a,update:l}}class Cu extends ut{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,h=l+1,d=e/a,p=t/l,m=[],v=[],x=[],_=[];for(let g=0;g<h;g++){const A=g*p-o;for(let M=0;M<c;M++){const E=M*d-s;v.push(E,-A,0),x.push(0,0,1),_.push(M/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let A=0;A<a;A++){const M=A+c*g,E=A+c*(g+1),C=A+1+c*(g+1),R=A+1+c*g;m.push(M,E,R),m.push(E,C,R)}this.setIndex(m),this.setAttribute("position",new Je(v,3)),this.setAttribute("normal",new Je(x,3)),this.setAttribute("uv",new Je(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cu(e.width,e.height,e.widthSegments,e.heightSegments)}}var az=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,lz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,uz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,fz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,hz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dz="vec3 transformed = vec3( position );",pz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,mz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,gz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,xz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Az=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_z=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Sz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ez=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,wz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Cz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Tz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bz=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Rz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Pz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Bz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Iz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Lz="gl_FragColor = linearToOutputTexel( gl_FragColor );",Dz=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Fz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Nz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Oz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Uz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Gz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Hz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Vz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Wz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,jz=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Jz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Xz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Kz=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Yz=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Qz=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,qz=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Zz=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,$z=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,eG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,tG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,nG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,iG=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,sG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,oG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,aG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,lG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,cG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,uG=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,fG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,hG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,mG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,gG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,vG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,xG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,AG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,_G=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,MG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,SG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,EG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,wG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,CG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,TG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,bG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,RG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,PG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,IG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,LG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,DG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,FG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,NG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,OG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,UG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,kG=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,GG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,HG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,VG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,WG=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,jG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,XG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,KG=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,YG=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,QG=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,qG=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,ZG=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$G=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eH=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,tH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const nH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,iH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,rH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,oH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,lH=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,cH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,uH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gH=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,_H=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,SH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,EH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,BH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IH=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,DH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,FH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:az,alphamap_pars_fragment:lz,alphatest_fragment:cz,alphatest_pars_fragment:uz,aomap_fragment:fz,aomap_pars_fragment:hz,begin_vertex:dz,beginnormal_vertex:pz,bsdfs:mz,iridescence_fragment:gz,bumpmap_pars_fragment:yz,clipping_planes_fragment:vz,clipping_planes_pars_fragment:xz,clipping_planes_pars_vertex:Az,clipping_planes_vertex:_z,color_fragment:Mz,color_pars_fragment:Sz,color_pars_vertex:Ez,color_vertex:wz,common:Cz,cube_uv_reflection_fragment:Tz,defaultnormal_vertex:bz,displacementmap_pars_vertex:Rz,displacementmap_vertex:Pz,emissivemap_fragment:Bz,emissivemap_pars_fragment:Iz,encodings_fragment:Lz,encodings_pars_fragment:Dz,envmap_fragment:Fz,envmap_common_pars_fragment:Nz,envmap_pars_fragment:Oz,envmap_pars_vertex:Uz,envmap_physical_pars_fragment:Qz,envmap_vertex:kz,fog_vertex:zz,fog_pars_vertex:Gz,fog_fragment:Hz,fog_pars_fragment:Vz,gradientmap_pars_fragment:Wz,lightmap_fragment:jz,lightmap_pars_fragment:Jz,lights_lambert_fragment:Xz,lights_lambert_pars_fragment:Kz,lights_pars_begin:Yz,lights_toon_fragment:qz,lights_toon_pars_fragment:Zz,lights_phong_fragment:$z,lights_phong_pars_fragment:eG,lights_physical_fragment:tG,lights_physical_pars_fragment:nG,lights_fragment_begin:iG,lights_fragment_maps:rG,lights_fragment_end:sG,logdepthbuf_fragment:oG,logdepthbuf_pars_fragment:aG,logdepthbuf_pars_vertex:lG,logdepthbuf_vertex:cG,map_fragment:uG,map_pars_fragment:fG,map_particle_fragment:hG,map_particle_pars_fragment:dG,metalnessmap_fragment:pG,metalnessmap_pars_fragment:mG,morphcolor_vertex:gG,morphnormal_vertex:yG,morphtarget_pars_vertex:vG,morphtarget_vertex:xG,normal_fragment_begin:AG,normal_fragment_maps:_G,normal_pars_fragment:MG,normal_pars_vertex:SG,normal_vertex:EG,normalmap_pars_fragment:wG,clearcoat_normal_fragment_begin:CG,clearcoat_normal_fragment_maps:TG,clearcoat_pars_fragment:bG,iridescence_pars_fragment:RG,output_fragment:PG,packing:BG,premultiplied_alpha_fragment:IG,project_vertex:LG,dithering_fragment:DG,dithering_pars_fragment:FG,roughnessmap_fragment:NG,roughnessmap_pars_fragment:OG,shadowmap_pars_fragment:UG,shadowmap_pars_vertex:kG,shadowmap_vertex:zG,shadowmask_pars_fragment:GG,skinbase_vertex:HG,skinning_pars_vertex:VG,skinning_vertex:WG,skinnormal_vertex:jG,specularmap_fragment:JG,specularmap_pars_fragment:XG,tonemapping_fragment:KG,tonemapping_pars_fragment:YG,transmission_fragment:QG,transmission_pars_fragment:qG,uv_pars_fragment:ZG,uv_pars_vertex:$G,uv_vertex:eH,worldpos_vertex:tH,background_vert:nH,background_frag:iH,backgroundCube_vert:rH,backgroundCube_frag:sH,cube_vert:oH,cube_frag:aH,depth_vert:lH,depth_frag:cH,distanceRGBA_vert:uH,distanceRGBA_frag:fH,equirect_vert:hH,equirect_frag:dH,linedashed_vert:pH,linedashed_frag:mH,meshbasic_vert:gH,meshbasic_frag:yH,meshlambert_vert:vH,meshlambert_frag:xH,meshmatcap_vert:AH,meshmatcap_frag:_H,meshnormal_vert:MH,meshnormal_frag:SH,meshphong_vert:EH,meshphong_frag:wH,meshphysical_vert:CH,meshphysical_frag:TH,meshtoon_vert:bH,meshtoon_frag:RH,points_vert:PH,points_frag:BH,shadow_vert:IH,shadow_frag:LH,sprite_vert:DH,sprite_frag:FH},De={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Et}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Et}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Et}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Et},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Et},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Et},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Et}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Et}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Et}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Et}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaTest:{value:0}}},Hr={basic:{uniforms:mi([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:mi([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Fe(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:mi([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:mi([De.common,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.roughnessmap,De.metalnessmap,De.fog,De.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:mi([De.common,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.gradientmap,De.fog,De.lights,{emissive:{value:new Fe(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:mi([De.common,De.bumpmap,De.normalmap,De.displacementmap,De.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:mi([De.points,De.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:mi([De.common,De.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:mi([De.common,De.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:mi([De.common,De.bumpmap,De.normalmap,De.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:mi([De.sprite,De.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new Et},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:yt.backgroundCube_vert,fragmentShader:yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:mi([De.common,De.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:mi([De.lights,De.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};Hr.physical={uniforms:mi([Hr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Et},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Et},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Et},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Et},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Et},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Et},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Et},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Et},transmissionSamplerSize:{value:new Ae},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Et},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Et},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Et}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};const em={r:0,b:0,g:0};function NH(n,e,t,i,r,s,o){const a=new Fe(0);let l=s===!0?0:1,c,h,d=null,p=0,m=null;function v(_,g){let A=!1,M=g.isScene===!0?g.background:null;switch(M&&M.isTexture&&(M=(g.backgroundBlurriness>0?t:e).get(M)),M===null?x(a,l):M&&M.isColor&&(x(M,1),A=!0),n.xr.getEnvironmentBlendMode()){case"opaque":A=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),A=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),A=!0;break}(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),M&&(M.isCubeTexture||M.mapping===wu)?(h===void 0&&(h=new Ln(new pa(1,1,1),new Es({name:"BackgroundCubeMaterial",uniforms:hu(Hr.backgroundCube.uniforms),vertexShader:Hr.backgroundCube.vertexShader,fragmentShader:Hr.backgroundCube.fragmentShader,side:xi,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(R,B,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=M,h.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=M.colorSpace!==pt,(d!==M||p!==M.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),h.layers.enableAll(),_.unshift(h,h.geometry,h.material,0,0,null)):M&&M.isTexture&&(c===void 0&&(c=new Ln(new Cu(2,2),new Es({name:"BackgroundMaterial",uniforms:hu(Hr.background.uniforms),vertexShader:Hr.background.vertexShader,fragmentShader:Hr.background.fragmentShader,side:Ms,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=M,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=M.colorSpace!==pt,M.matrixAutoUpdate===!0&&M.updateMatrix(),c.material.uniforms.uvTransform.value.copy(M.matrix),(d!==M||p!==M.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function x(_,g){_.getRGB(em,pL(n)),i.buffers.color.setClear(em.r,em.g,em.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(_,g=1){a.set(_),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,x(a,l)},render:v}}function OH(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=_(null);let c=l,h=!1;function d(K,X,oe,te,L){let V=!1;if(o){const H=x(te,oe,X);c!==H&&(c=H,m(c.object)),V=g(K,te,oe,L),V&&A(K,te,oe,L)}else{const H=X.wireframe===!0;(c.geometry!==te.id||c.program!==oe.id||c.wireframe!==H)&&(c.geometry=te.id,c.program=oe.id,c.wireframe=H,V=!0)}L!==null&&t.update(L,n.ELEMENT_ARRAY_BUFFER),(V||h)&&(h=!1,P(K,X,oe,te),L!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(L).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(K){return i.isWebGL2?n.bindVertexArray(K):s.bindVertexArrayOES(K)}function v(K){return i.isWebGL2?n.deleteVertexArray(K):s.deleteVertexArrayOES(K)}function x(K,X,oe){const te=oe.wireframe===!0;let L=a[K.id];L===void 0&&(L={},a[K.id]=L);let V=L[X.id];V===void 0&&(V={},L[X.id]=V);let H=V[te];return H===void 0&&(H=_(p()),V[te]=H),H}function _(K){const X=[],oe=[],te=[];for(let L=0;L<r;L++)X[L]=0,oe[L]=0,te[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:oe,attributeDivisors:te,object:K,attributes:{},index:null}}function g(K,X,oe,te){const L=c.attributes,V=X.attributes;let H=0;const ee=oe.getAttributes();for(const Z in ee)if(ee[Z].location>=0){const ie=L[Z];let Ee=V[Z];if(Ee===void 0&&(Z==="instanceMatrix"&&K.instanceMatrix&&(Ee=K.instanceMatrix),Z==="instanceColor"&&K.instanceColor&&(Ee=K.instanceColor)),ie===void 0||ie.attribute!==Ee||Ee&&ie.data!==Ee.data)return!0;H++}return c.attributesNum!==H||c.index!==te}function A(K,X,oe,te){const L={},V=X.attributes;let H=0;const ee=oe.getAttributes();for(const Z in ee)if(ee[Z].location>=0){let ie=V[Z];ie===void 0&&(Z==="instanceMatrix"&&K.instanceMatrix&&(ie=K.instanceMatrix),Z==="instanceColor"&&K.instanceColor&&(ie=K.instanceColor));const Ee={};Ee.attribute=ie,ie&&ie.data&&(Ee.data=ie.data),L[Z]=Ee,H++}c.attributes=L,c.attributesNum=H,c.index=te}function M(){const K=c.newAttributes;for(let X=0,oe=K.length;X<oe;X++)K[X]=0}function E(K){C(K,0)}function C(K,X){const oe=c.newAttributes,te=c.enabledAttributes,L=c.attributeDivisors;oe[K]=1,te[K]===0&&(n.enableVertexAttribArray(K),te[K]=1),L[K]!==X&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,X),L[K]=X)}function R(){const K=c.newAttributes,X=c.enabledAttributes;for(let oe=0,te=X.length;oe<te;oe++)X[oe]!==K[oe]&&(n.disableVertexAttribArray(oe),X[oe]=0)}function B(K,X,oe,te,L,V){i.isWebGL2===!0&&(oe===n.INT||oe===n.UNSIGNED_INT)?n.vertexAttribIPointer(K,X,oe,L,V):n.vertexAttribPointer(K,X,oe,te,L,V)}function P(K,X,oe,te){if(i.isWebGL2===!1&&(K.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const L=te.attributes,V=oe.getAttributes(),H=X.defaultAttributeValues;for(const ee in V){const Z=V[ee];if(Z.location>=0){let ne=L[ee];if(ne===void 0&&(ee==="instanceMatrix"&&K.instanceMatrix&&(ne=K.instanceMatrix),ee==="instanceColor"&&K.instanceColor&&(ne=K.instanceColor)),ne!==void 0){const ie=ne.normalized,Ee=ne.itemSize,pe=t.get(ne);if(pe===void 0)continue;const j=pe.buffer,ke=pe.type,Xe=pe.bytesPerElement;if(ne.isInterleavedBufferAttribute){const Me=ne.data,_e=Me.stride,de=ne.offset;if(Me.isInstancedInterleavedBuffer){for(let ae=0;ae<Z.locationSize;ae++)C(Z.location+ae,Me.meshPerAttribute);K.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let ae=0;ae<Z.locationSize;ae++)E(Z.location+ae);n.bindBuffer(n.ARRAY_BUFFER,j);for(let ae=0;ae<Z.locationSize;ae++)B(Z.location+ae,Ee/Z.locationSize,ke,ie,_e*Xe,(de+Ee/Z.locationSize*ae)*Xe)}else{if(ne.isInstancedBufferAttribute){for(let Me=0;Me<Z.locationSize;Me++)C(Z.location+Me,ne.meshPerAttribute);K.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Me=0;Me<Z.locationSize;Me++)E(Z.location+Me);n.bindBuffer(n.ARRAY_BUFFER,j);for(let Me=0;Me<Z.locationSize;Me++)B(Z.location+Me,Ee/Z.locationSize,ke,ie,Ee*Xe,Ee/Z.locationSize*Me*Xe)}}else if(H!==void 0){const ie=H[ee];if(ie!==void 0)switch(ie.length){case 2:n.vertexAttrib2fv(Z.location,ie);break;case 3:n.vertexAttrib3fv(Z.location,ie);break;case 4:n.vertexAttrib4fv(Z.location,ie);break;default:n.vertexAttrib1fv(Z.location,ie)}}}}R()}function b(){J();for(const K in a){const X=a[K];for(const oe in X){const te=X[oe];for(const L in te)v(te[L].object),delete te[L];delete X[oe]}delete a[K]}}function I(K){if(a[K.id]===void 0)return;const X=a[K.id];for(const oe in X){const te=X[oe];for(const L in te)v(te[L].object),delete te[L];delete X[oe]}delete a[K.id]}function G(K){for(const X in a){const oe=a[X];if(oe[K.id]===void 0)continue;const te=oe[K.id];for(const L in te)v(te[L].object),delete te[L];delete oe[K.id]}}function J(){W(),h=!0,c!==l&&(c=l,m(c.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:J,resetDefaultState:W,dispose:b,releaseStatesOfGeometry:I,releaseStatesOfProgram:G,initAttributes:M,enableAttribute:E,disableUnusedAttributes:R}}function UH(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,h){n.drawArrays(s,c,h),t.update(h,s,1)}function l(c,h,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,h,d),t.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function kH(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=p>0,E=o||e.has("OES_texture_float"),C=M&&E,R=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:x,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:A,vertexTextures:M,floatFragmentTextures:E,floatVertexTextures:C,maxSamples:R}}function zH(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Do,a=new Et,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,x=d.clipIntersection,_=d.clipShadows,g=n.get(d);if(!r||v===null||v.length===0||s&&!_)s?h(null):c();else{const A=s?0:i,M=A*4;let E=g.clippingState||null;l.value=E,E=h(v,p,M,m);for(let C=0;C!==M;++C)E[C]=t[C];g.clippingState=E,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,v){const x=d!==null?d.length:0;let _=null;if(x!==0){if(_=l.value,v!==!0||_===null){const g=m+x*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(_===null||_.length<g)&&(_=new Float32Array(g));for(let M=0,E=m;M!==x;++M,E+=4)o.copy(d[M]).applyMatrix4(A,a),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,_}}function GH(n){let e=new WeakMap;function t(o,a){return a===Mh?o.mapping=ia:a===Sh&&(o.mapping=ra),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Mh||a===Sh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new sS(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Xr extends Qh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Lc=4,RC=[.125,.215,.35,.446,.526,.582],Xa=20,F0=new Xr,PC=new Fe;let N0=null;const Ga=(1+Math.sqrt(5))/2,ac=1/Ga,BC=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,Ga,ac),new F(0,Ga,-ac),new F(ac,0,Ga),new F(-ac,0,Ga),new F(Ga,ac,0),new F(-Ga,ac,0)];class o_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){N0=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=DC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=LC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(N0),e.scissorTest=!1,tm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ia||e.mapping===ra?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),N0=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:on,minFilter:on,generateMipmaps:!1,type:cu,format:Pi,colorSpace:Qr,depthBuffer:!1},r=IC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=IC(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=HH(s)),this._blurMaterial=VH(s,e,t)}return r}_compileMaterial(e){const t=new Ln(this._lodPlanes[0],e);this._renderer.compile(t,F0)}_sceneToCubeUV(e,t,i,r){const a=new Wt(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(PC),h.toneMapping=Jr,h.autoClear=!1;const m=new Ki({name:"PMREM.Background",side:xi,depthWrite:!1,depthTest:!1}),v=new Ln(new pa,m);let x=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,x=!0):(m.color.copy(PC),x=!0);for(let g=0;g<6;g++){const A=g%3;A===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):A===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const M=this._cubeSize;tm(r,A*M,g>2?M:0,M,M),h.setRenderTarget(r),x&&h.render(v,a),h.render(e,a)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===ia||e.mapping===ra;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=DC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=LC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Ln(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;tm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,F0)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=BC[(r-1)%BC.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new Ln(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Xa-1),x=s/v,_=isFinite(s)?1+Math.floor(h*x):Xa;_>Xa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Xa}`);const g=[];let A=0;for(let B=0;B<Xa;++B){const P=B/x,b=Math.exp(-P*P/2);g.push(b),B===0?A+=b:B<_&&(A+=2*b)}for(let B=0;B<g.length;B++)g[B]=g[B]/A;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:M}=this;p.dTheta.value=v,p.mipInt.value=M-i;const E=this._sizeLods[r],C=3*E*(r>M-Lc?r-M+Lc:0),R=4*(this._cubeSize-E);tm(t,C,R,3*E,2*E),l.setRenderTarget(t),l.render(d,F0)}}function HH(n){const e=[],t=[],i=[];let r=n;const s=n-Lc+1+RC.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Lc?l=RC[o-n+Lc-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),h=-c,d=1+c,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,x=3,_=2,g=1,A=new Float32Array(x*v*m),M=new Float32Array(_*v*m),E=new Float32Array(g*v*m);for(let R=0;R<m;R++){const B=R%3*2/3-1,P=R>2?0:-1,b=[B,P,0,B+2/3,P,0,B+2/3,P+1,0,B,P,0,B+2/3,P+1,0,B,P+1,0];A.set(b,x*v*R),M.set(p,_*v*R);const I=[R,R,R,R,R,R];E.set(I,g*v*R)}const C=new ut;C.setAttribute("position",new Dt(A,x)),C.setAttribute("uv",new Dt(M,_)),C.setAttribute("faceIndex",new Dt(E,g)),e.push(C),r>Lc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function IC(n,e,t){const i=new qr(n,e,t);return i.texture.mapping=wu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function tm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function VH(n,e,t){const i=new Float32Array(Xa),r=new F(0,1,0);return new Es({name:"SphericalGaussianBlur",defines:{n:Xa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:oS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function LC(){return new Es({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function DC(){return new Es({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function oS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WH(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Mh||l===Sh,h=l===ia||l===ra;if(c||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new o_(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||h&&d&&r(d)){t===null&&(t=new o_(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function jH(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function JH(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const x=m[v];for(let _=0,g=x.length;_<g;_++)e.update(x[_],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,v=d.attributes.position;let x=0;if(m!==null){const A=m.array;x=m.version;for(let M=0,E=A.length;M<E;M+=3){const C=A[M+0],R=A[M+1],B=A[M+2];p.push(C,R,R,B,B,C)}}else{const A=v.array;x=v.version;for(let M=0,E=A.length/3-1;M<E;M+=3){const C=M+0,R=M+1,B=M+2;p.push(C,R,R,B,B,C)}}const _=new(hL(p)?iS:nS)(p,1);_.version=x;const g=s.get(d);g&&e.remove(g),s.set(d,_)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function XH(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function h(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,v){if(v===0)return;let x,_;if(r)x=n,_="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[_](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=d}function KH(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function YH(n,e){return n[0]-e[0]}function QH(n,e){return Math.abs(e[1])-Math.abs(n[1])}function qH(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new kt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,h,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,x=v!==void 0?v.length:0;let _=s.get(h);if(_===void 0||_.count!==x){let X=function(){W.dispose(),s.delete(h),h.removeEventListener("dispose",X)};var m=X;_!==void 0&&_.texture.dispose();const M=h.morphAttributes.position!==void 0,E=h.morphAttributes.normal!==void 0,C=h.morphAttributes.color!==void 0,R=h.morphAttributes.position||[],B=h.morphAttributes.normal||[],P=h.morphAttributes.color||[];let b=0;M===!0&&(b=1),E===!0&&(b=2),C===!0&&(b=3);let I=h.attributes.position.count*b,G=1;I>e.maxTextureSize&&(G=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const J=new Float32Array(I*G*4*x),W=new hy(J,I,G,x);W.type=Xs,W.needsUpdate=!0;const K=b*4;for(let oe=0;oe<x;oe++){const te=R[oe],L=B[oe],V=P[oe],H=I*G*4*oe;for(let ee=0;ee<te.count;ee++){const Z=ee*K;M===!0&&(o.fromBufferAttribute(te,ee),J[H+Z+0]=o.x,J[H+Z+1]=o.y,J[H+Z+2]=o.z,J[H+Z+3]=0),E===!0&&(o.fromBufferAttribute(L,ee),J[H+Z+4]=o.x,J[H+Z+5]=o.y,J[H+Z+6]=o.z,J[H+Z+7]=0),C===!0&&(o.fromBufferAttribute(V,ee),J[H+Z+8]=o.x,J[H+Z+9]=o.y,J[H+Z+10]=o.z,J[H+Z+11]=V.itemSize===4?o.w:1)}}_={count:x,texture:W,size:new Ae(I,G)},s.set(h,_),h.addEventListener("dispose",X)}let g=0;for(let M=0;M<p.length;M++)g+=p[M];const A=h.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=p===void 0?0:p.length;let x=i[h.id];if(x===void 0||x.length!==v){x=[];for(let E=0;E<v;E++)x[E]=[E,0];i[h.id]=x}for(let E=0;E<v;E++){const C=x[E];C[0]=E,C[1]=p[E]}x.sort(QH);for(let E=0;E<8;E++)E<v&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(YH);const _=h.morphAttributes.position,g=h.morphAttributes.normal;let A=0;for(let E=0;E<8;E++){const C=a[E],R=C[0],B=C[1];R!==Number.MAX_SAFE_INTEGER&&B?(_&&h.getAttribute("morphTarget"+E)!==_[R]&&h.setAttribute("morphTarget"+E,_[R]),g&&h.getAttribute("morphNormal"+E)!==g[R]&&h.setAttribute("morphNormal"+E,g[R]),r[E]=B,A+=B):(_&&h.hasAttribute("morphTarget"+E)===!0&&h.deleteAttribute("morphTarget"+E),g&&h.hasAttribute("morphNormal"+E)===!0&&h.deleteAttribute("morphNormal"+E),r[E]=0)}const M=h.morphTargetsRelative?1:1-A;d.getUniforms().setValue(n,"morphTargetBaseInfluence",M),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function ZH(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,h=l.geometry,d=e.get(l,h);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const yL=new tn,vL=new hy,xL=new tS,AL=new qh,FC=[],NC=[],OC=new Float32Array(16),UC=new Float32Array(9),kC=new Float32Array(4);function Tu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=FC[r];if(s===void 0&&(s=new Float32Array(r),FC[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Dn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Fn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function py(n,e){let t=NC[e];t===void 0&&(t=new Int32Array(e),NC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function $H(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function eV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dn(t,e))return;n.uniform2fv(this.addr,e),Fn(t,e)}}function tV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Dn(t,e))return;n.uniform3fv(this.addr,e),Fn(t,e)}}function nV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dn(t,e))return;n.uniform4fv(this.addr,e),Fn(t,e)}}function iV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Fn(t,e)}else{if(Dn(t,i))return;kC.set(i),n.uniformMatrix2fv(this.addr,!1,kC),Fn(t,i)}}function rV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Fn(t,e)}else{if(Dn(t,i))return;UC.set(i),n.uniformMatrix3fv(this.addr,!1,UC),Fn(t,i)}}function sV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Fn(t,e)}else{if(Dn(t,i))return;OC.set(i),n.uniformMatrix4fv(this.addr,!1,OC),Fn(t,i)}}function oV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function aV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dn(t,e))return;n.uniform2iv(this.addr,e),Fn(t,e)}}function lV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dn(t,e))return;n.uniform3iv(this.addr,e),Fn(t,e)}}function cV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dn(t,e))return;n.uniform4iv(this.addr,e),Fn(t,e)}}function uV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function fV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dn(t,e))return;n.uniform2uiv(this.addr,e),Fn(t,e)}}function hV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dn(t,e))return;n.uniform3uiv(this.addr,e),Fn(t,e)}}function dV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dn(t,e))return;n.uniform4uiv(this.addr,e),Fn(t,e)}}function pV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||yL,r)}function mV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||xL,r)}function gV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||AL,r)}function yV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||vL,r)}function vV(n){switch(n){case 5126:return $H;case 35664:return eV;case 35665:return tV;case 35666:return nV;case 35674:return iV;case 35675:return rV;case 35676:return sV;case 5124:case 35670:return oV;case 35667:case 35671:return aV;case 35668:case 35672:return lV;case 35669:case 35673:return cV;case 5125:return uV;case 36294:return fV;case 36295:return hV;case 36296:return dV;case 35678:case 36198:case 36298:case 36306:case 35682:return pV;case 35679:case 36299:case 36307:return mV;case 35680:case 36300:case 36308:case 36293:return gV;case 36289:case 36303:case 36311:case 36292:return yV}}function xV(n,e){n.uniform1fv(this.addr,e)}function AV(n,e){const t=Tu(e,this.size,2);n.uniform2fv(this.addr,t)}function _V(n,e){const t=Tu(e,this.size,3);n.uniform3fv(this.addr,t)}function MV(n,e){const t=Tu(e,this.size,4);n.uniform4fv(this.addr,t)}function SV(n,e){const t=Tu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function EV(n,e){const t=Tu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function wV(n,e){const t=Tu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function CV(n,e){n.uniform1iv(this.addr,e)}function TV(n,e){n.uniform2iv(this.addr,e)}function bV(n,e){n.uniform3iv(this.addr,e)}function RV(n,e){n.uniform4iv(this.addr,e)}function PV(n,e){n.uniform1uiv(this.addr,e)}function BV(n,e){n.uniform2uiv(this.addr,e)}function IV(n,e){n.uniform3uiv(this.addr,e)}function LV(n,e){n.uniform4uiv(this.addr,e)}function DV(n,e,t){const i=this.cache,r=e.length,s=py(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||yL,s[o])}function FV(n,e,t){const i=this.cache,r=e.length,s=py(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||xL,s[o])}function NV(n,e,t){const i=this.cache,r=e.length,s=py(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||AL,s[o])}function OV(n,e,t){const i=this.cache,r=e.length,s=py(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||vL,s[o])}function UV(n){switch(n){case 5126:return xV;case 35664:return AV;case 35665:return _V;case 35666:return MV;case 35674:return SV;case 35675:return EV;case 35676:return wV;case 5124:case 35670:return CV;case 35667:case 35671:return TV;case 35668:case 35672:return bV;case 35669:case 35673:return RV;case 5125:return PV;case 36294:return BV;case 36295:return IV;case 36296:return LV;case 35678:case 36198:case 36298:case 36306:case 35682:return DV;case 35679:case 36299:case 36307:return FV;case 35680:case 36300:case 36308:case 36293:return NV;case 36289:case 36303:case 36311:case 36292:return OV}}class kV{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=vV(t.type)}}class zV{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=UV(t.type)}}class GV{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const O0=/(\w+)(\])?(\[|\.)?/g;function zC(n,e){n.seq.push(e),n.map[e.id]=e}function HV(n,e,t){const i=n.name,r=i.length;for(O0.lastIndex=0;;){const s=O0.exec(i),o=O0.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){zC(t,c===void 0?new kV(a,n,e):new zV(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new GV(a),zC(t,d)),t=d}}}class Zm{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);HV(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function GC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let VV=0;function WV(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function jV(n){switch(n){case Qr:return["Linear","( value )"];case pt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function HC(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+WV(n.getShaderSource(e),o)}else return r}function JV(n,e){const t=jV(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function XV(n,e){let t;switch(e){case OI:t="Linear";break;case UI:t="Reinhard";break;case kI:t="OptimizedCineon";break;case JM:t="ACESFilmic";break;case zI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function KV(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Lf).join(`
`)}function YV(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function QV(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Lf(n){return n!==""}function VC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function WC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qV=/^[ \t]*#include +<([\w\d./]+)>/gm;function a_(n){return n.replace(qV,ZV)}function ZV(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return a_(t)}const $V=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jC(n){return n.replace($V,e4)}function e4(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function JC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function t4(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===ly?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Jf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===kr&&(e="SHADOWMAP_TYPE_VSM"),e}function n4(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ia:case ra:e="ENVMAP_TYPE_CUBE";break;case wu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function i4(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ra:e="ENVMAP_MODE_REFRACTION";break}return e}function r4(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Kh:e="ENVMAP_BLENDING_MULTIPLY";break;case FI:e="ENVMAP_BLENDING_MIX";break;case NI:e="ENVMAP_BLENDING_ADD";break}return e}function s4(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function o4(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=t4(t),c=n4(t),h=i4(t),d=r4(t),p=s4(t),m=t.isWebGL2?"":KV(t),v=YV(s),x=r.createProgram();let _,g,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[v].filter(Lf).join(`
`),_.length>0&&(_+=`
`),g=[m,v].filter(Lf).join(`
`),g.length>0&&(g+=`
`)):(_=[JC(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Lf).join(`
`),g=[m,JC(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Jr?"#define TONE_MAPPING":"",t.toneMapping!==Jr?yt.tonemapping_pars_fragment:"",t.toneMapping!==Jr?XV("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yt.encodings_pars_fragment,JV("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Lf).join(`
`)),o=a_(o),o=VC(o,t),o=WC(o,t),a=a_(a),a=VC(a,t),a=WC(a,t),o=jC(o),a=jC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["#define varying in",t.glslVersion===r_?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===r_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const M=A+_+o,E=A+g+a,C=GC(r,r.VERTEX_SHADER,M),R=GC(r,r.FRAGMENT_SHADER,E);if(r.attachShader(x,C),r.attachShader(x,R),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x),n.debug.checkShaderErrors){const b=r.getProgramInfoLog(x).trim(),I=r.getShaderInfoLog(C).trim(),G=r.getShaderInfoLog(R).trim();let J=!0,W=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(J=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,C,R);else{const K=HC(r,C,"vertex"),X=HC(r,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Program Info Log: `+b+`
`+K+`
`+X)}else b!==""?console.warn("THREE.WebGLProgram: Program Info Log:",b):(I===""||G==="")&&(W=!1);W&&(this.diagnostics={runnable:J,programLog:b,vertexShader:{log:I,prefix:_},fragmentShader:{log:G,prefix:g}})}r.deleteShader(C),r.deleteShader(R);let B;this.getUniforms=function(){return B===void 0&&(B=new Zm(r,x)),B};let P;return this.getAttributes=function(){return P===void 0&&(P=QV(r,x)),P},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.name=t.shaderName,this.id=VV++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=C,this.fragmentShader=R,this}let a4=0;class l4{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new c4(e),t.set(e,i)),i}}class c4{constructor(e){this.id=a4++,this.code=e,this.usedTimes=0}}function u4(n,e,t,i,r,s,o){const a=new ll,l=new l4,c=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(b){return b===1?"uv1":b===2?"uv2":b===3?"uv3":"uv"}function _(b,I,G,J,W){const K=J.fog,X=W.geometry,oe=b.isMeshStandardMaterial?J.environment:null,te=(b.isMeshStandardMaterial?t:e).get(b.envMap||oe),L=te&&te.mapping===wu?te.image.height:null,V=v[b.type];b.precision!==null&&(m=r.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const H=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,ee=H!==void 0?H.length:0;let Z=0;X.morphAttributes.position!==void 0&&(Z=1),X.morphAttributes.normal!==void 0&&(Z=2),X.morphAttributes.color!==void 0&&(Z=3);let ne,ie,Ee,pe;if(V){const Ft=Hr[V];ne=Ft.vertexShader,ie=Ft.fragmentShader}else ne=b.vertexShader,ie=b.fragmentShader,l.update(b),Ee=l.getVertexShaderID(b),pe=l.getFragmentShaderID(b);const j=n.getRenderTarget(),ke=W.isInstancedMesh===!0,Xe=!!b.map,Me=!!b.matcap,_e=!!te,de=!!b.aoMap,ae=!!b.lightMap,Se=!!b.bumpMap,Le=!!b.normalMap,Ie=!!b.displacementMap,We=!!b.emissiveMap,Ke=!!b.metalnessMap,je=!!b.roughnessMap,tt=b.clearcoat>0,mt=b.iridescence>0,k=b.sheen>0,D=b.transmission>0,ce=tt&&!!b.clearcoatMap,Ce=tt&&!!b.clearcoatNormalMap,Te=tt&&!!b.clearcoatRoughnessMap,Pe=mt&&!!b.iridescenceMap,$e=mt&&!!b.iridescenceThicknessMap,Oe=k&&!!b.sheenColorMap,ge=k&&!!b.sheenRoughnessMap,Ge=!!b.specularMap,z=!!b.specularColorMap,se=!!b.specularIntensityMap,ve=D&&!!b.transmissionMap,be=D&&!!b.thicknessMap,Ze=!!b.gradientMap,ft=!!b.alphaMap,Gt=b.alphaTest>0,Y=!!b.extensions,he=!!X.attributes.uv1,we=!!X.attributes.uv2,ze=!!X.attributes.uv3;return{isWebGL2:h,shaderID:V,shaderName:b.type,vertexShader:ne,fragmentShader:ie,defines:b.defines,customVertexShaderID:Ee,customFragmentShaderID:pe,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:ke,instancingColor:ke&&W.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:j===null?n.outputColorSpace:j.isXRRenderTarget===!0?j.texture.colorSpace:Qr,map:Xe,matcap:Me,envMap:_e,envMapMode:_e&&te.mapping,envMapCubeUVHeight:L,aoMap:de,lightMap:ae,bumpMap:Se,normalMap:Le,displacementMap:p&&Ie,emissiveMap:We,normalMapObjectSpace:Le&&b.normalMapType===lL,normalMapTangentSpace:Le&&b.normalMapType===da,metalnessMap:Ke,roughnessMap:je,clearcoat:tt,clearcoatMap:ce,clearcoatNormalMap:Ce,clearcoatRoughnessMap:Te,iridescence:mt,iridescenceMap:Pe,iridescenceThicknessMap:$e,sheen:k,sheenColorMap:Oe,sheenRoughnessMap:ge,specularMap:Ge,specularColorMap:z,specularIntensityMap:se,transmission:D,transmissionMap:ve,thicknessMap:be,gradientMap:Ze,opaque:b.transparent===!1&&b.blending===sl,alphaMap:ft,alphaTest:Gt,combine:b.combine,mapUv:Xe&&x(b.map.channel),aoMapUv:de&&x(b.aoMap.channel),lightMapUv:ae&&x(b.lightMap.channel),bumpMapUv:Se&&x(b.bumpMap.channel),normalMapUv:Le&&x(b.normalMap.channel),displacementMapUv:Ie&&x(b.displacementMap.channel),emissiveMapUv:We&&x(b.emissiveMap.channel),metalnessMapUv:Ke&&x(b.metalnessMap.channel),roughnessMapUv:je&&x(b.roughnessMap.channel),clearcoatMapUv:ce&&x(b.clearcoatMap.channel),clearcoatNormalMapUv:Ce&&x(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Te&&x(b.clearcoatRoughnessMap.channel),iridescenceMapUv:Pe&&x(b.iridescenceMap.channel),iridescenceThicknessMapUv:$e&&x(b.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&x(b.sheenColorMap.channel),sheenRoughnessMapUv:ge&&x(b.sheenRoughnessMap.channel),specularMapUv:Ge&&x(b.specularMap.channel),specularColorMapUv:z&&x(b.specularColorMap.channel),specularIntensityMapUv:se&&x(b.specularIntensityMap.channel),transmissionMapUv:ve&&x(b.transmissionMap.channel),thicknessMapUv:be&&x(b.thicknessMap.channel),alphaMapUv:ft&&x(b.alphaMap.channel),vertexTangents:Le&&!!X.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:he,vertexUv2s:we,vertexUv3s:ze,pointsUvs:W.isPoints===!0&&!!X.attributes.uv&&(Xe||ft),fog:!!K,useFog:b.fog===!0,fogExp2:K&&K.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:W.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:Z,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&G.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:Jr,useLegacyLights:n.useLegacyLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Mr,flipSided:b.side===xi,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:Y&&b.extensions.derivatives===!0,extensionFragDepth:Y&&b.extensions.fragDepth===!0,extensionDrawBuffers:Y&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:Y&&b.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function g(b){const I=[];if(b.shaderID?I.push(b.shaderID):(I.push(b.customVertexShaderID),I.push(b.customFragmentShaderID)),b.defines!==void 0)for(const G in b.defines)I.push(G),I.push(b.defines[G]);return b.isRawShaderMaterial===!1&&(A(I,b),M(I,b),I.push(n.outputColorSpace)),I.push(b.customProgramCacheKey),I.join()}function A(b,I){b.push(I.precision),b.push(I.outputColorSpace),b.push(I.envMapMode),b.push(I.envMapCubeUVHeight),b.push(I.mapUv),b.push(I.alphaMapUv),b.push(I.lightMapUv),b.push(I.aoMapUv),b.push(I.bumpMapUv),b.push(I.normalMapUv),b.push(I.displacementMapUv),b.push(I.emissiveMapUv),b.push(I.metalnessMapUv),b.push(I.roughnessMapUv),b.push(I.clearcoatMapUv),b.push(I.clearcoatNormalMapUv),b.push(I.clearcoatRoughnessMapUv),b.push(I.iridescenceMapUv),b.push(I.iridescenceThicknessMapUv),b.push(I.sheenColorMapUv),b.push(I.sheenRoughnessMapUv),b.push(I.specularMapUv),b.push(I.specularColorMapUv),b.push(I.specularIntensityMapUv),b.push(I.transmissionMapUv),b.push(I.thicknessMapUv),b.push(I.combine),b.push(I.fogExp2),b.push(I.sizeAttenuation),b.push(I.morphTargetsCount),b.push(I.morphAttributeCount),b.push(I.numDirLights),b.push(I.numPointLights),b.push(I.numSpotLights),b.push(I.numSpotLightMaps),b.push(I.numHemiLights),b.push(I.numRectAreaLights),b.push(I.numDirLightShadows),b.push(I.numPointLightShadows),b.push(I.numSpotLightShadows),b.push(I.numSpotLightShadowsWithMaps),b.push(I.shadowMapType),b.push(I.toneMapping),b.push(I.numClippingPlanes),b.push(I.numClipIntersection),b.push(I.depthPacking)}function M(b,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),b.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.useLegacyLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),b.push(a.mask)}function E(b){const I=v[b.type];let G;if(I){const J=Hr[I];G=mL.clone(J.uniforms)}else G=b.uniforms;return G}function C(b,I){let G;for(let J=0,W=c.length;J<W;J++){const K=c[J];if(K.cacheKey===I){G=K,++G.usedTimes;break}}return G===void 0&&(G=new o4(n,I,b,s),c.push(G)),G}function R(b){if(--b.usedTimes===0){const I=c.indexOf(b);c[I]=c[c.length-1],c.pop(),b.destroy()}}function B(b){l.remove(b)}function P(){l.dispose()}return{getParameters:_,getProgramCacheKey:g,getUniforms:E,acquireProgram:C,releaseProgram:R,releaseShaderCache:B,programs:c,dispose:P}}function f4(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function h4(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function XC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function KC(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,v,x,_){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:x,group:_},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=x,g.group=_),e++,g}function a(d,p,m,v,x,_){const g=o(d,p,m,v,x,_);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,v,x,_){const g=o(d,p,m,v,x,_);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||h4),i.length>1&&i.sort(p||XC),r.length>1&&r.sort(p||XC)}function h(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:c}}function d4(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new KC,n.set(i,[o])):r>=s.length?(o=new KC,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function p4(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new Fe};break;case"SpotLight":t={position:new F,direction:new F,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":t={color:new Fe,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function m4(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let g4=0;function y4(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function v4(n,e){const t=new p4,i=m4(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new F);const s=new F,o=new st,a=new st;function l(h,d){let p=0,m=0,v=0;for(let G=0;G<9;G++)r.probe[G].set(0,0,0);let x=0,_=0,g=0,A=0,M=0,E=0,C=0,R=0,B=0,P=0;h.sort(y4);const b=d===!0?Math.PI:1;for(let G=0,J=h.length;G<J;G++){const W=h[G],K=W.color,X=W.intensity,oe=W.distance,te=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=K.r*X*b,m+=K.g*X*b,v+=K.b*X*b;else if(W.isLightProbe)for(let L=0;L<9;L++)r.probe[L].addScaledVector(W.sh.coefficients[L],X);else if(W.isDirectionalLight){const L=t.get(W);if(L.color.copy(W.color).multiplyScalar(W.intensity*b),W.castShadow){const V=W.shadow,H=i.get(W);H.shadowBias=V.bias,H.shadowNormalBias=V.normalBias,H.shadowRadius=V.radius,H.shadowMapSize=V.mapSize,r.directionalShadow[x]=H,r.directionalShadowMap[x]=te,r.directionalShadowMatrix[x]=W.shadow.matrix,E++}r.directional[x]=L,x++}else if(W.isSpotLight){const L=t.get(W);L.position.setFromMatrixPosition(W.matrixWorld),L.color.copy(K).multiplyScalar(X*b),L.distance=oe,L.coneCos=Math.cos(W.angle),L.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),L.decay=W.decay,r.spot[g]=L;const V=W.shadow;if(W.map&&(r.spotLightMap[B]=W.map,B++,V.updateMatrices(W),W.castShadow&&P++),r.spotLightMatrix[g]=V.matrix,W.castShadow){const H=i.get(W);H.shadowBias=V.bias,H.shadowNormalBias=V.normalBias,H.shadowRadius=V.radius,H.shadowMapSize=V.mapSize,r.spotShadow[g]=H,r.spotShadowMap[g]=te,R++}g++}else if(W.isRectAreaLight){const L=t.get(W);L.color.copy(K).multiplyScalar(X),L.halfWidth.set(W.width*.5,0,0),L.halfHeight.set(0,W.height*.5,0),r.rectArea[A]=L,A++}else if(W.isPointLight){const L=t.get(W);if(L.color.copy(W.color).multiplyScalar(W.intensity*b),L.distance=W.distance,L.decay=W.decay,W.castShadow){const V=W.shadow,H=i.get(W);H.shadowBias=V.bias,H.shadowNormalBias=V.normalBias,H.shadowRadius=V.radius,H.shadowMapSize=V.mapSize,H.shadowCameraNear=V.camera.near,H.shadowCameraFar=V.camera.far,r.pointShadow[_]=H,r.pointShadowMap[_]=te,r.pointShadowMatrix[_]=W.shadow.matrix,C++}r.point[_]=L,_++}else if(W.isHemisphereLight){const L=t.get(W);L.skyColor.copy(W.color).multiplyScalar(X*b),L.groundColor.copy(W.groundColor).multiplyScalar(X*b),r.hemi[M]=L,M++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=De.LTC_FLOAT_1,r.rectAreaLTC2=De.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=De.LTC_HALF_1,r.rectAreaLTC2=De.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const I=r.hash;(I.directionalLength!==x||I.pointLength!==_||I.spotLength!==g||I.rectAreaLength!==A||I.hemiLength!==M||I.numDirectionalShadows!==E||I.numPointShadows!==C||I.numSpotShadows!==R||I.numSpotMaps!==B)&&(r.directional.length=x,r.spot.length=g,r.rectArea.length=A,r.point.length=_,r.hemi.length=M,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=R,r.spotShadowMap.length=R,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=R+B-P,r.spotLightMap.length=B,r.numSpotLightShadowsWithMaps=P,I.directionalLength=x,I.pointLength=_,I.spotLength=g,I.rectAreaLength=A,I.hemiLength=M,I.numDirectionalShadows=E,I.numPointShadows=C,I.numSpotShadows=R,I.numSpotMaps=B,r.version=g4++)}function c(h,d){let p=0,m=0,v=0,x=0,_=0;const g=d.matrixWorldInverse;for(let A=0,M=h.length;A<M;A++){const E=h[A];if(E.isDirectionalLight){const C=r.directional[p];C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),p++}else if(E.isSpotLight){const C=r.spot[v];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(g),C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),v++}else if(E.isRectAreaLight){const C=r.rectArea[x];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),x++}else if(E.isPointLight){const C=r.point[m];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const C=r.hemi[_];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(g),_++}}}return{setup:l,setupView:c,state:r}}function YC(n,e){const t=new v4(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function c(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function x4(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new YC(n,e),t.set(s,[l])):o>=a.length?(l=new YC(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class aS extends bn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=oL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lS extends bn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const A4=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_4=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function M4(n,e,t){let i=new dy;const r=new Ae,s=new Ae,o=new kt,a=new aS({depthPacking:aL}),l=new lS,c={},h=t.maxTextureSize,d={[Ms]:xi,[xi]:Ms,[Mr]:Mr},p=new Es({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:A4,fragmentShader:_4}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new ut;v.setAttribute("position",new Dt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ln(v,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ly;let g=this.type;this.render=function(C,R,B){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||C.length===0)return;const P=n.getRenderTarget(),b=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),G=n.state;G.setBlending(qs),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const J=g!==kr&&this.type===kr,W=g===kr&&this.type!==kr;for(let K=0,X=C.length;K<X;K++){const oe=C[K],te=oe.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",oe,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;r.copy(te.mapSize);const L=te.getFrameExtents();if(r.multiply(L),s.copy(te.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/L.x),r.x=s.x*L.x,te.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/L.y),r.y=s.y*L.y,te.mapSize.y=s.y)),te.map===null||J===!0||W===!0){const H=this.type!==kr?{minFilter:mn,magFilter:mn}:{};te.map!==null&&te.map.dispose(),te.map=new qr(r.x,r.y,H),te.map.texture.name=oe.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const V=te.getViewportCount();for(let H=0;H<V;H++){const ee=te.getViewport(H);o.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),G.viewport(o),te.updateMatrices(oe,H),i=te.getFrustum(),E(R,B,te.camera,oe,this.type)}te.isPointLightShadow!==!0&&this.type===kr&&A(te,B),te.needsUpdate=!1}g=this.type,_.needsUpdate=!1,n.setRenderTarget(P,b,I)};function A(C,R){const B=e.update(x);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new qr(r.x,r.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(R,null,B,p,x,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(R,null,B,m,x,null)}function M(C,R,B,P){let b=null;const I=B.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(I!==void 0)b=I;else if(b=B.isPointLight===!0?l:a,n.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const G=b.uuid,J=R.uuid;let W=c[G];W===void 0&&(W={},c[G]=W);let K=W[J];K===void 0&&(K=b.clone(),W[J]=K),b=K}if(b.visible=R.visible,b.wireframe=R.wireframe,P===kr?b.side=R.shadowSide!==null?R.shadowSide:R.side:b.side=R.shadowSide!==null?R.shadowSide:d[R.side],b.alphaMap=R.alphaMap,b.alphaTest=R.alphaTest,b.map=R.map,b.clipShadows=R.clipShadows,b.clippingPlanes=R.clippingPlanes,b.clipIntersection=R.clipIntersection,b.displacementMap=R.displacementMap,b.displacementScale=R.displacementScale,b.displacementBias=R.displacementBias,b.wireframeLinewidth=R.wireframeLinewidth,b.linewidth=R.linewidth,B.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const G=n.properties.get(b);G.light=B}return b}function E(C,R,B,P,b){if(C.visible===!1)return;if(C.layers.test(R.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&b===kr)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,C.matrixWorld);const J=e.update(C),W=C.material;if(Array.isArray(W)){const K=J.groups;for(let X=0,oe=K.length;X<oe;X++){const te=K[X],L=W[te.materialIndex];if(L&&L.visible){const V=M(C,L,P,b);n.renderBufferDirect(B,null,J,V,C,te)}}}else if(W.visible){const K=M(C,W,P,b);n.renderBufferDirect(B,null,J,K,C,null)}}const G=C.children;for(let J=0,W=G.length;J<W;J++)E(G[J],R,B,P,b)}}function S4(n,e,t){const i=t.isWebGL2;function r(){let Y=!1;const he=new kt;let we=null;const ze=new kt(0,0,0,0);return{setMask:function(Ye){we!==Ye&&!Y&&(n.colorMask(Ye,Ye,Ye,Ye),we=Ye)},setLocked:function(Ye){Y=Ye},setClear:function(Ye,Ft,Nt,Nn,Tr){Tr===!0&&(Ye*=Nn,Ft*=Nn,Nt*=Nn),he.set(Ye,Ft,Nt,Nn),ze.equals(he)===!1&&(n.clearColor(Ye,Ft,Nt,Nn),ze.copy(he))},reset:function(){Y=!1,we=null,ze.set(-1,0,0,0)}}}function s(){let Y=!1,he=null,we=null,ze=null;return{setTest:function(Ye){Ye?j(n.DEPTH_TEST):ke(n.DEPTH_TEST)},setMask:function(Ye){he!==Ye&&!Y&&(n.depthMask(Ye),he=Ye)},setFunc:function(Ye){if(we!==Ye){switch(Ye){case bI:n.depthFunc(n.NEVER);break;case RI:n.depthFunc(n.ALWAYS);break;case PI:n.depthFunc(n.LESS);break;case bg:n.depthFunc(n.LEQUAL);break;case BI:n.depthFunc(n.EQUAL);break;case II:n.depthFunc(n.GEQUAL);break;case LI:n.depthFunc(n.GREATER);break;case DI:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}we=Ye}},setLocked:function(Ye){Y=Ye},setClear:function(Ye){ze!==Ye&&(n.clearDepth(Ye),ze=Ye)},reset:function(){Y=!1,he=null,we=null,ze=null}}}function o(){let Y=!1,he=null,we=null,ze=null,Ye=null,Ft=null,Nt=null,Nn=null,Tr=null;return{setTest:function(qt){Y||(qt?j(n.STENCIL_TEST):ke(n.STENCIL_TEST))},setMask:function(qt){he!==qt&&!Y&&(n.stencilMask(qt),he=qt)},setFunc:function(qt,fi,sr){(we!==qt||ze!==fi||Ye!==sr)&&(n.stencilFunc(qt,fi,sr),we=qt,ze=fi,Ye=sr)},setOp:function(qt,fi,sr){(Ft!==qt||Nt!==fi||Nn!==sr)&&(n.stencilOp(qt,fi,sr),Ft=qt,Nt=fi,Nn=sr)},setLocked:function(qt){Y=qt},setClear:function(qt){Tr!==qt&&(n.clearStencil(qt),Tr=qt)},reset:function(){Y=!1,he=null,we=null,ze=null,Ye=null,Ft=null,Nt=null,Nn=null,Tr=null}}}const a=new r,l=new s,c=new o,h=new WeakMap,d=new WeakMap;let p={},m={},v=new WeakMap,x=[],_=null,g=!1,A=null,M=null,E=null,C=null,R=null,B=null,P=null,b=!1,I=null,G=null,J=null,W=null,K=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let oe=!1,te=0;const L=n.getParameter(n.VERSION);L.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(L)[1]),oe=te>=1):L.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),oe=te>=2);let V=null,H={};const ee=n.getParameter(n.SCISSOR_BOX),Z=n.getParameter(n.VIEWPORT),ne=new kt().fromArray(ee),ie=new kt().fromArray(Z);function Ee(Y,he,we,ze){const Ye=new Uint8Array(4),Ft=n.createTexture();n.bindTexture(Y,Ft),n.texParameteri(Y,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Y,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Nt=0;Nt<we;Nt++)i&&(Y===n.TEXTURE_3D||Y===n.TEXTURE_2D_ARRAY)?n.texImage3D(he,0,n.RGBA,1,1,ze,0,n.RGBA,n.UNSIGNED_BYTE,Ye):n.texImage2D(he+Nt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ye);return Ft}const pe={};pe[n.TEXTURE_2D]=Ee(n.TEXTURE_2D,n.TEXTURE_2D,1),pe[n.TEXTURE_CUBE_MAP]=Ee(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(pe[n.TEXTURE_2D_ARRAY]=Ee(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),pe[n.TEXTURE_3D]=Ee(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),j(n.DEPTH_TEST),l.setFunc(bg),Ie(!1),We(RA),j(n.CULL_FACE),Se(qs);function j(Y){p[Y]!==!0&&(n.enable(Y),p[Y]=!0)}function ke(Y){p[Y]!==!1&&(n.disable(Y),p[Y]=!1)}function Xe(Y,he){return m[Y]!==he?(n.bindFramebuffer(Y,he),m[Y]=he,i&&(Y===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=he),Y===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=he)),!0):!1}function Me(Y,he){let we=x,ze=!1;if(Y)if(we=v.get(he),we===void 0&&(we=[],v.set(he,we)),Y.isWebGLMultipleRenderTargets){const Ye=Y.texture;if(we.length!==Ye.length||we[0]!==n.COLOR_ATTACHMENT0){for(let Ft=0,Nt=Ye.length;Ft<Nt;Ft++)we[Ft]=n.COLOR_ATTACHMENT0+Ft;we.length=Ye.length,ze=!0}}else we[0]!==n.COLOR_ATTACHMENT0&&(we[0]=n.COLOR_ATTACHMENT0,ze=!0);else we[0]!==n.BACK&&(we[0]=n.BACK,ze=!0);ze&&(t.isWebGL2?n.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function _e(Y){return _!==Y?(n.useProgram(Y),_=Y,!0):!1}const de={[Ja]:n.FUNC_ADD,[yI]:n.FUNC_SUBTRACT,[vI]:n.FUNC_REVERSE_SUBTRACT};if(i)de[LA]=n.MIN,de[DA]=n.MAX;else{const Y=e.get("EXT_blend_minmax");Y!==null&&(de[LA]=Y.MIN_EXT,de[DA]=Y.MAX_EXT)}const ae={[xI]:n.ZERO,[AI]:n.ONE,[_I]:n.SRC_COLOR,[WM]:n.SRC_ALPHA,[TI]:n.SRC_ALPHA_SATURATE,[wI]:n.DST_COLOR,[SI]:n.DST_ALPHA,[MI]:n.ONE_MINUS_SRC_COLOR,[jM]:n.ONE_MINUS_SRC_ALPHA,[CI]:n.ONE_MINUS_DST_COLOR,[EI]:n.ONE_MINUS_DST_ALPHA};function Se(Y,he,we,ze,Ye,Ft,Nt,Nn){if(Y===qs){g===!0&&(ke(n.BLEND),g=!1);return}if(g===!1&&(j(n.BLEND),g=!0),Y!==gI){if(Y!==A||Nn!==b){if((M!==Ja||R!==Ja)&&(n.blendEquation(n.FUNC_ADD),M=Ja,R=Ja),Nn)switch(Y){case sl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case PA:n.blendFunc(n.ONE,n.ONE);break;case BA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case IA:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case sl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case PA:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case BA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case IA:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}E=null,C=null,B=null,P=null,A=Y,b=Nn}return}Ye=Ye||he,Ft=Ft||we,Nt=Nt||ze,(he!==M||Ye!==R)&&(n.blendEquationSeparate(de[he],de[Ye]),M=he,R=Ye),(we!==E||ze!==C||Ft!==B||Nt!==P)&&(n.blendFuncSeparate(ae[we],ae[ze],ae[Ft],ae[Nt]),E=we,C=ze,B=Ft,P=Nt),A=Y,b=!1}function Le(Y,he){Y.side===Mr?ke(n.CULL_FACE):j(n.CULL_FACE);let we=Y.side===xi;he&&(we=!we),Ie(we),Y.blending===sl&&Y.transparent===!1?Se(qs):Se(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.premultipliedAlpha),l.setFunc(Y.depthFunc),l.setTest(Y.depthTest),l.setMask(Y.depthWrite),a.setMask(Y.colorWrite);const ze=Y.stencilWrite;c.setTest(ze),ze&&(c.setMask(Y.stencilWriteMask),c.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),c.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),je(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?j(n.SAMPLE_ALPHA_TO_COVERAGE):ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(Y){I!==Y&&(Y?n.frontFace(n.CW):n.frontFace(n.CCW),I=Y)}function We(Y){Y!==dI?(j(n.CULL_FACE),Y!==G&&(Y===RA?n.cullFace(n.BACK):Y===pI?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ke(n.CULL_FACE),G=Y}function Ke(Y){Y!==J&&(oe&&n.lineWidth(Y),J=Y)}function je(Y,he,we){Y?(j(n.POLYGON_OFFSET_FILL),(W!==he||K!==we)&&(n.polygonOffset(he,we),W=he,K=we)):ke(n.POLYGON_OFFSET_FILL)}function tt(Y){Y?j(n.SCISSOR_TEST):ke(n.SCISSOR_TEST)}function mt(Y){Y===void 0&&(Y=n.TEXTURE0+X-1),V!==Y&&(n.activeTexture(Y),V=Y)}function k(Y,he,we){we===void 0&&(V===null?we=n.TEXTURE0+X-1:we=V);let ze=H[we];ze===void 0&&(ze={type:void 0,texture:void 0},H[we]=ze),(ze.type!==Y||ze.texture!==he)&&(V!==we&&(n.activeTexture(we),V=we),n.bindTexture(Y,he||pe[Y]),ze.type=Y,ze.texture=he)}function D(){const Y=H[V];Y!==void 0&&Y.type!==void 0&&(n.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function ce(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Te(){try{n.texSubImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function $e(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Oe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Ge(){try{n.texStorage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function z(){try{n.texImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function se(){try{n.texImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ve(Y){ne.equals(Y)===!1&&(n.scissor(Y.x,Y.y,Y.z,Y.w),ne.copy(Y))}function be(Y){ie.equals(Y)===!1&&(n.viewport(Y.x,Y.y,Y.z,Y.w),ie.copy(Y))}function Ze(Y,he){let we=d.get(he);we===void 0&&(we=new WeakMap,d.set(he,we));let ze=we.get(Y);ze===void 0&&(ze=n.getUniformBlockIndex(he,Y.name),we.set(Y,ze))}function ft(Y,he){const ze=d.get(he).get(Y);h.get(he)!==ze&&(n.uniformBlockBinding(he,ze,Y.__bindingPointIndex),h.set(he,ze))}function Gt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},V=null,H={},m={},v=new WeakMap,x=[],_=null,g=!1,A=null,M=null,E=null,C=null,R=null,B=null,P=null,b=!1,I=null,G=null,J=null,W=null,K=null,ne.set(0,0,n.canvas.width,n.canvas.height),ie.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:j,disable:ke,bindFramebuffer:Xe,drawBuffers:Me,useProgram:_e,setBlending:Se,setMaterial:Le,setFlipSided:Ie,setCullFace:We,setLineWidth:Ke,setPolygonOffset:je,setScissorTest:tt,activeTexture:mt,bindTexture:k,unbindTexture:D,compressedTexImage2D:ce,compressedTexImage3D:Ce,texImage2D:z,texImage3D:se,updateUBOMapping:Ze,uniformBlockBinding:ft,texStorage2D:ge,texStorage3D:Ge,texSubImage2D:Te,texSubImage3D:Pe,compressedTexSubImage2D:$e,compressedTexSubImage3D:Oe,scissor:ve,viewport:be,reset:Gt}}function E4(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let x;const _=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(k,D){return g?new OffscreenCanvas(k,D):Th("canvas")}function M(k,D,ce,Ce){let Te=1;if((k.width>Ce||k.height>Ce)&&(Te=Ce/Math.max(k.width,k.height)),Te<1||D===!0)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const Pe=D?fL:Math.floor,$e=Pe(Te*k.width),Oe=Pe(Te*k.height);x===void 0&&(x=A($e,Oe));const ge=ce?A($e,Oe):x;return ge.width=$e,ge.height=Oe,ge.getContext("2d").drawImage(k,0,0,$e,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+$e+"x"+Oe+")."),ge}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k;return k}function E(k){return s_(k.width)&&s_(k.height)}function C(k){return a?!1:k.wrapS!==Yn||k.wrapT!==Yn||k.minFilter!==mn&&k.minFilter!==on}function R(k,D){return k.generateMipmaps&&D&&k.minFilter!==mn&&k.minFilter!==on}function B(k){n.generateMipmap(k)}function P(k,D,ce,Ce,Te=!1){if(a===!1)return D;if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let Pe=D;return D===n.RED&&(ce===n.FLOAT&&(Pe=n.R32F),ce===n.HALF_FLOAT&&(Pe=n.R16F),ce===n.UNSIGNED_BYTE&&(Pe=n.R8)),D===n.RG&&(ce===n.FLOAT&&(Pe=n.RG32F),ce===n.HALF_FLOAT&&(Pe=n.RG16F),ce===n.UNSIGNED_BYTE&&(Pe=n.RG8)),D===n.RGBA&&(ce===n.FLOAT&&(Pe=n.RGBA32F),ce===n.HALF_FLOAT&&(Pe=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Pe=Ce===pt&&Te===!1?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Pe=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Pe=n.RGB5_A1)),(Pe===n.R16F||Pe===n.R32F||Pe===n.RG16F||Pe===n.RG32F||Pe===n.RGBA16F||Pe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Pe}function b(k,D,ce){return R(k,ce)===!0||k.isFramebufferTexture&&k.minFilter!==mn&&k.minFilter!==on?Math.log2(Math.max(D.width,D.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?D.mipmaps.length:1}function I(k){return k===mn||k===Eh||k===Xc?n.NEAREST:n.LINEAR}function G(k){const D=k.target;D.removeEventListener("dispose",G),W(D),D.isVideoTexture&&v.delete(D)}function J(k){const D=k.target;D.removeEventListener("dispose",J),X(D)}function W(k){const D=i.get(k);if(D.__webglInit===void 0)return;const ce=k.source,Ce=_.get(ce);if(Ce){const Te=Ce[D.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&K(k),Object.keys(Ce).length===0&&_.delete(ce)}i.remove(k)}function K(k){const D=i.get(k);n.deleteTexture(D.__webglTexture);const ce=k.source,Ce=_.get(ce);delete Ce[D.__cacheKey],o.memory.textures--}function X(k){const D=k.texture,ce=i.get(k),Ce=i.get(D);if(Ce.__webglTexture!==void 0&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)n.deleteFramebuffer(ce.__webglFramebuffer[Te]),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[Te]);else{if(n.deleteFramebuffer(ce.__webglFramebuffer),ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Te=0;Te<ce.__webglColorRenderbuffer.length;Te++)ce.__webglColorRenderbuffer[Te]&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer[Te]);ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(k.isWebGLMultipleRenderTargets)for(let Te=0,Pe=D.length;Te<Pe;Te++){const $e=i.get(D[Te]);$e.__webglTexture&&(n.deleteTexture($e.__webglTexture),o.memory.textures--),i.remove(D[Te])}i.remove(D),i.remove(k)}let oe=0;function te(){oe=0}function L(){const k=oe;return k>=l&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+l),oe+=1,k}function V(k){const D=[];return D.push(k.wrapS),D.push(k.wrapT),D.push(k.wrapR||0),D.push(k.magFilter),D.push(k.minFilter),D.push(k.anisotropy),D.push(k.internalFormat),D.push(k.format),D.push(k.type),D.push(k.generateMipmaps),D.push(k.premultiplyAlpha),D.push(k.flipY),D.push(k.unpackAlignment),D.push(k.colorSpace),D.join()}function H(k,D){const ce=i.get(k);if(k.isVideoTexture&&tt(k),k.isRenderTargetTexture===!1&&k.version>0&&ce.__version!==k.version){const Ce=k.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(ce,k,D);return}}t.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+D)}function ee(k,D){const ce=i.get(k);if(k.version>0&&ce.__version!==k.version){ke(ce,k,D);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+D)}function Z(k,D){const ce=i.get(k);if(k.version>0&&ce.__version!==k.version){ke(ce,k,D);return}t.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+D)}function ne(k,D){const ce=i.get(k);if(k.version>0&&ce.__version!==k.version){Xe(ce,k,D);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+D)}const ie={[sa]:n.REPEAT,[Yn]:n.CLAMP_TO_EDGE,[lu]:n.MIRRORED_REPEAT},Ee={[mn]:n.NEAREST,[Eh]:n.NEAREST_MIPMAP_NEAREST,[Xc]:n.NEAREST_MIPMAP_LINEAR,[on]:n.LINEAR,[uy]:n.LINEAR_MIPMAP_NEAREST,[Ss]:n.LINEAR_MIPMAP_LINEAR};function pe(k,D,ce){if(ce?(n.texParameteri(k,n.TEXTURE_WRAP_S,ie[D.wrapS]),n.texParameteri(k,n.TEXTURE_WRAP_T,ie[D.wrapT]),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,ie[D.wrapR]),n.texParameteri(k,n.TEXTURE_MAG_FILTER,Ee[D.magFilter]),n.texParameteri(k,n.TEXTURE_MIN_FILTER,Ee[D.minFilter])):(n.texParameteri(k,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(k,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(D.wrapS!==Yn||D.wrapT!==Yn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(k,n.TEXTURE_MAG_FILTER,I(D.magFilter)),n.texParameteri(k,n.TEXTURE_MIN_FILTER,I(D.minFilter)),D.minFilter!==mn&&D.minFilter!==on&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===mn||D.minFilter!==Xc&&D.minFilter!==Ss||D.type===Xs&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===cu&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(n.texParameterf(k,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function j(k,D){let ce=!1;k.__webglInit===void 0&&(k.__webglInit=!0,D.addEventListener("dispose",G));const Ce=D.source;let Te=_.get(Ce);Te===void 0&&(Te={},_.set(Ce,Te));const Pe=V(D);if(Pe!==k.__cacheKey){Te[Pe]===void 0&&(Te[Pe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),Te[Pe].usedTimes++;const $e=Te[k.__cacheKey];$e!==void 0&&(Te[k.__cacheKey].usedTimes--,$e.usedTimes===0&&K(D)),k.__cacheKey=Pe,k.__webglTexture=Te[Pe].texture}return ce}function ke(k,D,ce){let Ce=n.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Ce=n.TEXTURE_2D_ARRAY),D.isData3DTexture&&(Ce=n.TEXTURE_3D);const Te=j(k,D),Pe=D.source;t.bindTexture(Ce,k.__webglTexture,n.TEXTURE0+ce);const $e=i.get(Pe);if(Pe.version!==$e.__version||Te===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Oe=C(D)&&E(D.image)===!1;let ge=M(D.image,Oe,!1,h);ge=mt(D,ge);const Ge=E(ge)||a,z=s.convert(D.format,D.colorSpace);let se=s.convert(D.type),ve=P(D.internalFormat,z,se,D.colorSpace);pe(Ce,D,Ge);let be;const Ze=D.mipmaps,ft=a&&D.isVideoTexture!==!0,Gt=$e.__version===void 0||Te===!0,Y=b(D,ge,Ge);if(D.isDepthTexture)ve=n.DEPTH_COMPONENT,a?D.type===Xs?ve=n.DEPTH_COMPONENT32F:D.type===Go?ve=n.DEPTH_COMPONENT24:D.type===ol?ve=n.DEPTH24_STENCIL8:ve=n.DEPTH_COMPONENT16:D.type===Xs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Qo&&ve===n.DEPTH_COMPONENT&&D.type!==XM&&D.type!==Go&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Go,se=s.convert(D.type)),D.format===gl&&ve===n.DEPTH_COMPONENT&&(ve=n.DEPTH_STENCIL,D.type!==ol&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=ol,se=s.convert(D.type))),Gt&&(ft?t.texStorage2D(n.TEXTURE_2D,1,ve,ge.width,ge.height):t.texImage2D(n.TEXTURE_2D,0,ve,ge.width,ge.height,0,z,se,null));else if(D.isDataTexture)if(Ze.length>0&&Ge){ft&&Gt&&t.texStorage2D(n.TEXTURE_2D,Y,ve,Ze[0].width,Ze[0].height);for(let he=0,we=Ze.length;he<we;he++)be=Ze[he],ft?t.texSubImage2D(n.TEXTURE_2D,he,0,0,be.width,be.height,z,se,be.data):t.texImage2D(n.TEXTURE_2D,he,ve,be.width,be.height,0,z,se,be.data);D.generateMipmaps=!1}else ft?(Gt&&t.texStorage2D(n.TEXTURE_2D,Y,ve,ge.width,ge.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ge.width,ge.height,z,se,ge.data)):t.texImage2D(n.TEXTURE_2D,0,ve,ge.width,ge.height,0,z,se,ge.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){ft&&Gt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Y,ve,Ze[0].width,Ze[0].height,ge.depth);for(let he=0,we=Ze.length;he<we;he++)be=Ze[he],D.format!==Pi?z!==null?ft?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,he,0,0,0,be.width,be.height,ge.depth,z,be.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,he,ve,be.width,be.height,ge.depth,0,be.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?t.texSubImage3D(n.TEXTURE_2D_ARRAY,he,0,0,0,be.width,be.height,ge.depth,z,se,be.data):t.texImage3D(n.TEXTURE_2D_ARRAY,he,ve,be.width,be.height,ge.depth,0,z,se,be.data)}else{ft&&Gt&&t.texStorage2D(n.TEXTURE_2D,Y,ve,Ze[0].width,Ze[0].height);for(let he=0,we=Ze.length;he<we;he++)be=Ze[he],D.format!==Pi?z!==null?ft?t.compressedTexSubImage2D(n.TEXTURE_2D,he,0,0,be.width,be.height,z,be.data):t.compressedTexImage2D(n.TEXTURE_2D,he,ve,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?t.texSubImage2D(n.TEXTURE_2D,he,0,0,be.width,be.height,z,se,be.data):t.texImage2D(n.TEXTURE_2D,he,ve,be.width,be.height,0,z,se,be.data)}else if(D.isDataArrayTexture)ft?(Gt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Y,ve,ge.width,ge.height,ge.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ge.width,ge.height,ge.depth,z,se,ge.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,ve,ge.width,ge.height,ge.depth,0,z,se,ge.data);else if(D.isData3DTexture)ft?(Gt&&t.texStorage3D(n.TEXTURE_3D,Y,ve,ge.width,ge.height,ge.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ge.width,ge.height,ge.depth,z,se,ge.data)):t.texImage3D(n.TEXTURE_3D,0,ve,ge.width,ge.height,ge.depth,0,z,se,ge.data);else if(D.isFramebufferTexture){if(Gt)if(ft)t.texStorage2D(n.TEXTURE_2D,Y,ve,ge.width,ge.height);else{let he=ge.width,we=ge.height;for(let ze=0;ze<Y;ze++)t.texImage2D(n.TEXTURE_2D,ze,ve,he,we,0,z,se,null),he>>=1,we>>=1}}else if(Ze.length>0&&Ge){ft&&Gt&&t.texStorage2D(n.TEXTURE_2D,Y,ve,Ze[0].width,Ze[0].height);for(let he=0,we=Ze.length;he<we;he++)be=Ze[he],ft?t.texSubImage2D(n.TEXTURE_2D,he,0,0,z,se,be):t.texImage2D(n.TEXTURE_2D,he,ve,z,se,be);D.generateMipmaps=!1}else ft?(Gt&&t.texStorage2D(n.TEXTURE_2D,Y,ve,ge.width,ge.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,z,se,ge)):t.texImage2D(n.TEXTURE_2D,0,ve,z,se,ge);R(D,Ge)&&B(Ce),$e.__version=Pe.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}function Xe(k,D,ce){if(D.image.length!==6)return;const Ce=j(k,D),Te=D.source;t.bindTexture(n.TEXTURE_CUBE_MAP,k.__webglTexture,n.TEXTURE0+ce);const Pe=i.get(Te);if(Te.version!==Pe.__version||Ce===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const $e=D.isCompressedTexture||D.image[0].isCompressedTexture,Oe=D.image[0]&&D.image[0].isDataTexture,ge=[];for(let he=0;he<6;he++)!$e&&!Oe?ge[he]=M(D.image[he],!1,!0,c):ge[he]=Oe?D.image[he].image:D.image[he],ge[he]=mt(D,ge[he]);const Ge=ge[0],z=E(Ge)||a,se=s.convert(D.format,D.colorSpace),ve=s.convert(D.type),be=P(D.internalFormat,se,ve,D.colorSpace),Ze=a&&D.isVideoTexture!==!0,ft=Pe.__version===void 0||Ce===!0;let Gt=b(D,Ge,z);pe(n.TEXTURE_CUBE_MAP,D,z);let Y;if($e){Ze&&ft&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Gt,be,Ge.width,Ge.height);for(let he=0;he<6;he++){Y=ge[he].mipmaps;for(let we=0;we<Y.length;we++){const ze=Y[we];D.format!==Pi?se!==null?Ze?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we,0,0,ze.width,ze.height,se,ze.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we,be,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we,0,0,ze.width,ze.height,se,ve,ze.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we,be,ze.width,ze.height,0,se,ve,ze.data)}}}else{Y=D.mipmaps,Ze&&ft&&(Y.length>0&&Gt++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Gt,be,ge[0].width,ge[0].height));for(let he=0;he<6;he++)if(Oe){Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,0,0,0,ge[he].width,ge[he].height,se,ve,ge[he].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,0,be,ge[he].width,ge[he].height,0,se,ve,ge[he].data);for(let we=0;we<Y.length;we++){const Ye=Y[we].image[he].image;Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we+1,0,0,Ye.width,Ye.height,se,ve,Ye.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we+1,be,Ye.width,Ye.height,0,se,ve,Ye.data)}}else{Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,0,0,0,se,ve,ge[he]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,0,be,se,ve,ge[he]);for(let we=0;we<Y.length;we++){const ze=Y[we];Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we+1,0,0,se,ve,ze.image[he]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+he,we+1,be,se,ve,ze.image[he])}}}R(D,z)&&B(n.TEXTURE_CUBE_MAP),Pe.__version=Te.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}function Me(k,D,ce,Ce,Te){const Pe=s.convert(ce.format,ce.colorSpace),$e=s.convert(ce.type),Oe=P(ce.internalFormat,Pe,$e,ce.colorSpace);i.get(D).__hasExternalTextures||(Te===n.TEXTURE_3D||Te===n.TEXTURE_2D_ARRAY?t.texImage3D(Te,0,Oe,D.width,D.height,D.depth,0,Pe,$e,null):t.texImage2D(Te,0,Oe,D.width,D.height,0,Pe,$e,null)),t.bindFramebuffer(n.FRAMEBUFFER,k),je(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ce,Te,i.get(ce).__webglTexture,0,Ke(D)):(Te===n.TEXTURE_2D||Te>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ce,Te,i.get(ce).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function _e(k,D,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,k),D.depthBuffer&&!D.stencilBuffer){let Ce=n.DEPTH_COMPONENT16;if(ce||je(D)){const Te=D.depthTexture;Te&&Te.isDepthTexture&&(Te.type===Xs?Ce=n.DEPTH_COMPONENT32F:Te.type===Go&&(Ce=n.DEPTH_COMPONENT24));const Pe=Ke(D);je(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Pe,Ce,D.width,D.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Pe,Ce,D.width,D.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ce,D.width,D.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,k)}else if(D.depthBuffer&&D.stencilBuffer){const Ce=Ke(D);ce&&je(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,n.DEPTH24_STENCIL8,D.width,D.height):je(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,n.DEPTH24_STENCIL8,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,D.width,D.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,k)}else{const Ce=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let Te=0;Te<Ce.length;Te++){const Pe=Ce[Te],$e=s.convert(Pe.format,Pe.colorSpace),Oe=s.convert(Pe.type),ge=P(Pe.internalFormat,$e,Oe,Pe.colorSpace),Ge=Ke(D);ce&&je(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ge,ge,D.width,D.height):je(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ge,ge,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,ge,D.width,D.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function de(k,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,k),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),H(D.depthTexture,0);const Ce=i.get(D.depthTexture).__webglTexture,Te=Ke(D);if(D.depthTexture.format===Qo)je(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0,Te):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ce,0);else if(D.depthTexture.format===gl)je(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0,Te):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ce,0);else throw new Error("Unknown depthTexture format")}function ae(k){const D=i.get(k),ce=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!D.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");de(D.__webglFramebuffer,k)}else if(ce){D.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer[Ce]),D.__webglDepthbuffer[Ce]=n.createRenderbuffer(),_e(D.__webglDepthbuffer[Ce],k,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),_e(D.__webglDepthbuffer,k,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Se(k,D,ce){const Ce=i.get(k);D!==void 0&&Me(Ce.__webglFramebuffer,k,k.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),ce!==void 0&&ae(k)}function Le(k){const D=k.texture,ce=i.get(k),Ce=i.get(D);k.addEventListener("dispose",J),k.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=D.version,o.memory.textures++);const Te=k.isWebGLCubeRenderTarget===!0,Pe=k.isWebGLMultipleRenderTargets===!0,$e=E(k)||a;if(Te){ce.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)ce.__webglFramebuffer[Oe]=n.createFramebuffer()}else{if(ce.__webglFramebuffer=n.createFramebuffer(),Pe)if(r.drawBuffers){const Oe=k.texture;for(let ge=0,Ge=Oe.length;ge<Ge;ge++){const z=i.get(Oe[ge]);z.__webglTexture===void 0&&(z.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&k.samples>0&&je(k)===!1){const Oe=Pe?D:[D];ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let ge=0;ge<Oe.length;ge++){const Ge=Oe[ge];ce.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[ge]);const z=s.convert(Ge.format,Ge.colorSpace),se=s.convert(Ge.type),ve=P(Ge.internalFormat,z,se,Ge.colorSpace,k.isXRRenderTarget===!0),be=Ke(k);n.renderbufferStorageMultisample(n.RENDERBUFFER,be,ve,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ge,n.RENDERBUFFER,ce.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(n.RENDERBUFFER,null),k.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),_e(ce.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Te){t.bindTexture(n.TEXTURE_CUBE_MAP,Ce.__webglTexture),pe(n.TEXTURE_CUBE_MAP,D,$e);for(let Oe=0;Oe<6;Oe++)Me(ce.__webglFramebuffer[Oe],k,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Oe);R(D,$e)&&B(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Pe){const Oe=k.texture;for(let ge=0,Ge=Oe.length;ge<Ge;ge++){const z=Oe[ge],se=i.get(z);t.bindTexture(n.TEXTURE_2D,se.__webglTexture),pe(n.TEXTURE_2D,z,$e),Me(ce.__webglFramebuffer,k,z,n.COLOR_ATTACHMENT0+ge,n.TEXTURE_2D),R(z,$e)&&B(n.TEXTURE_2D)}t.unbindTexture()}else{let Oe=n.TEXTURE_2D;(k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(a?Oe=k.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Oe,Ce.__webglTexture),pe(Oe,D,$e),Me(ce.__webglFramebuffer,k,D,n.COLOR_ATTACHMENT0,Oe),R(D,$e)&&B(Oe),t.unbindTexture()}k.depthBuffer&&ae(k)}function Ie(k){const D=E(k)||a,ce=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Ce=0,Te=ce.length;Ce<Te;Ce++){const Pe=ce[Ce];if(R(Pe,D)){const $e=k.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Oe=i.get(Pe).__webglTexture;t.bindTexture($e,Oe),B($e),t.unbindTexture()}}}function We(k){if(a&&k.samples>0&&je(k)===!1){const D=k.isWebGLMultipleRenderTargets?k.texture:[k.texture],ce=k.width,Ce=k.height;let Te=n.COLOR_BUFFER_BIT;const Pe=[],$e=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=i.get(k),ge=k.isWebGLMultipleRenderTargets===!0;if(ge)for(let Ge=0;Ge<D.length;Ge++)t.bindFramebuffer(n.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Oe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer);for(let Ge=0;Ge<D.length;Ge++){Pe.push(n.COLOR_ATTACHMENT0+Ge),k.depthBuffer&&Pe.push($e);const z=Oe.__ignoreDepthValues!==void 0?Oe.__ignoreDepthValues:!1;if(z===!1&&(k.depthBuffer&&(Te|=n.DEPTH_BUFFER_BIT),k.stencilBuffer&&(Te|=n.STENCIL_BUFFER_BIT)),ge&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Oe.__webglColorRenderbuffer[Ge]),z===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[$e]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[$e])),ge){const se=i.get(D[Ge]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,se,0)}n.blitFramebuffer(0,0,ce,Ce,0,0,ce,Ce,Te,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Pe)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ge)for(let Ge=0;Ge<D.length;Ge++){t.bindFramebuffer(n.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.RENDERBUFFER,Oe.__webglColorRenderbuffer[Ge]);const z=i.get(D[Ge]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Oe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ge,n.TEXTURE_2D,z,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer)}}function Ke(k){return Math.min(d,k.samples)}function je(k){const D=i.get(k);return a&&k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function tt(k){const D=o.render.frame;v.get(k)!==D&&(v.set(k,D),k.update())}function mt(k,D){const ce=k.colorSpace,Ce=k.format,Te=k.type;return k.isCompressedTexture===!0||k.format===Pg||ce!==Qr&&ce!==qo&&(ce===pt?a===!1?e.has("EXT_sRGB")===!0&&Ce===Pi?(k.format=Pg,k.minFilter=on,k.generateMipmaps=!1):D=eS.sRGBToLinear(D):(Ce!==Pi||Te!==ro)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),D}this.allocateTextureUnit=L,this.resetTextureUnits=te,this.setTexture2D=H,this.setTexture2DArray=ee,this.setTexture3D=Z,this.setTextureCube=ne,this.rebindTextures=Se,this.setupRenderTarget=Le,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=ae,this.setupFrameBufferTexture=Me,this.useMultisampledRTT=je}function _L(n,e,t){const i=t.isWebGL2;function r(s,o=qo){let a;if(s===ro)return n.UNSIGNED_BYTE;if(s===WI)return n.UNSIGNED_SHORT_4_4_4_4;if(s===jI)return n.UNSIGNED_SHORT_5_5_5_1;if(s===GI)return n.BYTE;if(s===HI)return n.SHORT;if(s===XM)return n.UNSIGNED_SHORT;if(s===VI)return n.INT;if(s===Go)return n.UNSIGNED_INT;if(s===Xs)return n.FLOAT;if(s===cu)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===JI)return n.ALPHA;if(s===Pi)return n.RGBA;if(s===XI)return n.LUMINANCE;if(s===KI)return n.LUMINANCE_ALPHA;if(s===Qo)return n.DEPTH_COMPONENT;if(s===gl)return n.DEPTH_STENCIL;if(s===Pg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===YI)return n.RED;if(s===QI)return n.RED_INTEGER;if(s===qI)return n.RG;if(s===ZI)return n.RG_INTEGER;if(s===$I)return n.RGBA_INTEGER;if(s===jm||s===Jm||s===Xm||s===Km)if(o===pt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===jm)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Jm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Xm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Km)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===jm)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Jm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Xm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Km)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===FA||s===NA||s===OA||s===UA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===FA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===NA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===OA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===UA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===eL)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===kA||s===zA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===kA)return o===pt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===zA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===GA||s===HA||s===VA||s===WA||s===jA||s===JA||s===XA||s===KA||s===YA||s===QA||s===qA||s===ZA||s===$A||s===e_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===GA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===HA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===VA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===WA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===jA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===JA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===XA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===KA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===YA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===QA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===qA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===ZA)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===$A)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===e_)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Ym)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Ym)return o===pt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===tL||s===t_||s===n_||s===i_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Ym)return a.COMPRESSED_RED_RGTC1_EXT;if(s===t_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===n_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===i_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ol?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class ML extends Wt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ks extends Ct{constructor(){super(),this.isGroup=!0,this.type="Group"}}const w4={type:"move"};class U0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ks,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ks,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ks,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const _=t.getJointPose(x,i),g=this._getHandJoint(c,x);_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=_.radius),g.visible=_!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(w4)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ks;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class SL extends tn{constructor(e,t,i,r,s,o,a,l,c,h){if(h=h!==void 0?h:Qo,h!==Qo&&h!==gl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===Qo&&(i=Go),i===void 0&&h===gl&&(i=ol),super(null,r,s,o,a,l,h,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:mn,this.minFilter=l!==void 0?l:mn,this.flipY=!1,this.generateMipmaps=!1}}class C4 extends Cs{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,h=null,d=null,p=null,m=null,v=null;const x=t.getContextAttributes();let _=null,g=null;const A=[],M=[],E=new Set,C=new Map,R=new Wt;R.layers.enable(1),R.viewport=new kt;const B=new Wt;B.layers.enable(2),B.viewport=new kt;const P=[R,B],b=new ML;b.layers.enable(1),b.layers.enable(2);let I=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let ie=A[ne];return ie===void 0&&(ie=new U0,A[ne]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(ne){let ie=A[ne];return ie===void 0&&(ie=new U0,A[ne]=ie),ie.getGripSpace()},this.getHand=function(ne){let ie=A[ne];return ie===void 0&&(ie=new U0,A[ne]=ie),ie.getHandSpace()};function J(ne){const ie=M.indexOf(ne.inputSource);if(ie===-1)return;const Ee=A[ie];Ee!==void 0&&(Ee.update(ne.inputSource,ne.frame,c||o),Ee.dispatchEvent({type:ne.type,data:ne.inputSource}))}function W(){r.removeEventListener("select",J),r.removeEventListener("selectstart",J),r.removeEventListener("selectend",J),r.removeEventListener("squeeze",J),r.removeEventListener("squeezestart",J),r.removeEventListener("squeezeend",J),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",K);for(let ne=0;ne<A.length;ne++){const ie=M[ne];ie!==null&&(M[ne]=null,A[ne].disconnect(ie))}I=null,G=null,e.setRenderTarget(_),m=null,p=null,d=null,r=null,g=null,Z.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){s=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ne){c=ne},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(ne){if(r=ne,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",J),r.addEventListener("selectstart",J),r.addEventListener("selectend",J),r.addEventListener("squeeze",J),r.addEventListener("squeezestart",J),r.addEventListener("squeezeend",J),r.addEventListener("end",W),r.addEventListener("inputsourceschange",K),x.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ie={antialias:r.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ie),r.updateRenderState({baseLayer:m}),g=new qr(m.framebufferWidth,m.framebufferHeight,{format:Pi,type:ro,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let ie=null,Ee=null,pe=null;x.depth&&(pe=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ie=x.stencil?gl:Qo,Ee=x.stencil?ol:Go);const j={colorFormat:t.RGBA8,depthFormat:pe,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(j),r.updateRenderState({layers:[p]}),g=new qr(p.textureWidth,p.textureHeight,{format:Pi,type:ro,depthTexture:new SL(p.textureWidth,p.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const ke=e.properties.get(g);ke.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),Z.setContext(r),Z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function K(ne){for(let ie=0;ie<ne.removed.length;ie++){const Ee=ne.removed[ie],pe=M.indexOf(Ee);pe>=0&&(M[pe]=null,A[pe].disconnect(Ee))}for(let ie=0;ie<ne.added.length;ie++){const Ee=ne.added[ie];let pe=M.indexOf(Ee);if(pe===-1){for(let ke=0;ke<A.length;ke++)if(ke>=M.length){M.push(Ee),pe=ke;break}else if(M[ke]===null){M[ke]=Ee,pe=ke;break}if(pe===-1)break}const j=A[pe];j&&j.connect(Ee)}}const X=new F,oe=new F;function te(ne,ie,Ee){X.setFromMatrixPosition(ie.matrixWorld),oe.setFromMatrixPosition(Ee.matrixWorld);const pe=X.distanceTo(oe),j=ie.projectionMatrix.elements,ke=Ee.projectionMatrix.elements,Xe=j[14]/(j[10]-1),Me=j[14]/(j[10]+1),_e=(j[9]+1)/j[5],de=(j[9]-1)/j[5],ae=(j[8]-1)/j[0],Se=(ke[8]+1)/ke[0],Le=Xe*ae,Ie=Xe*Se,We=pe/(-ae+Se),Ke=We*-ae;ie.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(Ke),ne.translateZ(We),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert();const je=Xe+We,tt=Me+We,mt=Le-Ke,k=Ie+(pe-Ke),D=_e*Me/tt*je,ce=de*Me/tt*je;ne.projectionMatrix.makePerspective(mt,k,D,ce,je,tt),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}function L(ne,ie){ie===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(ie.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(r===null)return;b.near=B.near=R.near=ne.near,b.far=B.far=R.far=ne.far,(I!==b.near||G!==b.far)&&(r.updateRenderState({depthNear:b.near,depthFar:b.far}),I=b.near,G=b.far);const ie=ne.parent,Ee=b.cameras;L(b,ie);for(let pe=0;pe<Ee.length;pe++)L(Ee[pe],ie);Ee.length===2?te(b,R,B):b.projectionMatrix.copy(R.projectionMatrix),V(ne,b,ie)};function V(ne,ie,Ee){Ee===null?ne.matrix.copy(ie.matrixWorld):(ne.matrix.copy(Ee.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(ie.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0);const pe=ne.children;for(let j=0,ke=pe.length;j<ke;j++)pe[j].updateMatrixWorld(!0);ne.projectionMatrix.copy(ie.projectionMatrix),ne.projectionMatrixInverse.copy(ie.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=fu*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ne){l=ne,p!==null&&(p.fixedFoveation=ne),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ne)},this.getPlanes=function(){return E};let H=null;function ee(ne,ie){if(h=ie.getViewerPose(c||o),v=ie,h!==null){const Ee=h.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let pe=!1;Ee.length!==b.cameras.length&&(b.cameras.length=0,pe=!0);for(let j=0;j<Ee.length;j++){const ke=Ee[j];let Xe=null;if(m!==null)Xe=m.getViewport(ke);else{const _e=d.getViewSubImage(p,ke);Xe=_e.viewport,j===0&&(e.setRenderTargetTextures(g,_e.colorTexture,p.ignoreDepthValues?void 0:_e.depthStencilTexture),e.setRenderTarget(g))}let Me=P[j];Me===void 0&&(Me=new Wt,Me.layers.enable(j),Me.viewport=new kt,P[j]=Me),Me.matrix.fromArray(ke.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(ke.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(Xe.x,Xe.y,Xe.width,Xe.height),j===0&&(b.matrix.copy(Me.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),pe===!0&&b.cameras.push(Me)}}for(let Ee=0;Ee<A.length;Ee++){const pe=M[Ee],j=A[Ee];pe!==null&&j!==void 0&&j.update(pe,ie,c||o)}if(H&&H(ne,ie),ie.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ie.detectedPlanes});let Ee=null;for(const pe of E)ie.detectedPlanes.has(pe)||(Ee===null&&(Ee=[]),Ee.push(pe));if(Ee!==null)for(const pe of Ee)E.delete(pe),C.delete(pe),i.dispatchEvent({type:"planeremoved",data:pe});for(const pe of ie.detectedPlanes)if(!E.has(pe))E.add(pe),C.set(pe,ie.lastChangedTime),i.dispatchEvent({type:"planeadded",data:pe});else{const j=C.get(pe);pe.lastChangedTime>j&&(C.set(pe,pe.lastChangedTime),i.dispatchEvent({type:"planechanged",data:pe}))}}v=null}const Z=new gL;Z.setAnimationLoop(ee),this.setAnimationLoop=function(ne){H=ne},this.dispose=function(){}}}function T4(n,e){function t(_,g){_.matrixAutoUpdate===!0&&_.updateMatrix(),g.value.copy(_.matrix)}function i(_,g){g.color.getRGB(_.fogColor.value,pL(n)),g.isFog?(_.fogNear.value=g.near,_.fogFar.value=g.far):g.isFogExp2&&(_.fogDensity.value=g.density)}function r(_,g,A,M,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(_,g):g.isMeshToonMaterial?(s(_,g),d(_,g)):g.isMeshPhongMaterial?(s(_,g),h(_,g)):g.isMeshStandardMaterial?(s(_,g),p(_,g),g.isMeshPhysicalMaterial&&m(_,g,E)):g.isMeshMatcapMaterial?(s(_,g),v(_,g)):g.isMeshDepthMaterial?s(_,g):g.isMeshDistanceMaterial?(s(_,g),x(_,g)):g.isMeshNormalMaterial?s(_,g):g.isLineBasicMaterial?(o(_,g),g.isLineDashedMaterial&&a(_,g)):g.isPointsMaterial?l(_,g,A,M):g.isSpriteMaterial?c(_,g):g.isShadowMaterial?(_.color.value.copy(g.color),_.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(_,g){_.opacity.value=g.opacity,g.color&&_.diffuse.value.copy(g.color),g.emissive&&_.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.bumpMap&&(_.bumpMap.value=g.bumpMap,t(g.bumpMap,_.bumpMapTransform),_.bumpScale.value=g.bumpScale,g.side===xi&&(_.bumpScale.value*=-1)),g.normalMap&&(_.normalMap.value=g.normalMap,t(g.normalMap,_.normalMapTransform),_.normalScale.value.copy(g.normalScale),g.side===xi&&_.normalScale.value.negate()),g.displacementMap&&(_.displacementMap.value=g.displacementMap,t(g.displacementMap,_.displacementMapTransform),_.displacementScale.value=g.displacementScale,_.displacementBias.value=g.displacementBias),g.emissiveMap&&(_.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,_.emissiveMapTransform)),g.specularMap&&(_.specularMap.value=g.specularMap,t(g.specularMap,_.specularMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest);const A=e.get(g).envMap;if(A&&(_.envMap.value=A,_.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=g.reflectivity,_.ior.value=g.ior,_.refractionRatio.value=g.refractionRatio),g.lightMap){_.lightMap.value=g.lightMap;const M=n.useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=g.lightMapIntensity*M,t(g.lightMap,_.lightMapTransform)}g.aoMap&&(_.aoMap.value=g.aoMap,_.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,_.aoMapTransform))}function o(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform))}function a(_,g){_.dashSize.value=g.dashSize,_.totalSize.value=g.dashSize+g.gapSize,_.scale.value=g.scale}function l(_,g,A,M){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.size.value=g.size*A,_.scale.value=M*.5,g.map&&(_.map.value=g.map,t(g.map,_.uvTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function c(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.rotation.value=g.rotation,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function h(_,g){_.specular.value.copy(g.specular),_.shininess.value=Math.max(g.shininess,1e-4)}function d(_,g){g.gradientMap&&(_.gradientMap.value=g.gradientMap)}function p(_,g){_.metalness.value=g.metalness,g.metalnessMap&&(_.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,_.metalnessMapTransform)),_.roughness.value=g.roughness,g.roughnessMap&&(_.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,_.roughnessMapTransform)),e.get(g).envMap&&(_.envMapIntensity.value=g.envMapIntensity)}function m(_,g,A){_.ior.value=g.ior,g.sheen>0&&(_.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),_.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(_.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,_.sheenColorMapTransform)),g.sheenRoughnessMap&&(_.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,_.sheenRoughnessMapTransform))),g.clearcoat>0&&(_.clearcoat.value=g.clearcoat,_.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(_.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,_.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(_.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===xi&&_.clearcoatNormalScale.value.negate())),g.iridescence>0&&(_.iridescence.value=g.iridescence,_.iridescenceIOR.value=g.iridescenceIOR,_.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(_.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,_.iridescenceMapTransform)),g.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),g.transmission>0&&(_.transmission.value=g.transmission,_.transmissionSamplerMap.value=A.texture,_.transmissionSamplerSize.value.set(A.width,A.height),g.transmissionMap&&(_.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,_.transmissionMapTransform)),_.thickness.value=g.thickness,g.thicknessMap&&(_.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=g.attenuationDistance,_.attenuationColor.value.copy(g.attenuationColor)),_.specularIntensity.value=g.specularIntensity,_.specularColor.value.copy(g.specularColor),g.specularColorMap&&(_.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,_.specularColorMapTransform)),g.specularIntensityMap&&(_.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,_.specularIntensityMapTransform))}function v(_,g){g.matcap&&(_.matcap.value=g.matcap)}function x(_,g){const A=e.get(g).light;_.referencePosition.value.setFromMatrixPosition(A.matrixWorld),_.nearDistance.value=A.shadow.camera.near,_.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function b4(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(A,M){const E=M.program;i.uniformBlockBinding(A,E)}function c(A,M){let E=r[A.id];E===void 0&&(v(A),E=h(A),r[A.id]=E,A.addEventListener("dispose",_));const C=M.program;i.updateUBOMapping(A,C);const R=e.render.frame;s[A.id]!==R&&(p(A),s[A.id]=R)}function h(A){const M=d();A.__bindingPointIndex=M;const E=n.createBuffer(),C=A.__size,R=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,C,R),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,E),E}function d(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const M=r[A.id],E=A.uniforms,C=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,M);for(let R=0,B=E.length;R<B;R++){const P=E[R];if(m(P,R,C)===!0){const b=P.__offset,I=Array.isArray(P.value)?P.value:[P.value];let G=0;for(let J=0;J<I.length;J++){const W=I[J],K=x(W);typeof W=="number"?(P.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,b+G,P.__data)):W.isMatrix3?(P.__data[0]=W.elements[0],P.__data[1]=W.elements[1],P.__data[2]=W.elements[2],P.__data[3]=W.elements[0],P.__data[4]=W.elements[3],P.__data[5]=W.elements[4],P.__data[6]=W.elements[5],P.__data[7]=W.elements[0],P.__data[8]=W.elements[6],P.__data[9]=W.elements[7],P.__data[10]=W.elements[8],P.__data[11]=W.elements[0]):(W.toArray(P.__data,G),G+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,b,P.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,M,E){const C=A.value;if(E[M]===void 0){if(typeof C=="number")E[M]=C;else{const R=Array.isArray(C)?C:[C],B=[];for(let P=0;P<R.length;P++)B.push(R[P].clone());E[M]=B}return!0}else if(typeof C=="number"){if(E[M]!==C)return E[M]=C,!0}else{const R=Array.isArray(E[M])?E[M]:[E[M]],B=Array.isArray(C)?C:[C];for(let P=0;P<R.length;P++){const b=R[P];if(b.equals(B[P])===!1)return b.copy(B[P]),!0}}return!1}function v(A){const M=A.uniforms;let E=0;const C=16;let R=0;for(let B=0,P=M.length;B<P;B++){const b=M[B],I={boundary:0,storage:0},G=Array.isArray(b.value)?b.value:[b.value];for(let J=0,W=G.length;J<W;J++){const K=G[J],X=x(K);I.boundary+=X.boundary,I.storage+=X.storage}if(b.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),b.__offset=E,B>0){R=E%C;const J=C-R;R!==0&&J-I.boundary<0&&(E+=C-R,b.__offset=E)}E+=I.storage}return R=E%C,R>0&&(E+=C-R),A.__size=E,A.__cache={},this}function x(A){const M={boundary:0,storage:0};return typeof A=="number"?(M.boundary=4,M.storage=4):A.isVector2?(M.boundary=8,M.storage=8):A.isVector3||A.isColor?(M.boundary=16,M.storage=12):A.isVector4?(M.boundary=16,M.storage=16):A.isMatrix3?(M.boundary=48,M.storage=48):A.isMatrix4?(M.boundary=64,M.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),M}function _(A){const M=A.target;M.removeEventListener("dispose",_);const E=o.indexOf(M.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function g(){for(const A in r)n.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}function R4(){const n=Th("canvas");return n.style.display="block",n}class cS{constructor(e={}){const{canvas:t=R4(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;let m=null,v=null;const x=[],_=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=pt,this.useLegacyLights=!0,this.toneMapping=Jr,this.toneMappingExposure=1;const g=this;let A=!1,M=0,E=0,C=null,R=-1,B=null;const P=new kt,b=new kt;let I=null,G=t.width,J=t.height,W=1,K=null,X=null;const oe=new kt(0,0,G,J),te=new kt(0,0,G,J);let L=!1;const V=new dy;let H=!1,ee=!1,Z=null;const ne=new st,ie=new F,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function pe(){return C===null?W:1}let j=i;function ke(O,ue){for(let ye=0;ye<O.length;ye++){const re=O[ye],xe=t.getContext(re,ue);if(xe!==null)return xe}return null}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Xh}`),t.addEventListener("webglcontextlost",be,!1),t.addEventListener("webglcontextrestored",Ze,!1),t.addEventListener("webglcontextcreationerror",ft,!1),j===null){const ue=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ue.shift(),j=ke(ue,O),j===null)throw ke(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Xe,Me,_e,de,ae,Se,Le,Ie,We,Ke,je,tt,mt,k,D,ce,Ce,Te,Pe,$e,Oe,ge,Ge,z;function se(){Xe=new jH(j),Me=new kH(j,Xe,e),Xe.init(Me),ge=new _L(j,Xe,Me),_e=new S4(j,Xe,Me),de=new KH(j),ae=new f4,Se=new E4(j,Xe,_e,ae,Me,ge,de),Le=new GH(g),Ie=new WH(g),We=new oz(j,Me),Ge=new OH(j,Xe,We,Me),Ke=new JH(j,We,de,Ge),je=new ZH(j,Ke,We,de),Pe=new qH(j,Me,Se),ce=new zH(ae),tt=new u4(g,Le,Ie,Xe,Me,Ge,ce),mt=new T4(g,ae),k=new d4,D=new x4(Xe,Me),Te=new NH(g,Le,Ie,_e,je,p,l),Ce=new M4(g,je,Me),z=new b4(j,de,Me,_e),$e=new UH(j,Xe,de,Me),Oe=new XH(j,Xe,de,Me),de.programs=tt.programs,g.capabilities=Me,g.extensions=Xe,g.properties=ae,g.renderLists=k,g.shadowMap=Ce,g.state=_e,g.info=de}se();const ve=new C4(g,j);this.xr=ve,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const O=Xe.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Xe.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(O){O!==void 0&&(W=O,this.setSize(G,J,!1))},this.getSize=function(O){return O.set(G,J)},this.setSize=function(O,ue,ye=!0){if(ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=O,J=ue,t.width=Math.floor(O*W),t.height=Math.floor(ue*W),ye===!0&&(t.style.width=O+"px",t.style.height=ue+"px"),this.setViewport(0,0,O,ue)},this.getDrawingBufferSize=function(O){return O.set(G*W,J*W).floor()},this.setDrawingBufferSize=function(O,ue,ye){G=O,J=ue,W=ye,t.width=Math.floor(O*ye),t.height=Math.floor(ue*ye),this.setViewport(0,0,O,ue)},this.getCurrentViewport=function(O){return O.copy(P)},this.getViewport=function(O){return O.copy(oe)},this.setViewport=function(O,ue,ye,re){O.isVector4?oe.set(O.x,O.y,O.z,O.w):oe.set(O,ue,ye,re),_e.viewport(P.copy(oe).multiplyScalar(W).floor())},this.getScissor=function(O){return O.copy(te)},this.setScissor=function(O,ue,ye,re){O.isVector4?te.set(O.x,O.y,O.z,O.w):te.set(O,ue,ye,re),_e.scissor(b.copy(te).multiplyScalar(W).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(O){_e.setScissorTest(L=O)},this.setOpaqueSort=function(O){K=O},this.setTransparentSort=function(O){X=O},this.getClearColor=function(O){return O.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor.apply(Te,arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha.apply(Te,arguments)},this.clear=function(O=!0,ue=!0,ye=!0){let re=0;O&&(re|=j.COLOR_BUFFER_BIT),ue&&(re|=j.DEPTH_BUFFER_BIT),ye&&(re|=j.STENCIL_BUFFER_BIT),j.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",be,!1),t.removeEventListener("webglcontextrestored",Ze,!1),t.removeEventListener("webglcontextcreationerror",ft,!1),k.dispose(),D.dispose(),ae.dispose(),Le.dispose(),Ie.dispose(),je.dispose(),Ge.dispose(),z.dispose(),tt.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",Ye),ve.removeEventListener("sessionend",Ft),Z&&(Z.dispose(),Z=null),Nt.stop()};function be(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Ze(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const O=de.autoReset,ue=Ce.enabled,ye=Ce.autoUpdate,re=Ce.needsUpdate,xe=Ce.type;se(),de.autoReset=O,Ce.enabled=ue,Ce.autoUpdate=ye,Ce.needsUpdate=re,Ce.type=xe}function ft(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Gt(O){const ue=O.target;ue.removeEventListener("dispose",Gt),Y(ue)}function Y(O){he(O),ae.remove(O)}function he(O){const ue=ae.get(O).programs;ue!==void 0&&(ue.forEach(function(ye){tt.releaseProgram(ye)}),O.isShaderMaterial&&tt.releaseShaderCache(O))}this.renderBufferDirect=function(O,ue,ye,re,xe,et){ue===null&&(ue=Ee);const it=xe.isMesh&&xe.matrixWorld.determinant()<0,ot=Ed(O,ue,ye,re,xe);_e.setMaterial(re,it);let ht=ye.index,xt=1;re.wireframe===!0&&(ht=Ke.getWireframeAttribute(ye),xt=2);const At=ye.drawRange,Mt=ye.attributes.position;let Ot=At.start*xt,jn=(At.start+At.count)*xt;et!==null&&(Ot=Math.max(Ot,et.start*xt),jn=Math.min(jn,(et.start+et.count)*xt)),ht!==null?(Ot=Math.max(Ot,0),jn=Math.min(jn,ht.count)):Mt!=null&&(Ot=Math.max(Ot,0),jn=Math.min(jn,Mt.count));const Ni=jn-Ot;if(Ni<0||Ni===1/0)return;Ge.setup(xe,re,ot,ye,ht);let br,jt=$e;if(ht!==null&&(br=We.get(ht),jt=Oe,jt.setIndex(br)),xe.isMesh)re.wireframe===!0?(_e.setLineWidth(re.wireframeLinewidth*pe()),jt.setMode(j.LINES)):jt.setMode(j.TRIANGLES);else if(xe.isLine){let St=re.linewidth;St===void 0&&(St=1),_e.setLineWidth(St*pe()),xe.isLineSegments?jt.setMode(j.LINES):xe.isLineLoop?jt.setMode(j.LINE_LOOP):jt.setMode(j.LINE_STRIP)}else xe.isPoints?jt.setMode(j.POINTS):xe.isSprite&&jt.setMode(j.TRIANGLES);if(xe.isInstancedMesh)jt.renderInstances(Ot,Ni,xe.count);else if(ye.isInstancedBufferGeometry){const St=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,va=Math.min(ye.instanceCount,St);jt.renderInstances(Ot,Ni,va)}else jt.render(Ot,Ni)},this.compile=function(O,ue){function ye(re,xe,et){re.transparent===!0&&re.side===Mr&&re.forceSinglePass===!1?(re.side=xi,re.needsUpdate=!0,Il(re,xe,et),re.side=Ms,re.needsUpdate=!0,Il(re,xe,et),re.side=Mr):Il(re,xe,et)}v=D.get(O),v.init(),_.push(v),O.traverseVisible(function(re){re.isLight&&re.layers.test(ue.layers)&&(v.pushLight(re),re.castShadow&&v.pushShadow(re))}),v.setupLights(g.useLegacyLights),O.traverse(function(re){const xe=re.material;if(xe)if(Array.isArray(xe))for(let et=0;et<xe.length;et++){const it=xe[et];ye(it,O,re)}else ye(xe,O,re)}),_.pop(),v=null};let we=null;function ze(O){we&&we(O)}function Ye(){Nt.stop()}function Ft(){Nt.start()}const Nt=new gL;Nt.setAnimationLoop(ze),typeof self<"u"&&Nt.setContext(self),this.setAnimationLoop=function(O){we=O,ve.setAnimationLoop(O),O===null?Nt.stop():Nt.start()},ve.addEventListener("sessionstart",Ye),ve.addEventListener("sessionend",Ft),this.render=function(O,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),ve.enabled===!0&&ve.isPresenting===!0&&(ve.cameraAutoUpdate===!0&&ve.updateCamera(ue),ue=ve.getCamera()),O.isScene===!0&&O.onBeforeRender(g,O,ue,C),v=D.get(O,_.length),v.init(),_.push(v),ne.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),V.setFromProjectionMatrix(ne),ee=this.localClippingEnabled,H=ce.init(this.clippingPlanes,ee),m=k.get(O,x.length),m.init(),x.push(m),Nn(O,ue,0,g.sortObjects),m.finish(),g.sortObjects===!0&&m.sort(K,X),H===!0&&ce.beginShadows();const ye=v.state.shadowsArray;if(Ce.render(ye,O,ue),H===!0&&ce.endShadows(),this.info.autoReset===!0&&this.info.reset(),Te.render(m,O),v.setupLights(g.useLegacyLights),ue.isArrayCamera){const re=ue.cameras;for(let xe=0,et=re.length;xe<et;xe++){const it=re[xe];Tr(m,O,it,it.viewport)}}else Tr(m,O,ue);C!==null&&(Se.updateMultisampleRenderTarget(C),Se.updateRenderTargetMipmap(C)),O.isScene===!0&&O.onAfterRender(g,O,ue),Ge.resetDefaultState(),R=-1,B=null,_.pop(),_.length>0?v=_[_.length-1]:v=null,x.pop(),x.length>0?m=x[x.length-1]:m=null};function Nn(O,ue,ye,re){if(O.visible===!1)return;if(O.layers.test(ue.layers)){if(O.isGroup)ye=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ue);else if(O.isLight)v.pushLight(O),O.castShadow&&v.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||V.intersectsSprite(O)){re&&ie.setFromMatrixPosition(O.matrixWorld).applyMatrix4(ne);const it=je.update(O),ot=O.material;ot.visible&&m.push(O,it,ot,ye,ie.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||V.intersectsObject(O))){O.isSkinnedMesh&&O.skeleton.frame!==de.render.frame&&(O.skeleton.update(),O.skeleton.frame=de.render.frame);const it=je.update(O),ot=O.material;if(re&&(it.boundingSphere===null&&it.computeBoundingSphere(),ie.copy(it.boundingSphere.center).applyMatrix4(O.matrixWorld).applyMatrix4(ne)),Array.isArray(ot)){const ht=it.groups;for(let xt=0,At=ht.length;xt<At;xt++){const Mt=ht[xt],Ot=ot[Mt.materialIndex];Ot&&Ot.visible&&m.push(O,it,Ot,ye,ie.z,Mt)}}else ot.visible&&m.push(O,it,ot,ye,ie.z,null)}}const et=O.children;for(let it=0,ot=et.length;it<ot;it++)Nn(et[it],ue,ye,re)}function Tr(O,ue,ye,re){const xe=O.opaque,et=O.transmissive,it=O.transparent;v.setupLightsView(ye),H===!0&&ce.setGlobalState(g.clippingPlanes,ye),et.length>0&&qt(xe,et,ue,ye),re&&_e.viewport(P.copy(re)),xe.length>0&&fi(xe,ue,ye),et.length>0&&fi(et,ue,ye),it.length>0&&fi(it,ue,ye),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function qt(O,ue,ye,re){if(Z===null){const ot=Me.isWebGL2;Z=new qr(1024,1024,{generateMipmaps:!0,type:Xe.has("EXT_color_buffer_half_float")?cu:ro,minFilter:Ss,samples:ot&&a===!0?4:0})}const xe=g.getRenderTarget();g.setRenderTarget(Z),g.clear();const et=g.toneMapping;g.toneMapping=Jr,fi(O,ye,re),Se.updateMultisampleRenderTarget(Z),Se.updateRenderTargetMipmap(Z);let it=!1;for(let ot=0,ht=ue.length;ot<ht;ot++){const xt=ue[ot],At=xt.object,Mt=xt.geometry,Ot=xt.material,jn=xt.group;if(Ot.side===Mr&&At.layers.test(re.layers)){const Ni=Ot.side;Ot.side=xi,Ot.needsUpdate=!0,sr(At,ye,re,Mt,Ot,jn),Ot.side=Ni,Ot.needsUpdate=!0,it=!0}}it===!0&&(Se.updateMultisampleRenderTarget(Z),Se.updateRenderTargetMipmap(Z)),g.setRenderTarget(xe),g.toneMapping=et}function fi(O,ue,ye){const re=ue.isScene===!0?ue.overrideMaterial:null;for(let xe=0,et=O.length;xe<et;xe++){const it=O[xe],ot=it.object,ht=it.geometry,xt=re===null?it.material:re,At=it.group;ot.layers.test(ye.layers)&&sr(ot,ue,ye,ht,xt,At)}}function sr(O,ue,ye,re,xe,et){O.onBeforeRender(g,ue,ye,re,xe,et),O.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),xe.onBeforeRender(g,ue,ye,re,O,et),xe.transparent===!0&&xe.side===Mr&&xe.forceSinglePass===!1?(xe.side=xi,xe.needsUpdate=!0,g.renderBufferDirect(ye,ue,re,xe,O,et),xe.side=Ms,xe.needsUpdate=!0,g.renderBufferDirect(ye,ue,re,xe,O,et),xe.side=Mr):g.renderBufferDirect(ye,ue,re,xe,O,et),O.onAfterRender(g,ue,ye,re,xe,et)}function Il(O,ue,ye){ue.isScene!==!0&&(ue=Ee);const re=ae.get(O),xe=v.state.lights,et=v.state.shadowsArray,it=xe.state.version,ot=tt.getParameters(O,xe.state,et,ue,ye),ht=tt.getProgramCacheKey(ot);let xt=re.programs;re.environment=O.isMeshStandardMaterial?ue.environment:null,re.fog=ue.fog,re.envMap=(O.isMeshStandardMaterial?Ie:Le).get(O.envMap||re.environment),xt===void 0&&(O.addEventListener("dispose",Gt),xt=new Map,re.programs=xt);let At=xt.get(ht);if(At!==void 0){if(re.currentProgram===At&&re.lightsStateVersion===it)return Sd(O,ot),At}else ot.uniforms=tt.getUniforms(O),O.onBuild(ye,ot,g),O.onBeforeCompile(ot,g),At=tt.acquireProgram(ot,ht),xt.set(ht,At),re.uniforms=ot.uniforms;const Mt=re.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(Mt.clippingPlanes=ce.uniform),Sd(O,ot),re.needsLights=zy(O),re.lightsStateVersion=it,re.needsLights&&(Mt.ambientLightColor.value=xe.state.ambient,Mt.lightProbe.value=xe.state.probe,Mt.directionalLights.value=xe.state.directional,Mt.directionalLightShadows.value=xe.state.directionalShadow,Mt.spotLights.value=xe.state.spot,Mt.spotLightShadows.value=xe.state.spotShadow,Mt.rectAreaLights.value=xe.state.rectArea,Mt.ltc_1.value=xe.state.rectAreaLTC1,Mt.ltc_2.value=xe.state.rectAreaLTC2,Mt.pointLights.value=xe.state.point,Mt.pointLightShadows.value=xe.state.pointShadow,Mt.hemisphereLights.value=xe.state.hemi,Mt.directionalShadowMap.value=xe.state.directionalShadowMap,Mt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Mt.spotShadowMap.value=xe.state.spotShadowMap,Mt.spotLightMatrix.value=xe.state.spotLightMatrix,Mt.spotLightMap.value=xe.state.spotLightMap,Mt.pointShadowMap.value=xe.state.pointShadowMap,Mt.pointShadowMatrix.value=xe.state.pointShadowMatrix);const Ot=At.getUniforms(),jn=Zm.seqWithValue(Ot.seq,Mt);return re.currentProgram=At,re.uniformsList=jn,At}function Sd(O,ue){const ye=ae.get(O);ye.outputColorSpace=ue.outputColorSpace,ye.instancing=ue.instancing,ye.skinning=ue.skinning,ye.morphTargets=ue.morphTargets,ye.morphNormals=ue.morphNormals,ye.morphColors=ue.morphColors,ye.morphTargetsCount=ue.morphTargetsCount,ye.numClippingPlanes=ue.numClippingPlanes,ye.numIntersection=ue.numClipIntersection,ye.vertexAlphas=ue.vertexAlphas,ye.vertexTangents=ue.vertexTangents,ye.toneMapping=ue.toneMapping}function Ed(O,ue,ye,re,xe){ue.isScene!==!0&&(ue=Ee),Se.resetTextureUnits();const et=ue.fog,it=re.isMeshStandardMaterial?ue.environment:null,ot=C===null?g.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Qr,ht=(re.isMeshStandardMaterial?Ie:Le).get(re.envMap||it),xt=re.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,At=!!re.normalMap&&!!ye.attributes.tangent,Mt=!!ye.morphAttributes.position,Ot=!!ye.morphAttributes.normal,jn=!!ye.morphAttributes.color,Ni=re.toneMapped?g.toneMapping:Jr,br=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,jt=br!==void 0?br.length:0,St=ae.get(re),va=v.state.lights;if(H===!0&&(ee===!0||O!==B)){const Ht=O===B&&re.id===R;ce.setState(re,O,Ht)}let _n=!1;re.version===St.__version?(St.needsLights&&St.lightsStateVersion!==va.state.version||St.outputColorSpace!==ot||xe.isInstancedMesh&&St.instancing===!1||!xe.isInstancedMesh&&St.instancing===!0||xe.isSkinnedMesh&&St.skinning===!1||!xe.isSkinnedMesh&&St.skinning===!0||St.envMap!==ht||re.fog===!0&&St.fog!==et||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==ce.numPlanes||St.numIntersection!==ce.numIntersection)||St.vertexAlphas!==xt||St.vertexTangents!==At||St.morphTargets!==Mt||St.morphNormals!==Ot||St.morphColors!==jn||St.toneMapping!==Ni||Me.isWebGL2===!0&&St.morphTargetsCount!==jt)&&(_n=!0):(_n=!0,St.__version=re.version);let Rr=St.currentProgram;_n===!0&&(Rr=Il(re,ue,xe));let Ts=!1,Si=!1,Ut=!1;const dt=Rr.getUniforms(),Zn=St.uniforms;if(_e.useProgram(Rr.program)&&(Ts=!0,Si=!0,Ut=!0),re.id!==R&&(R=re.id,Si=!0),Ts||B!==O){if(dt.setValue(j,"projectionMatrix",O.projectionMatrix),Me.logarithmicDepthBuffer&&dt.setValue(j,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),B!==O&&(B=O,Si=!0,Ut=!0),re.isShaderMaterial||re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshStandardMaterial||re.envMap){const Ht=dt.map.cameraPosition;Ht!==void 0&&Ht.setValue(j,ie.setFromMatrixPosition(O.matrixWorld))}(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&dt.setValue(j,"isOrthographic",O.isOrthographicCamera===!0),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial||re.isShadowMaterial||xe.isSkinnedMesh)&&dt.setValue(j,"viewMatrix",O.matrixWorldInverse)}if(xe.isSkinnedMesh){dt.setOptional(j,xe,"bindMatrix"),dt.setOptional(j,xe,"bindMatrixInverse");const Ht=xe.skeleton;Ht&&(Me.floatVertexTextures?(Ht.boneTexture===null&&Ht.computeBoneTexture(),dt.setValue(j,"boneTexture",Ht.boneTexture,Se),dt.setValue(j,"boneTextureSize",Ht.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Mn=ye.morphAttributes;if((Mn.position!==void 0||Mn.normal!==void 0||Mn.color!==void 0&&Me.isWebGL2===!0)&&Pe.update(xe,ye,Rr),(Si||St.receiveShadow!==xe.receiveShadow)&&(St.receiveShadow=xe.receiveShadow,dt.setValue(j,"receiveShadow",xe.receiveShadow)),re.isMeshGouraudMaterial&&re.envMap!==null&&(Zn.envMap.value=ht,Zn.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),Si&&(dt.setValue(j,"toneMappingExposure",g.toneMappingExposure),St.needsLights&&Iu(Zn,Ut),et&&re.fog===!0&&mt.refreshFogUniforms(Zn,et),mt.refreshMaterialUniforms(Zn,re,W,J,Z),Zm.upload(j,St.uniformsList,Zn,Se)),re.isShaderMaterial&&re.uniformsNeedUpdate===!0&&(Zm.upload(j,St.uniformsList,Zn,Se),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&dt.setValue(j,"center",xe.center),dt.setValue(j,"modelViewMatrix",xe.modelViewMatrix),dt.setValue(j,"normalMatrix",xe.normalMatrix),dt.setValue(j,"modelMatrix",xe.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const Ht=re.uniformsGroups;for(let Pr=0,ho=Ht.length;Pr<ho;Pr++)if(Me.isWebGL2){const Jn=Ht[Pr];z.update(Jn,Rr),z.bind(Jn,Rr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Rr}function Iu(O,ue){O.ambientLightColor.needsUpdate=ue,O.lightProbe.needsUpdate=ue,O.directionalLights.needsUpdate=ue,O.directionalLightShadows.needsUpdate=ue,O.pointLights.needsUpdate=ue,O.pointLightShadows.needsUpdate=ue,O.spotLights.needsUpdate=ue,O.spotLightShadows.needsUpdate=ue,O.rectAreaLights.needsUpdate=ue,O.hemisphereLights.needsUpdate=ue}function zy(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(O,ue,ye){ae.get(O.texture).__webglTexture=ue,ae.get(O.depthTexture).__webglTexture=ye;const re=ae.get(O);re.__hasExternalTextures=!0,re.__hasExternalTextures&&(re.__autoAllocateDepthBuffer=ye===void 0,re.__autoAllocateDepthBuffer||Xe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,ue){const ye=ae.get(O);ye.__webglFramebuffer=ue,ye.__useDefaultFramebuffer=ue===void 0},this.setRenderTarget=function(O,ue=0,ye=0){C=O,M=ue,E=ye;let re=!0,xe=null,et=!1,it=!1;if(O){const ht=ae.get(O);ht.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(j.FRAMEBUFFER,null),re=!1):ht.__webglFramebuffer===void 0?Se.setupRenderTarget(O):ht.__hasExternalTextures&&Se.rebindTextures(O,ae.get(O.texture).__webglTexture,ae.get(O.depthTexture).__webglTexture);const xt=O.texture;(xt.isData3DTexture||xt.isDataArrayTexture||xt.isCompressedArrayTexture)&&(it=!0);const At=ae.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(xe=At[ue],et=!0):Me.isWebGL2&&O.samples>0&&Se.useMultisampledRTT(O)===!1?xe=ae.get(O).__webglMultisampledFramebuffer:xe=At,P.copy(O.viewport),b.copy(O.scissor),I=O.scissorTest}else P.copy(oe).multiplyScalar(W).floor(),b.copy(te).multiplyScalar(W).floor(),I=L;if(_e.bindFramebuffer(j.FRAMEBUFFER,xe)&&Me.drawBuffers&&re&&_e.drawBuffers(O,xe),_e.viewport(P),_e.scissor(b),_e.setScissorTest(I),et){const ht=ae.get(O.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+ue,ht.__webglTexture,ye)}else if(it){const ht=ae.get(O.texture),xt=ue||0;j.framebufferTextureLayer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,ht.__webglTexture,ye||0,xt)}R=-1},this.readRenderTargetPixels=function(O,ue,ye,re,xe,et,it){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ot=ae.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&it!==void 0&&(ot=ot[it]),ot){_e.bindFramebuffer(j.FRAMEBUFFER,ot);try{const ht=O.texture,xt=ht.format,At=ht.type;if(xt!==Pi&&ge.convert(xt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Mt=At===cu&&(Xe.has("EXT_color_buffer_half_float")||Me.isWebGL2&&Xe.has("EXT_color_buffer_float"));if(At!==ro&&ge.convert(At)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_TYPE)&&!(At===Xs&&(Me.isWebGL2||Xe.has("OES_texture_float")||Xe.has("WEBGL_color_buffer_float")))&&!Mt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=O.width-re&&ye>=0&&ye<=O.height-xe&&j.readPixels(ue,ye,re,xe,ge.convert(xt),ge.convert(At),et)}finally{const ht=C!==null?ae.get(C).__webglFramebuffer:null;_e.bindFramebuffer(j.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(O,ue,ye=0){const re=Math.pow(2,-ye),xe=Math.floor(ue.image.width*re),et=Math.floor(ue.image.height*re);Se.setTexture2D(ue,0),j.copyTexSubImage2D(j.TEXTURE_2D,ye,0,0,O.x,O.y,xe,et),_e.unbindTexture()},this.copyTextureToTexture=function(O,ue,ye,re=0){const xe=ue.image.width,et=ue.image.height,it=ge.convert(ye.format),ot=ge.convert(ye.type);Se.setTexture2D(ye,0),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,ye.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,ye.unpackAlignment),ue.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,re,O.x,O.y,xe,et,it,ot,ue.image.data):ue.isCompressedTexture?j.compressedTexSubImage2D(j.TEXTURE_2D,re,O.x,O.y,ue.mipmaps[0].width,ue.mipmaps[0].height,it,ue.mipmaps[0].data):j.texSubImage2D(j.TEXTURE_2D,re,O.x,O.y,it,ot,ue.image),re===0&&ye.generateMipmaps&&j.generateMipmap(j.TEXTURE_2D),_e.unbindTexture()},this.copyTextureToTexture3D=function(O,ue,ye,re,xe=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=O.max.x-O.min.x+1,it=O.max.y-O.min.y+1,ot=O.max.z-O.min.z+1,ht=ge.convert(re.format),xt=ge.convert(re.type);let At;if(re.isData3DTexture)Se.setTexture3D(re,0),At=j.TEXTURE_3D;else if(re.isDataArrayTexture)Se.setTexture2DArray(re,0),At=j.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,re.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,re.unpackAlignment);const Mt=j.getParameter(j.UNPACK_ROW_LENGTH),Ot=j.getParameter(j.UNPACK_IMAGE_HEIGHT),jn=j.getParameter(j.UNPACK_SKIP_PIXELS),Ni=j.getParameter(j.UNPACK_SKIP_ROWS),br=j.getParameter(j.UNPACK_SKIP_IMAGES),jt=ye.isCompressedTexture?ye.mipmaps[0]:ye.image;j.pixelStorei(j.UNPACK_ROW_LENGTH,jt.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,jt.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,O.min.x),j.pixelStorei(j.UNPACK_SKIP_ROWS,O.min.y),j.pixelStorei(j.UNPACK_SKIP_IMAGES,O.min.z),ye.isDataTexture||ye.isData3DTexture?j.texSubImage3D(At,xe,ue.x,ue.y,ue.z,et,it,ot,ht,xt,jt.data):ye.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),j.compressedTexSubImage3D(At,xe,ue.x,ue.y,ue.z,et,it,ot,ht,jt.data)):j.texSubImage3D(At,xe,ue.x,ue.y,ue.z,et,it,ot,ht,xt,jt),j.pixelStorei(j.UNPACK_ROW_LENGTH,Mt),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,Ot),j.pixelStorei(j.UNPACK_SKIP_PIXELS,jn),j.pixelStorei(j.UNPACK_SKIP_ROWS,Ni),j.pixelStorei(j.UNPACK_SKIP_IMAGES,br),xe===0&&re.generateMipmaps&&j.generateMipmap(At),_e.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?Se.setTextureCube(O,0):O.isData3DTexture?Se.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?Se.setTexture2DArray(O,0):Se.setTexture2D(O,0),_e.unbindTexture()},this.resetState=function(){M=0,E=0,C=null,_e.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===pt?qi:QM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===qi?pt:Qr}}class EL extends cS{}EL.prototype.isWebGL1Renderer=!0;class my{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fe(e),this.density=t}clone(){return new my(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class gy{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Fe(e),this.near=t,this.far=i}clone(){return new gy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Bg extends Ct{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Zh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ch,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const pi=new F;class oa{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}setX(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=vt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xi(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=vt(t,this.array),i=vt(i,this.array),r=vt(r,this.array),s=vt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Dt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new oa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class uS extends bn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let lc;const ff=new F,cc=new F,uc=new F,fc=new Ae,hf=new Ae,wL=new st,nm=new F,df=new F,im=new F,QC=new Ae,k0=new Ae,qC=new Ae;class CL extends Ct{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",lc===void 0){lc=new ut;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Zh(t,5);lc.setIndex([0,1,2,0,2,3]),lc.setAttribute("position",new oa(i,3,0,!1)),lc.setAttribute("uv",new oa(i,2,3,!1))}this.geometry=lc,this.material=e!==void 0?e:new uS,this.center=new Ae(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cc.setFromMatrixScale(this.matrixWorld),wL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cc.multiplyScalar(-uc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;rm(nm.set(-.5,-.5,0),uc,o,cc,r,s),rm(df.set(.5,-.5,0),uc,o,cc,r,s),rm(im.set(.5,.5,0),uc,o,cc,r,s),QC.set(0,0),k0.set(1,0),qC.set(1,1);let a=e.ray.intersectTriangle(nm,df,im,!1,ff);if(a===null&&(rm(df.set(-.5,.5,0),uc,o,cc,r,s),k0.set(0,1),a=e.ray.intersectTriangle(nm,im,df,!1,ff),a===null))return;const l=e.ray.origin.distanceTo(ff);l<e.near||l>e.far||t.push({distance:l,point:ff.clone(),uv:Ri.getInterpolation(ff,nm,df,im,QC,k0,qC,new Ae),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function rm(n,e,t,i,r,s){fc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(hf.x=s*fc.x-r*fc.y,hf.y=r*fc.x+s*fc.y):hf.copy(fc),n.copy(e),n.x+=hf.x,n.y+=hf.y,n.applyMatrix4(wL)}const sm=new F,ZC=new F;class TL extends Ct{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){sm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(sm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){sm.setFromMatrixPosition(e.matrixWorld),ZC.setFromMatrixPosition(this.matrixWorld);const i=sm.distanceTo(ZC)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const $C=new F,eT=new kt,tT=new kt,P4=new F,nT=new st,hc=new F;class fS extends Ln{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new st,this.bindMatrixInverse=new st,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Zr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)hc.fromBufferAttribute(t,i),this.applyBoneTransform(i,hc),this.boundingBox.expandByPoint(hc)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $r),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)hc.fromBufferAttribute(t,i),this.applyBoneTransform(i,hc),this.boundingSphere.expandByPoint(hc)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;eT.fromBufferAttribute(r.attributes.skinIndex,e),tT.fromBufferAttribute(r.attributes.skinWeight,e),$C.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=tT.getComponent(s);if(o!==0){const a=eT.getComponent(s);nT.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(P4.copy($C).applyMatrix4(nT),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class yy extends Ct{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yc extends tn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=mn,h=mn,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const iT=new st,B4=new st;class $h{constructor(e=[],t=[]){this.uuid=Zi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new st)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new st;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:B4;iT.multiplyMatrices(a,t[s]),iT.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new $h(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=uL(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Yc(t,e,e,Pi,Xs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new yy),this.bones.push(o),this.boneInverses.push(new st().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class du extends Dt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const dc=new st,rT=new st,om=[],sT=new Zr,I4=new st,pf=new Ln,mf=new $r;class hS extends Ln{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new du(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,I4)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Zr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,dc),sT.copy(e.boundingBox).applyMatrix4(dc),this.boundingBox.union(sT)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new $r),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,dc),mf.copy(e.boundingSphere).applyMatrix4(dc),this.boundingSphere.union(mf)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(pf.geometry=this.geometry,pf.material=this.material,pf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),mf.copy(this.boundingSphere),mf.applyMatrix4(i),e.ray.intersectsSphere(mf)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,dc),rT.multiplyMatrices(i,dc),pf.matrixWorld=rT,pf.raycast(e,om);for(let o=0,a=om.length;o<a;o++){const l=om[o];l.instanceId=s,l.object=this,t.push(l)}om.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new du(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ui extends bn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const oT=new F,aT=new F,lT=new st,z0=new Yh,am=new $r;class so extends Ct{constructor(e=new ut,t=new ui){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)oT.fromBufferAttribute(t,r-1),aT.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=oT.distanceTo(aT);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),am.copy(i.boundingSphere),am.applyMatrix4(r),am.radius+=s,e.ray.intersectsSphere(am)===!1)return;lT.copy(r).invert(),z0.copy(e.ray).applyMatrix4(lT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new F,h=new F,d=new F,p=new F,m=this.isLineSegments?2:1,v=i.index,_=i.attributes.position;if(v!==null){const g=Math.max(0,o.start),A=Math.min(v.count,o.start+o.count);for(let M=g,E=A-1;M<E;M+=m){const C=v.getX(M),R=v.getX(M+1);if(c.fromBufferAttribute(_,C),h.fromBufferAttribute(_,R),z0.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),A=Math.min(_.count,o.start+o.count);for(let M=g,E=A-1;M<E;M+=m){if(c.fromBufferAttribute(_,M),h.fromBufferAttribute(_,M+1),z0.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(p);R<e.near||R>e.far||t.push({distance:R,point:d.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const cT=new F,uT=new F;class es extends so{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)cT.fromBufferAttribute(t,r),uT.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+cT.distanceTo(uT);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dS extends so{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class vy extends bn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const fT=new st,l_=new Yh,lm=new $r,cm=new F;class pS extends Ct{constructor(e=new ut,t=new vy){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),lm.copy(i.boundingSphere),lm.applyMatrix4(r),lm.radius+=s,e.ray.intersectsSphere(lm)===!1)return;fT.copy(r).invert(),l_.copy(e.ray).applyMatrix4(fT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const _=c.getX(v);cm.fromBufferAttribute(d,_),hT(cm,_,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,x=m;v<x;v++)cm.fromBufferAttribute(d,v),hT(cm,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function hT(n,e,t,i,r,s,o){const a=l_.distanceSqToPoint(n);if(a<t){const l=new F;l_.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class L4 extends tn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:on,this.magFilter=s!==void 0?s:on,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class D4 extends tn{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=mn,this.minFilter=mn,this.generateMipmaps=!1,this.needsUpdate=!0}}class mS extends tn{constructor(e,t,i,r,s,o,a,l,c,h,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class F4 extends mS{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Yn}}class N4 extends tn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ts{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,m=(o-h)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Ae:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new F,r=[],s=[],o=[],a=new F,l=new st;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new F)}s[0]=new F,o[0]=new F;let c=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=c&&(c=h,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(gn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(gn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class xy extends ts{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Ae,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*h-m*d+this.aX,c=p*d+m*h+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class bL extends xy{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function gS(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,h,d){let p=(o-s)/c-(a-s)/(c+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const um=new F,G0=new gS,H0=new gS,V0=new gS;class RL extends ts{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new F){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,h;this.closed||a>0?c=r[(a-1)%s]:(um.subVectors(r[0],r[1]).add(r[0]),c=um);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(um.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=um),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(h),m);x<1e-4&&(x=1),v<1e-4&&(v=x),_<1e-4&&(_=x),G0.initNonuniformCatmullRom(c.x,d.x,p.x,h.x,v,x,_),H0.initNonuniformCatmullRom(c.y,d.y,p.y,h.y,v,x,_),V0.initNonuniformCatmullRom(c.z,d.z,p.z,h.z,v,x,_)}else this.curveType==="catmullrom"&&(G0.initCatmullRom(c.x,d.x,p.x,h.x,this.tension),H0.initCatmullRom(c.y,d.y,p.y,h.y,this.tension),V0.initCatmullRom(c.z,d.z,p.z,h.z,this.tension));return i.set(G0.calc(l),H0.calc(l),V0.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function dT(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function O4(n,e){const t=1-n;return t*t*e}function U4(n,e){return 2*(1-n)*n*e}function k4(n,e){return n*n*e}function Yf(n,e,t,i){return O4(n,e)+U4(n,t)+k4(n,i)}function z4(n,e){const t=1-n;return t*t*t*e}function G4(n,e){const t=1-n;return 3*t*t*n*e}function H4(n,e){return 3*(1-n)*n*n*e}function V4(n,e){return n*n*n*e}function Qf(n,e,t,i,r){return z4(n,e)+G4(n,t)+H4(n,i)+V4(n,r)}class yS extends ts{constructor(e=new Ae,t=new Ae,i=new Ae,r=new Ae){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ae){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Qf(e,r.x,s.x,o.x,a.x),Qf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class PL extends ts{constructor(e=new F,t=new F,i=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Qf(e,r.x,s.x,o.x,a.x),Qf(e,r.y,s.y,o.y,a.y),Qf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ay extends ts{constructor(e=new Ae,t=new Ae){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ae){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ae){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BL extends ts{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new F){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vS extends ts{constructor(e=new Ae,t=new Ae,i=new Ae){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ae){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Yf(e,r.x,s.x,o.x),Yf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xS extends ts{constructor(e=new F,t=new F,i=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Yf(e,r.x,s.x,o.x),Yf(e,r.y,s.y,o.y),Yf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AS extends ts{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ae){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(dT(a,l.x,c.x,h.x,d.x),dT(a,l.y,c.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ae().fromArray(r))}return this}}var _S=Object.freeze({__proto__:null,ArcCurve:bL,CatmullRomCurve3:RL,CubicBezierCurve:yS,CubicBezierCurve3:PL,EllipseCurve:xy,LineCurve:Ay,LineCurve3:BL,QuadraticBezierCurve:vS,QuadraticBezierCurve3:xS,SplineCurve:AS});class IL extends ts{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ay(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const h=l[c];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new _S[r.type]().fromJSON(r))}return this}}class bh extends IL{constructor(e){super(),this.type="Path",this.currentPoint=new Ae,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Ay(this.currentPoint.clone(),new Ae(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new vS(this.currentPoint.clone(),new Ae(e,t),new Ae(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new yS(this.currentPoint.clone(),new Ae(e,t),new Ae(i,r),new Ae(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new AS(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new xy(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class bu extends ut{constructor(e=[new Ae(0,-.5),new Ae(.5,0),new Ae(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=gn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],h=1/t,d=new F,p=new Ae,m=new F,v=new F,x=new F;let _=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:_=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-_,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:_=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-_,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let A=0;A<=t;A++){const M=i+A*h*r,E=Math.sin(M),C=Math.cos(M);for(let R=0;R<=e.length-1;R++){d.x=e[R].x*E,d.y=e[R].y,d.z=e[R].x*C,o.push(d.x,d.y,d.z),p.x=A/t,p.y=R/(e.length-1),a.push(p.x,p.y);const B=l[3*R+0]*E,P=l[3*R+1],b=l[3*R+0]*C;c.push(B,P,b)}}for(let A=0;A<t;A++)for(let M=0;M<e.length-1;M++){const E=M+A*e.length,C=E,R=E+e.length,B=E+e.length+1,P=E+1;s.push(C,R,P),s.push(B,P,R)}this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("uv",new Je(a,2)),this.setAttribute("normal",new Je(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bu(e.points,e.segments,e.phiStart,e.phiLength)}}class ed extends bu{constructor(e=1,t=1,i=4,r=8){const s=new bh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new ed(e.radius,e.length,e.capSegments,e.radialSegments)}}class td extends ut{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new F,h=new Ae;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("normal",new Je(a,3)),this.setAttribute("uv",new Je(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new td(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Cl extends ut{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let v=0;const x=[],_=i/2;let g=0;A(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(h),this.setAttribute("position",new Je(d,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function A(){const E=new F,C=new F;let R=0;const B=(t-e)/i;for(let P=0;P<=s;P++){const b=[],I=P/s,G=I*(t-e)+e;for(let J=0;J<=r;J++){const W=J/r,K=W*l+a,X=Math.sin(K),oe=Math.cos(K);C.x=G*X,C.y=-I*i+_,C.z=G*oe,d.push(C.x,C.y,C.z),E.set(X,B,oe).normalize(),p.push(E.x,E.y,E.z),m.push(W,1-I),b.push(v++)}x.push(b)}for(let P=0;P<r;P++)for(let b=0;b<s;b++){const I=x[b][P],G=x[b+1][P],J=x[b+1][P+1],W=x[b][P+1];h.push(I,G,W),h.push(G,J,W),R+=6}c.addGroup(g,R,0),g+=R}function M(E){const C=v,R=new Ae,B=new F;let P=0;const b=E===!0?e:t,I=E===!0?1:-1;for(let J=1;J<=r;J++)d.push(0,_*I,0),p.push(0,I,0),m.push(.5,.5),v++;const G=v;for(let J=0;J<=r;J++){const K=J/r*l+a,X=Math.cos(K),oe=Math.sin(K);B.x=b*oe,B.y=_*I,B.z=b*X,d.push(B.x,B.y,B.z),p.push(0,I,0),R.x=X*.5+.5,R.y=oe*.5*I+.5,m.push(R.x,R.y),v++}for(let J=0;J<r;J++){const W=C+J,K=G+J;E===!0?h.push(K,K+1,W):h.push(K+1,K,W),P+=3}c.addGroup(g,P,E===!0?1:2),g+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nd extends Cl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new nd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class co extends ut{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),h(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(s.slice(),3)),this.setAttribute("uv",new Je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const M=new F,E=new F,C=new F;for(let R=0;R<t.length;R+=3)m(t[R+0],M),m(t[R+1],E),m(t[R+2],C),l(M,E,C,A)}function l(A,M,E,C){const R=C+1,B=[];for(let P=0;P<=R;P++){B[P]=[];const b=A.clone().lerp(E,P/R),I=M.clone().lerp(E,P/R),G=R-P;for(let J=0;J<=G;J++)J===0&&P===R?B[P][J]=b:B[P][J]=b.clone().lerp(I,J/G)}for(let P=0;P<R;P++)for(let b=0;b<2*(R-P)-1;b++){const I=Math.floor(b/2);b%2===0?(p(B[P][I+1]),p(B[P+1][I]),p(B[P][I])):(p(B[P][I+1]),p(B[P+1][I+1]),p(B[P+1][I]))}}function c(A){const M=new F;for(let E=0;E<s.length;E+=3)M.x=s[E+0],M.y=s[E+1],M.z=s[E+2],M.normalize().multiplyScalar(A),s[E+0]=M.x,s[E+1]=M.y,s[E+2]=M.z}function h(){const A=new F;for(let M=0;M<s.length;M+=3){A.x=s[M+0],A.y=s[M+1],A.z=s[M+2];const E=_(A)/2/Math.PI+.5,C=g(A)/Math.PI+.5;o.push(E,1-C)}v(),d()}function d(){for(let A=0;A<o.length;A+=6){const M=o[A+0],E=o[A+2],C=o[A+4],R=Math.max(M,E,C),B=Math.min(M,E,C);R>.9&&B<.1&&(M<.2&&(o[A+0]+=1),E<.2&&(o[A+2]+=1),C<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,M){const E=A*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function v(){const A=new F,M=new F,E=new F,C=new F,R=new Ae,B=new Ae,P=new Ae;for(let b=0,I=0;b<s.length;b+=9,I+=6){A.set(s[b+0],s[b+1],s[b+2]),M.set(s[b+3],s[b+4],s[b+5]),E.set(s[b+6],s[b+7],s[b+8]),R.set(o[I+0],o[I+1]),B.set(o[I+2],o[I+3]),P.set(o[I+4],o[I+5]),C.copy(A).add(M).add(E).divideScalar(3);const G=_(C);x(R,I+0,A,G),x(B,I+2,M,G),x(P,I+4,E,G)}}function x(A,M,E,C){C<0&&A.x===1&&(o[M]=A.x-1),E.x===0&&E.z===0&&(o[M]=C/2/Math.PI+.5)}function _(A){return Math.atan2(A.z,-A.x)}function g(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new co(e.vertices,e.indices,e.radius,e.details)}}class id extends co{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new id(e.radius,e.detail)}}const fm=new F,hm=new F,W0=new F,dm=new Ri;class LL extends ut{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(al*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:_,c:g}=dm;if(x.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),dm.getNormal(W0),d[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let A=0;A<3;A++){const M=(A+1)%3,E=d[A],C=d[M],R=dm[h[A]],B=dm[h[M]],P=`${E}_${C}`,b=`${C}_${E}`;b in p&&p[b]?(W0.dot(p[b].normal)<=s&&(m.push(R.x,R.y,R.z),m.push(B.x,B.y,B.z)),p[b]=null):P in p||(p[P]={index0:c[A],index1:c[M],normal:W0.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:_}=p[v];fm.fromBufferAttribute(a,x),hm.fromBufferAttribute(a,_),m.push(fm.x,fm.y,fm.z),m.push(hm.x,hm.y,hm.z)}this.setAttribute("position",new Je(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let cl=class extends bh{constructor(e){super(e),this.uuid=Zi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new bh().fromJSON(r))}return this}};const W4={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=DL(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,d,p,m;if(i&&(s=Y4(n,e,s,t)),n.length>80*t){a=c=n[0],l=h=n[1];for(let v=t;v<r;v+=t)d=n[v],p=n[v+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Rh(s,o,t,a,l,m,0),o}};function DL(n,e,t,i,r){let s,o;if(r===o5(n,e,t,i)>0)for(s=e;s<t;s+=i)o=pT(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=pT(s,n[s],n[s+1],o);return o&&_y(o,o.next)&&(Bh(o),o=o.next),o}function vl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(_y(t,t.next)||an(t.prev,t,t.next)===0)){if(Bh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Rh(n,e,t,i,r,s,o){if(!n)return;!o&&s&&e5(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?J4(n,i,r,s):j4(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Bh(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=X4(vl(n),e,t),Rh(n,e,t,i,r,s,2)):o===2&&K4(n,e,t,i,r,s):Rh(vl(n),e,t,i,r,s,1);break}}}function j4(n){const e=n.prev,t=n,i=n.next;if(an(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=d&&v.y<=m&&Dc(r,a,s,l,o,c,v.x,v.y)&&an(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function J4(n,e,t,i){const r=n.prev,s=n,o=n.next;if(an(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<d?h<p?h:p:d<p?d:p,x=a>l?a>c?a:c:l>c?l:c,_=h>d?h>p?h:p:d>p?d:p,g=c_(m,v,e,t,i),A=c_(x,_,e,t,i);let M=n.prevZ,E=n.nextZ;for(;M&&M.z>=g&&E&&E.z<=A;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=_&&M!==r&&M!==o&&Dc(a,h,l,d,c,p,M.x,M.y)&&an(M.prev,M,M.next)>=0||(M=M.prevZ,E.x>=m&&E.x<=x&&E.y>=v&&E.y<=_&&E!==r&&E!==o&&Dc(a,h,l,d,c,p,E.x,E.y)&&an(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;M&&M.z>=g;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=_&&M!==r&&M!==o&&Dc(a,h,l,d,c,p,M.x,M.y)&&an(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;E&&E.z<=A;){if(E.x>=m&&E.x<=x&&E.y>=v&&E.y<=_&&E!==r&&E!==o&&Dc(a,h,l,d,c,p,E.x,E.y)&&an(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function X4(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!_y(r,s)&&FL(r,i,i.next,s)&&Ph(r,s)&&Ph(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Bh(i),Bh(i.next),i=n=s),i=i.next}while(i!==n);return vl(i)}function K4(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&i5(o,a)){let l=NL(o,a);o=vl(o,o.next),l=vl(l,l.next),Rh(o,e,t,i,r,s,0),Rh(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function Y4(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=DL(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(n5(c));for(r.sort(Q4),s=0;s<r.length;s++)t=q4(r[s],t);return t}function Q4(n,e){return n.x-e.x}function q4(n,e){const t=Z4(n,e);if(!t)return e;const i=NL(t,n);return vl(i,i.next),vl(t,t.next)}function Z4(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Dc(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Ph(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&$4(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function $4(n,e){return an(n.prev,n,e.prev)<0&&an(e.next,n,n.next)<0}function e5(n,e,t,i){let r=n;do r.z===0&&(r.z=c_(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,t5(r)}function t5(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function c_(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function n5(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Dc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function i5(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!r5(n,e)&&(Ph(n,e)&&Ph(e,n)&&s5(n,e)&&(an(n.prev,n,e.prev)||an(n,e.prev,e))||_y(n,e)&&an(n.prev,n,n.next)>0&&an(e.prev,e,e.next)>0)}function an(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function _y(n,e){return n.x===e.x&&n.y===e.y}function FL(n,e,t,i){const r=mm(an(n,e,t)),s=mm(an(n,e,i)),o=mm(an(t,i,n)),a=mm(an(t,i,e));return!!(r!==s&&o!==a||r===0&&pm(n,t,e)||s===0&&pm(n,i,e)||o===0&&pm(t,n,i)||a===0&&pm(t,e,i))}function pm(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function mm(n){return n>0?1:n<0?-1:0}function r5(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&FL(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ph(n,e){return an(n.prev,n,n.next)<0?an(n,e,n.next)>=0&&an(n,n.prev,e)>=0:an(n,e,n.prev)<0||an(n,n.next,e)<0}function s5(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function NL(n,e){const t=new u_(n.i,n.x,n.y),i=new u_(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function pT(n,e,t,i){const r=new u_(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Bh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function u_(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function o5(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class vs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return vs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];mT(e),gT(i,e);let o=e.length;t.forEach(mT);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,gT(i,t[l]);const a=W4.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function mT(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function gT(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class rd extends ut{constructor(e=new cl([new Ae(.5,.5),new Ae(-.5,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Je(r,3)),this.setAttribute("uv",new Je(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:a5;let M,E=!1,C,R,B,P;g&&(M=g.getSpacedPoints(h),E=!0,p=!1,C=g.computeFrenetFrames(h,!1),R=new F,B=new F,P=new F),p||(_=0,m=0,v=0,x=0);const b=a.extractPoints(c);let I=b.shape;const G=b.holes;if(!vs.isClockWise(I)){I=I.reverse();for(let de=0,ae=G.length;de<ae;de++){const Se=G[de];vs.isClockWise(Se)&&(G[de]=Se.reverse())}}const W=vs.triangulateShape(I,G),K=I;for(let de=0,ae=G.length;de<ae;de++){const Se=G[de];I=I.concat(Se)}function X(de,ae,Se){return ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),de.clone().addScaledVector(ae,Se)}const oe=I.length,te=W.length;function L(de,ae,Se){let Le,Ie,We;const Ke=de.x-ae.x,je=de.y-ae.y,tt=Se.x-de.x,mt=Se.y-de.y,k=Ke*Ke+je*je,D=Ke*mt-je*tt;if(Math.abs(D)>Number.EPSILON){const ce=Math.sqrt(k),Ce=Math.sqrt(tt*tt+mt*mt),Te=ae.x-je/ce,Pe=ae.y+Ke/ce,$e=Se.x-mt/Ce,Oe=Se.y+tt/Ce,ge=(($e-Te)*mt-(Oe-Pe)*tt)/(Ke*mt-je*tt);Le=Te+Ke*ge-de.x,Ie=Pe+je*ge-de.y;const Ge=Le*Le+Ie*Ie;if(Ge<=2)return new Ae(Le,Ie);We=Math.sqrt(Ge/2)}else{let ce=!1;Ke>Number.EPSILON?tt>Number.EPSILON&&(ce=!0):Ke<-Number.EPSILON?tt<-Number.EPSILON&&(ce=!0):Math.sign(je)===Math.sign(mt)&&(ce=!0),ce?(Le=-je,Ie=Ke,We=Math.sqrt(k)):(Le=Ke,Ie=je,We=Math.sqrt(k/2))}return new Ae(Le/We,Ie/We)}const V=[];for(let de=0,ae=K.length,Se=ae-1,Le=de+1;de<ae;de++,Se++,Le++)Se===ae&&(Se=0),Le===ae&&(Le=0),V[de]=L(K[de],K[Se],K[Le]);const H=[];let ee,Z=V.concat();for(let de=0,ae=G.length;de<ae;de++){const Se=G[de];ee=[];for(let Le=0,Ie=Se.length,We=Ie-1,Ke=Le+1;Le<Ie;Le++,We++,Ke++)We===Ie&&(We=0),Ke===Ie&&(Ke=0),ee[Le]=L(Se[Le],Se[We],Se[Ke]);H.push(ee),Z=Z.concat(ee)}for(let de=0;de<_;de++){const ae=de/_,Se=m*Math.cos(ae*Math.PI/2),Le=v*Math.sin(ae*Math.PI/2)+x;for(let Ie=0,We=K.length;Ie<We;Ie++){const Ke=X(K[Ie],V[Ie],Le);j(Ke.x,Ke.y,-Se)}for(let Ie=0,We=G.length;Ie<We;Ie++){const Ke=G[Ie];ee=H[Ie];for(let je=0,tt=Ke.length;je<tt;je++){const mt=X(Ke[je],ee[je],Le);j(mt.x,mt.y,-Se)}}}const ne=v+x;for(let de=0;de<oe;de++){const ae=p?X(I[de],Z[de],ne):I[de];E?(B.copy(C.normals[0]).multiplyScalar(ae.x),R.copy(C.binormals[0]).multiplyScalar(ae.y),P.copy(M[0]).add(B).add(R),j(P.x,P.y,P.z)):j(ae.x,ae.y,0)}for(let de=1;de<=h;de++)for(let ae=0;ae<oe;ae++){const Se=p?X(I[ae],Z[ae],ne):I[ae];E?(B.copy(C.normals[de]).multiplyScalar(Se.x),R.copy(C.binormals[de]).multiplyScalar(Se.y),P.copy(M[de]).add(B).add(R),j(P.x,P.y,P.z)):j(Se.x,Se.y,d/h*de)}for(let de=_-1;de>=0;de--){const ae=de/_,Se=m*Math.cos(ae*Math.PI/2),Le=v*Math.sin(ae*Math.PI/2)+x;for(let Ie=0,We=K.length;Ie<We;Ie++){const Ke=X(K[Ie],V[Ie],Le);j(Ke.x,Ke.y,d+Se)}for(let Ie=0,We=G.length;Ie<We;Ie++){const Ke=G[Ie];ee=H[Ie];for(let je=0,tt=Ke.length;je<tt;je++){const mt=X(Ke[je],ee[je],Le);E?j(mt.x,mt.y+M[h-1].y,M[h-1].x+Se):j(mt.x,mt.y,d+Se)}}}ie(),Ee();function ie(){const de=r.length/3;if(p){let ae=0,Se=oe*ae;for(let Le=0;Le<te;Le++){const Ie=W[Le];ke(Ie[2]+Se,Ie[1]+Se,Ie[0]+Se)}ae=h+_*2,Se=oe*ae;for(let Le=0;Le<te;Le++){const Ie=W[Le];ke(Ie[0]+Se,Ie[1]+Se,Ie[2]+Se)}}else{for(let ae=0;ae<te;ae++){const Se=W[ae];ke(Se[2],Se[1],Se[0])}for(let ae=0;ae<te;ae++){const Se=W[ae];ke(Se[0]+oe*h,Se[1]+oe*h,Se[2]+oe*h)}}i.addGroup(de,r.length/3-de,0)}function Ee(){const de=r.length/3;let ae=0;pe(K,ae),ae+=K.length;for(let Se=0,Le=G.length;Se<Le;Se++){const Ie=G[Se];pe(Ie,ae),ae+=Ie.length}i.addGroup(de,r.length/3-de,1)}function pe(de,ae){let Se=de.length;for(;--Se>=0;){const Le=Se;let Ie=Se-1;Ie<0&&(Ie=de.length-1);for(let We=0,Ke=h+_*2;We<Ke;We++){const je=oe*We,tt=oe*(We+1),mt=ae+Le+je,k=ae+Ie+je,D=ae+Ie+tt,ce=ae+Le+tt;Xe(mt,k,D,ce)}}}function j(de,ae,Se){l.push(de),l.push(ae),l.push(Se)}function ke(de,ae,Se){Me(de),Me(ae),Me(Se);const Le=r.length/3,Ie=A.generateTopUV(i,r,Le-3,Le-2,Le-1);_e(Ie[0]),_e(Ie[1]),_e(Ie[2])}function Xe(de,ae,Se,Le){Me(de),Me(ae),Me(Le),Me(ae),Me(Se),Me(Le);const Ie=r.length/3,We=A.generateSideWallUV(i,r,Ie-6,Ie-3,Ie-2,Ie-1);_e(We[0]),_e(We[1]),_e(We[3]),_e(We[1]),_e(We[2]),_e(We[3])}function Me(de){r.push(l[de*3+0]),r.push(l[de*3+1]),r.push(l[de*3+2])}function _e(de){s.push(de.x),s.push(de.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return l5(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new _S[r.type]().fromJSON(r)),new rd(i,e.options)}}const a5={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],h=e[r*3+1];return[new Ae(s,o),new Ae(a,l),new Ae(c,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],x=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-c)?[new Ae(o,1-l),new Ae(c,1-d),new Ae(p,1-v),new Ae(x,1-g)]:[new Ae(a,1-l),new Ae(h,1-d),new Ae(m,1-v),new Ae(_,1-g)]}};function l5(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class sd extends co{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sd(e.radius,e.detail)}}class Ru extends co{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ru(e.radius,e.detail)}}class od extends ut{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],h=[];let d=e;const p=(t-e)/r,m=new F,v=new Ae;for(let x=0;x<=r;x++){for(let _=0;_<=i;_++){const g=s+_/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y)}d+=p}for(let x=0;x<r;x++){const _=x*(i+1);for(let g=0;g<i;g++){const A=g+_,M=A,E=A+i+1,C=A+i+2,R=A+1;a.push(M,E,R),a.push(E,C,R)}}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new od(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ad extends ut{constructor(e=new cl([new Ae(0,.5),new Ae(-.5,-.5),new Ae(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Je(r,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(o,2));function c(h){const d=r.length/3,p=h.extractPoints(t);let m=p.shape;const v=p.holes;vs.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,g=v.length;_<g;_++){const A=v[_];vs.isClockWise(A)===!0&&(v[_]=A.reverse())}const x=vs.triangulateShape(m,v);for(let _=0,g=v.length;_<g;_++){const A=v[_];m=m.concat(A)}for(let _=0,g=m.length;_<g;_++){const A=m[_];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let _=0,g=x.length;_<g;_++){const A=x[_],M=A[0]+d,E=A[1]+d,C=A[2]+d;i.push(M,E,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return c5(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new ad(i,e.curveSegments)}}function c5(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Pu extends ut{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const h=[],d=new F,p=new F,m=[],v=[],x=[],_=[];for(let g=0;g<=i;g++){const A=[],M=g/i;let E=0;g===0&&o===0?E=.5/t:g===i&&l===Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const R=C/t;d.x=-e*Math.cos(r+R*s)*Math.sin(o+M*a),d.y=e*Math.cos(o+M*a),d.z=e*Math.sin(r+R*s)*Math.sin(o+M*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),_.push(R+E,1-M),A.push(c++)}h.push(A)}for(let g=0;g<i;g++)for(let A=0;A<t;A++){const M=h[g][A+1],E=h[g][A],C=h[g+1][A],R=h[g+1][A+1];(g!==0||o>0)&&m.push(M,E,R),(g!==i-1||l<Math.PI)&&m.push(E,C,R)}this.setIndex(m),this.setAttribute("position",new Je(v,3)),this.setAttribute("normal",new Je(x,3)),this.setAttribute("uv",new Je(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ld extends co{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ld(e.radius,e.detail)}}class cd extends ut{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],h=new F,d=new F,p=new F;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const x=v/r*s,_=m/i*Math.PI*2;d.x=(e+t*Math.cos(_))*Math.cos(x),d.y=(e+t*Math.cos(_))*Math.sin(x),d.z=t*Math.sin(_),a.push(d.x,d.y,d.z),h.x=e*Math.cos(x),h.y=e*Math.sin(x),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const x=(r+1)*m+v-1,_=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,A=(r+1)*m+v;o.push(x,_,A),o.push(_,g,A)}this.setIndex(o),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ud extends ut{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],h=[],d=new F,p=new F,m=new F,v=new F,x=new F,_=new F,g=new F;for(let M=0;M<=i;++M){const E=M/i*s*Math.PI*2;A(E,s,o,e,m),A(E+.01,s,o,e,v),_.subVectors(v,m),g.addVectors(v,m),x.crossVectors(_,g),g.crossVectors(x,_),x.normalize(),g.normalize();for(let C=0;C<=r;++C){const R=C/r*Math.PI*2,B=-t*Math.cos(R),P=t*Math.sin(R);d.x=m.x+(B*g.x+P*x.x),d.y=m.y+(B*g.y+P*x.y),d.z=m.z+(B*g.z+P*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),h.push(M/i),h.push(C/r)}}for(let M=1;M<=i;M++)for(let E=1;E<=r;E++){const C=(r+1)*(M-1)+(E-1),R=(r+1)*M+(E-1),B=(r+1)*M+E,P=(r+1)*(M-1)+E;a.push(C,R,P),a.push(R,B,P)}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(h,2));function A(M,E,C,R,B){const P=Math.cos(M),b=Math.sin(M),I=C/E*M,G=Math.cos(I);B.x=R*(2+G)*.5*P,B.y=R*(2+G)*b*.5,B.z=R*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ud(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class fd extends ut{constructor(e=new xS(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,c=new Ae;let h=new F;const d=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new Je(d,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function x(){for(let M=0;M<t;M++)_(M);_(s===!1?t:0),A(),g()}function _(M){h=e.getPointAt(M/t,h);const E=o.normals[M],C=o.binormals[M];for(let R=0;R<=r;R++){const B=R/r*Math.PI*2,P=Math.sin(B),b=-Math.cos(B);l.x=b*E.x+P*C.x,l.y=b*E.y+P*C.y,l.z=b*E.z+P*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let M=1;M<=t;M++)for(let E=1;E<=r;E++){const C=(r+1)*(M-1)+(E-1),R=(r+1)*M+(E-1),B=(r+1)*M+E,P=(r+1)*(M-1)+E;v.push(C,R,P),v.push(R,B,P)}}function A(){for(let M=0;M<=t;M++)for(let E=0;E<=r;E++)c.x=M/t,c.y=E/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new fd(new _S[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class OL extends ut{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const d=l[c],p=d.start,m=d.count;for(let v=p,x=p+m;v<x;v+=3)for(let _=0;_<3;_++){const g=a.getX(v+_),A=a.getX(v+(_+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,A),yT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const h=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),yT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Je(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function yT(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var vT=Object.freeze({__proto__:null,BoxGeometry:pa,CapsuleGeometry:ed,CircleGeometry:td,ConeGeometry:nd,CylinderGeometry:Cl,DodecahedronGeometry:id,EdgesGeometry:LL,ExtrudeGeometry:rd,IcosahedronGeometry:sd,LatheGeometry:bu,OctahedronGeometry:Ru,PlaneGeometry:Cu,PolyhedronGeometry:co,RingGeometry:od,ShapeGeometry:ad,SphereGeometry:Pu,TetrahedronGeometry:ld,TorusGeometry:cd,TorusKnotGeometry:ud,TubeGeometry:fd,WireframeGeometry:OL});class UL extends bn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kL extends Es{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class hd extends bn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=da,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uo extends hd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return gn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class zL extends bn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fe(16777215),this.specular=new Fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=da,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GL extends bn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=da,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class HL extends bn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=da,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class VL extends bn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=da,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WL extends bn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=da,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jL extends ui{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xr(n,e,t){return MS(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function tl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function MS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function JL(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function f_(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function SS(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function u5(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){d.push(c.times[m]);for(let x=0;x<h;++x)p.push(c.values[m*h+x])}}d.length!==0&&(c.times=tl(d,c.times.constructor),c.values=tl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function f5(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=h,A=d-h;x=xr(a.values,g,A)}else if(s>=a.times[v]){const g=v*d+h,A=g+d-h;x=xr(a.values,g,A)}else{const g=a.createInterpolant(),A=h,M=d-h;g.evaluate(s),x=xr(g.resultBuffer,A,M)}l==="quaternion"&&new Wn().fromArray(x).normalize().conjugate().toArray(x);const _=c.times.length;for(let g=0;g<_;++g){const A=g*m+p;if(l==="quaternion")Wn.multiplyQuaternionsFlat(c.values,A,x,0,c.values,A);else{const M=m-p*2;for(let E=0;E<M;++E)c.values[A+E]-=x[E]}}}return n.blendMode=KM,n}const h5={arraySlice:xr,convertArray:tl,isTypedArray:MS,getKeyframeOrder:JL,sortedArray:f_,flattenJSON:SS,subclip:u5,makeClipAdditive:f5};class Bu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class XL extends Bu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Za,endingEnd:Za}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case $a:s=e,a=2*t-i;break;case wh:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case $a:o=e,l=2*i-t;break;case wh:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),x=v*v,_=x*v,g=-p*_+2*p*x-p*v,A=(1+p)*_+(-1.5-2*p)*x+(-.5+p)*v+1,M=(-1-m)*_+(1.5+m)*x+.5*v,E=m*_-m*x;for(let C=0;C!==a;++C)s[C]=g*o[h+C]+A*o[c+C]+M*o[l+C]+E*o[d+C];return s}}class ES extends Bu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*h;return s}}class KL extends Bu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ns{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tl(t,this.TimeBufferType),this.values=tl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:tl(e.times,Array),values:tl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new KL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ES(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new XL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case uu:t=this.InterpolantFactoryMethodDiscrete;break;case yl:t=this.InterpolantFactoryMethodLinear;break;case Qm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return uu;case this.InterpolantFactoryMethodLinear:return yl;case this.InterpolantFactoryMethodSmooth:return Qm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=xr(i,s,o),this.values=xr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&MS(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=xr(this.times),t=xr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Qm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],h=e[a+1];if(c!==h&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const x=t[d+v];if(x!==t[p+v]||x!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=xr(e,0,o),this.values=xr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=xr(this.times,0),t=xr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ns.prototype.TimeBufferType=Float32Array;ns.prototype.ValueBufferType=Float32Array;ns.prototype.DefaultInterpolation=yl;class Tl extends ns{}Tl.prototype.ValueTypeName="bool";Tl.prototype.ValueBufferType=Array;Tl.prototype.DefaultInterpolation=uu;Tl.prototype.InterpolantFactoryMethodLinear=void 0;Tl.prototype.InterpolantFactoryMethodSmooth=void 0;class wS extends ns{}wS.prototype.ValueTypeName="color";class pu extends ns{}pu.prototype.ValueTypeName="number";class YL extends Bu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let h=c+a;c!==h;c+=4)Wn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class aa extends ns{InterpolantFactoryMethodLinear(e){return new YL(this.times,this.values,this.getValueSize(),e)}}aa.prototype.ValueTypeName="quaternion";aa.prototype.DefaultInterpolation=yl;aa.prototype.InterpolantFactoryMethodSmooth=void 0;class bl extends ns{}bl.prototype.ValueTypeName="string";bl.prototype.ValueBufferType=Array;bl.prototype.DefaultInterpolation=uu;bl.prototype.InterpolantFactoryMethodLinear=void 0;bl.prototype.InterpolantFactoryMethodSmooth=void 0;class mu extends ns{}mu.prototype.ValueTypeName="vector";class gu{constructor(e,t=-1,i,r=fy){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Zi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(p5(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ns.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const h=JL(l);l=f_(l,1,h),c=f_(c,1,h),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new pu(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,v,x){if(m.length!==0){const _=[],g=[];SS(m,_,g,v),_.length!==0&&x.push(new d(p,_,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const _=[],g=[];for(let A=0;A!==p[v].morphTargets.length;++A){const M=p[v];_.push(M.time),g.push(M.morphTarget===x?1:0)}r.push(new pu(".morphTargetInfluence["+x+"]",_,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(mu,m+".position",p,"pos",r),i(aa,m+".quaternion",p,"rot",r),i(mu,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function d5(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return pu;case"vector":case"vector2":case"vector3":case"vector4":return mu;case"color":return wS;case"quaternion":return aa;case"bool":case"boolean":return Tl;case"string":return bl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function p5(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=d5(n.type);if(n.times===void 0){const t=[],i=[];SS(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const xl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class CS{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const Fc=new CS;let Mi=class{constructor(e){this.manager=e!==void 0?e:Fc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const zs={};class m5 extends Error{constructor(e,t){super(e),this.response=t}}class tr extends Mi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=xl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(zs[e]!==void 0){zs[e].push({onLoad:t,onProgress:i,onError:r});return}zs[e]=[],zs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=zs[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let x=0;const _=new ReadableStream({start(g){A();function A(){d.read().then(({done:M,value:E})=>{if(M)g.close();else{x+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let R=0,B=h.length;R<B;R++){const P=h[R];P.onProgress&&P.onProgress(C)}g.enqueue(E),A()}})}}});return new Response(_)}else throw new m5(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{xl.add(e,c);const h=zs[e];delete zs[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=zs[e];if(h===void 0)throw this.manager.itemError(e),c;delete zs[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class g5 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new tr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=gu.parse(e[i]);t.push(r)}return t}}class y5 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new mS,l=new tr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=on),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=on),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Ih extends Mi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=xl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Th("img");function l(){h(),xl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class v5 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new qh,o=new Ih(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(h){s.images[c]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class x5 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Yc,a=new tr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Yn,o.wrapT=c.wrapT!==void 0?c.wrapT:Yn,o.magFilter=c.magFilter!==void 0?c.magFilter:on,o.minFilter=c.minFilter!==void 0?c.minFilter:on,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ss),c.mipmapCount===1&&(o.minFilter=on),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class dd extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new tn,o=new Ih(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ma extends Ct{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Fe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class QL extends ma{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ct.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const j0=new st,xT=new F,AT=new F;class TS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ae(512,512),this.map=null,this.mapPass=null,this.matrix=new st,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dy,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;xT.setFromMatrixPosition(e.matrixWorld),t.position.copy(xT),AT.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(AT),t.updateMatrixWorld(),j0.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(j0),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(j0)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class A5 extends TS{constructor(){super(new Wt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=fu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bS extends ma{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ct.DEFAULT_UP),this.updateMatrix(),this.target=new Ct,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new A5}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _T=new st,gf=new F,J0=new F;class _5 extends TS{constructor(){super(new Wt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new kt(2,1,1,1),new kt(0,1,1,1),new kt(3,1,1,1),new kt(1,1,1,1),new kt(3,0,1,1),new kt(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),gf.setFromMatrixPosition(e.matrixWorld),i.position.copy(gf),J0.copy(i.position),J0.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(J0),i.updateMatrixWorld(),r.makeTranslation(-gf.x,-gf.y,-gf.z),_T.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_T)}}class RS extends ma{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new _5}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class M5 extends TS{constructor(){super(new Xr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class PS extends ma{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ct.DEFAULT_UP),this.updateMatrix(),this.target=new Ct,this.shadow=new M5}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class qL extends ma{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ZL extends ma{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class $L{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class My extends ma{constructor(e=new $L,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Sy extends Mi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new tr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Sy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Fe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Fe().setHex(o.value);break;case"v2":r.uniforms[s].value=new Ae().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new kt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Et().fromArray(o.value);break;case"m4":r.uniforms[s].value=new st().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Ae().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ae().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:UL,SpriteMaterial:uS,RawShaderMaterial:kL,ShaderMaterial:Es,PointsMaterial:vy,MeshPhysicalMaterial:uo,MeshStandardMaterial:hd,MeshPhongMaterial:zL,MeshToonMaterial:GL,MeshNormalMaterial:HL,MeshLambertMaterial:VL,MeshDepthMaterial:aS,MeshDistanceMaterial:lS,MeshBasicMaterial:Ki,MeshMatcapMaterial:WL,LineDashedMaterial:jL,LineBasicMaterial:ui,Material:bn};return new t[e]}}class yu{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class e2 extends ut{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class t2 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new tr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const _=m.interleavedBuffers[v],g=s(m,_.buffer),A=Ic(_.type,g),M=new Zh(A,_.stride);return M.uuid=_.uuid,t[v]=M,M}function s(m,v){if(i[v]!==void 0)return i[v];const _=m.arrayBuffers[v],g=new Uint32Array(_).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new e2:new ut,a=e.data.index;if(a!==void 0){const m=Ic(a.type,a.array);o.setIndex(new Dt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const _=r(e.data,v.data);x=new oa(_,v.itemSize,v.offset,v.normalized)}else{const _=Ic(v.type,v.array),g=v.isInstancedBufferAttribute?du:Dt;x=new g(_,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),v.updateRange!==void 0&&(x.updateRange.offset=v.updateRange.offset,x.updateRange.count=v.updateRange.count),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let _=0,g=v.length;_<g;_++){const A=v[_];let M;if(A.isInterleavedBufferAttribute){const E=r(e.data,A.data);M=new oa(E,A.itemSize,A.offset,A.normalized)}else{const E=Ic(A.type,A.array);M=new Dt(E,A.itemSize,A.normalized)}A.name!==void 0&&(M.name=A.name),x.push(M)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const x=d[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new $r(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class S5 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?yu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new tr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?yu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new tr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new cl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new $h().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new t2;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in vT?a=vT[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Sy;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=gu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(h)}else return l.data?{data:Ic(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new CS(t);s=new Ih(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v],g=a(_);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Yc(g.data,g.width,g.height)))}r[d.uuid]=new el(m)}else{const m=a(d.url);r[d.uuid]=new el(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Ic(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Ih(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Yc(v.data,v.width,v.height)))}i[l.uuid]=new el(h)}else{const h=await s(l.url);i[l.uuid]=new el(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let h;Array.isArray(c)?(h=new qh,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new Yc:h=new tn,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,E5)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],MT),h.wrapT=i(a.wrap[1],MT)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,ST)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,ST)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new Bg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Fe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new gy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new my(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Wt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Xr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new qL(e.color,e.intensity);break;case"DirectionalLight":o=new PS(e.color,e.intensity);break;case"PointLight":o=new RS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ZL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new QL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new My().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new fS(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new Ln(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new hS(h,d,p),o.instanceMatrix=new du(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new du(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new TL;break;case"Line":o=new so(a(e.geometry),l(e.material));break;case"LineLoop":o=new dS(a(e.geometry),l(e.material));break;case"LineSegments":o=new es(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new pS(a(e.geometry),l(e.material));break;case"Sprite":o=new CL(l(e.material));break;case"Group":o=new Ks;break;case"Bone":o=new yy;break;default:o=new Ct}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const E5={UVMapping:cy,CubeReflectionMapping:ia,CubeRefractionMapping:ra,EquirectangularReflectionMapping:Mh,EquirectangularRefractionMapping:Sh,CubeUVReflectionMapping:wu},MT={RepeatWrapping:sa,ClampToEdgeWrapping:Yn,MirroredRepeatWrapping:lu},ST={NearestFilter:mn,NearestMipmapNearestFilter:Eh,NearestMipmapLinearFilter:Xc,LinearFilter:on,LinearMipmapNearestFilter:uy,LinearMipmapLinearFilter:Ss};class n2 extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=xl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){xl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let gm;class BS{static getContext(){return gm===void 0&&(gm=new(window.AudioContext||window.webkitAudioContext)),gm}static setContext(e){gm=e}}class w5 extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new tr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);BS.getContext().decodeAudioData(c,function(d){t(d)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class C5 extends My{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Fe().set(e),s=new Fe().set(t),o=new F(r.r,r.g,r.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class T5 extends My{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Fe().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const ET=new st,wT=new st,Ba=new st;class b5{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ba.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(al*t.fov*.5)/t.zoom;let a,l;wT.elements[12]=-r,ET.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Ba.elements[0]=2*t.near/(l-a),Ba.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ba),a=-o*t.aspect-s,l=o*t.aspect-s,Ba.elements[0]=2*t.near/(l-a),Ba.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ba)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(wT),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ET)}}class IS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=CT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=CT();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function CT(){return(typeof performance>"u"?Date:performance).now()}const Ia=new F,TT=new Wn,R5=new F,La=new F;class P5 extends Ct{constructor(){super(),this.type="AudioListener",this.context=BS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new IS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ia,TT,R5),La.set(0,0,-1).applyQuaternion(TT),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ia.x,r),t.positionY.linearRampToValueAtTime(Ia.y,r),t.positionZ.linearRampToValueAtTime(Ia.z,r),t.forwardX.linearRampToValueAtTime(La.x,r),t.forwardY.linearRampToValueAtTime(La.y,r),t.forwardZ.linearRampToValueAtTime(La.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Ia.x,Ia.y,Ia.z),t.setOrientation(La.x,La.y,La.z,i.x,i.y,i.z)}}class i2 extends Ct{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Da=new F,bT=new Wn,B5=new F,Fa=new F;class I5 extends i2{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Da,bT,B5),Fa.set(0,0,1).applyQuaternion(bT);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Da.x,i),t.positionY.linearRampToValueAtTime(Da.y,i),t.positionZ.linearRampToValueAtTime(Da.z,i),t.orientationX.linearRampToValueAtTime(Fa.x,i),t.orientationY.linearRampToValueAtTime(Fa.y,i),t.orientationZ.linearRampToValueAtTime(Fa.z,i)}else t.setPosition(Da.x,Da.y,Da.z),t.setOrientation(Fa.x,Fa.y,Fa.z)}}class L5{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class r2{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Wn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Wn.multiplyQuaternionsFlat(e,o,e,t,e,i),Wn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const LS="\\[\\]\\.:\\/",D5=new RegExp("["+LS+"]","g"),DS="[^"+LS+"]",F5="[^"+LS.replace("\\.","")+"]",N5=/((?:WC+[\/:])*)/.source.replace("WC",DS),O5=/(WCOD+)?/.source.replace("WCOD",F5),U5=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",DS),k5=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",DS),z5=new RegExp("^"+N5+O5+U5+k5+"$"),G5=["material","materials","bones","map"];class H5{constructor(e,t,i){const r=i||Tt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Tt{constructor(e,t,i){this.path=t,this.parsedPath=i||Tt.parseTrackName(t),this.node=Tt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Tt.Composite(e,t,i):new Tt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(D5,"")}static parseTrackName(e){const t=z5.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);G5.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Tt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tt.Composite=H5;Tt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tt.prototype.GetterByBindingType=[Tt.prototype._getValue_direct,Tt.prototype._getValue_array,Tt.prototype._getValue_arrayElement,Tt.prototype._getValue_toArray];Tt.prototype.SetterByBindingTypeAndVersioning=[[Tt.prototype._setValue_direct,Tt.prototype._setValue_direct_setNeedsUpdate,Tt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_array,Tt.prototype._setValue_array_setNeedsUpdate,Tt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_arrayElement,Tt.prototype._setValue_arrayElement_setNeedsUpdate,Tt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_fromArray,Tt.prototype._setValue_fromArray_setNeedsUpdate,Tt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class V5{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Zi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let x=0,_=o;x!==_;++x)s[x].push(new Tt(p,i[x],r[x]))}else if(v<c){a=e[v];const x=--c,_=e[x];t[_.uuid]=v,e[v]=_,t[m]=x,e[x]=p;for(let g=0,A=o;g!==A;++g){const M=s[g],E=M[x];let C=M[v];M[v]=E,C===void 0&&(C=new Tt(p,i[g],r[g])),M[x]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,h=t[c];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[c]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const x=i[m],_=x[d],g=x[h];x[h]=_,x[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],h=c.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,m=e[p],v=--o,x=e[v];t[m.uuid]=d,e[d]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let _=0,g=r;_!==g;++_){const A=i[_],M=A[p],E=A[v];A[d]=M,A[p]=E,A.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,x=r;v!==x;++v){const _=i[v];_[d]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,m=l.length;p!==m;++p){const v=l[p];d[p]=new Tt(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class s2{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Za,endingEnd:Za};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=iL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case KM:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulateAdditive(a);break;case fy:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===rL;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===nL){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=$a,r.endingEnd=$a):(e?r.endingStart=this.zeroSlopeAtStart?$a:Za:r.endingStart=wh,t?r.endingEnd=this.zeroSlopeAtEnd?$a:Za:r.endingEnd=wh)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const W5=new Float32Array(1);class j5 extends Cs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;v=new r2(Tt.create(i,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new ES(new Float32Array(2),new Float32Array(2),1,W5),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?gu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=fy),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new s2(this,o,t,i);return this._bindAction(h,c),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?gu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class FS{constructor(e){this.value=e}clone(){return new FS(this.value.clone===void 0?this.value:this.value.clone())}}let J5=0;class X5 extends Cs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:J5++}),this.name="",this.usage=Ch,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class K5 extends Zh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Y5{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class o2{constructor(e,t,i=0,r=1/0){this.ray=new Yh(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ll,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return h_(e,this,i,t),i.sort(RT),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)h_(e[r],this,i,t);return i.sort(RT),i}}function RT(n,e){return n.distance-e.distance}function h_(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)h_(r[s],e,t,!0)}}class d_{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(gn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Q5{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const PT=new Ae;class q5{constructor(e=new Ae(1/0,1/0),t=new Ae(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=PT.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,PT).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const BT=new F,ym=new F;class Z5{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){BT.subVectors(e,this.start),ym.subVectors(this.end,this.start);const i=ym.dot(ym);let s=ym.dot(BT)/i;return t&&(s=gn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const IT=new F;class $5 extends Ct{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ut,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Je(r,3));const s=new ui({fog:!1,toneMapped:!1});this.cone=new es(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),IT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(IT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const To=new F,vm=new st,X0=new st;class e9 extends es{constructor(e){const t=a2(e),i=new ut,r=[],s=[],o=new Fe(0,0,1),a=new Fe(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Je(r,3)),i.setAttribute("color",new Je(s,3));const l=new ui({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");X0.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(vm.multiplyMatrices(X0,a.matrixWorld),To.setFromMatrixPosition(vm),r.setXYZ(o,To.x,To.y,To.z),vm.multiplyMatrices(X0,a.parent.matrixWorld),To.setFromMatrixPosition(vm),r.setXYZ(o+1,To.x,To.y,To.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function a2(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,a2(n.children[t]));return e}class t9 extends Ln{constructor(e,t,i){const r=new Pu(t,4,2),s=new Ki({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const n9=new F,LT=new Fe,DT=new Fe;class i9 extends Ct{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ru(t);r.rotateY(Math.PI*.5),this.material=new Ki({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Dt(o,3)),this.add(new Ln(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");LT.copy(this.light.color),DT.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?LT:DT;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(n9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class r9 extends es{constructor(e=10,t=10,i=4473924,r=8947848){i=new Fe(i),r=new Fe(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?i:r;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const h=new ut;h.setAttribute("position",new Je(l,3)),h.setAttribute("color",new Je(c,3));const d=new ui({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class s9 extends es{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Fe(s),o=new Fe(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let x=v/r*(Math.PI*2),_=Math.sin(x)*m,g=Math.cos(x)*m;a.push(_,0,g),l.push(p.r,p.g,p.b),x=(v+1)/r*(Math.PI*2),_=Math.sin(x)*m,g=Math.cos(x)*m,a.push(_,0,g),l.push(p.r,p.g,p.b)}}const c=new ut;c.setAttribute("position",new Je(a,3)),c.setAttribute("color",new Je(l,3));const h=new ui({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const FT=new F,xm=new F,NT=new F;class o9 extends Ct{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ut;r.setAttribute("position",new Je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ui({fog:!1,toneMapped:!1});this.lightPlane=new so(r,s),this.add(this.lightPlane),r=new ut,r.setAttribute("position",new Je([0,0,0,0,0,1],3)),this.targetLine=new so(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),FT.setFromMatrixPosition(this.light.matrixWorld),xm.setFromMatrixPosition(this.light.target.matrixWorld),NT.subVectors(xm,FT),this.lightPlane.lookAt(xm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xm),this.targetLine.scale.z=NT.length()}}const Am=new F,dn=new Qh;class a9 extends es{constructor(e){const t=new ut,i=new ui({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Je(r,3)),t.setAttribute("color",new Je(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Fe(16755200),h=new Fe(16711680),d=new Fe(43775),p=new Fe(16777215),m=new Fe(3355443);this.setColors(c,h,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;dn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xn("c",t,e,dn,0,0,-1),xn("t",t,e,dn,0,0,1),xn("n1",t,e,dn,-i,-r,-1),xn("n2",t,e,dn,i,-r,-1),xn("n3",t,e,dn,-i,r,-1),xn("n4",t,e,dn,i,r,-1),xn("f1",t,e,dn,-i,-r,1),xn("f2",t,e,dn,i,-r,1),xn("f3",t,e,dn,-i,r,1),xn("f4",t,e,dn,i,r,1),xn("u1",t,e,dn,i*.7,r*1.1,-1),xn("u2",t,e,dn,-i*.7,r*1.1,-1),xn("u3",t,e,dn,0,r*2,-1),xn("cf1",t,e,dn,-i,0,1),xn("cf2",t,e,dn,i,0,1),xn("cf3",t,e,dn,0,-r,1),xn("cf4",t,e,dn,0,r,1),xn("cn1",t,e,dn,-i,0,-1),xn("cn2",t,e,dn,i,0,-1),xn("cn3",t,e,dn,0,-r,-1),xn("cn4",t,e,dn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function xn(n,e,t,i,r,s,o){Am.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,h=a.length;c<h;c++)l.setXYZ(a[c],Am.x,Am.y,Am.z)}}const _m=new Zr;class l9 extends es{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ut;s.setIndex(new Dt(i,1)),s.setAttribute("position",new Dt(r,3)),super(s,new ui({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_m.setFromObject(this.object),_m.isEmpty())return;const t=_m.min,i=_m.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class c9 extends es{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ut;s.setIndex(new Dt(i,1)),s.setAttribute("position",new Je(r,3)),super(s,new ui({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class u9 extends so{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ut;o.setAttribute("position",new Je(s,3)),o.computeBoundingSphere(),super(o,new ui({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ut;l.setAttribute("position",new Je(a,3)),l.computeBoundingSphere(),this.add(new Ln(l,new Ki({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const OT=new F;let Mm,K0;class f9 extends Ct{constructor(e=new F(0,0,1),t=new F(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Mm===void 0&&(Mm=new ut,Mm.setAttribute("position",new Je([0,0,0,0,1,0],3)),K0=new Cl(0,.5,1,5,1),K0.translate(0,-.5,0)),this.position.copy(t),this.line=new so(Mm,new ui({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ln(K0,new Ki({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{OT.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(OT,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class h9 extends es{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ut;r.setAttribute("position",new Je(t,3)),r.setAttribute("color",new Je(i,3));const s=new ui({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Fe,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class d9{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new bh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const A=[];for(let M=0,E=g.length;M<E;M++){const C=g[M],R=new cl;R.curves=C.curves,A.push(R)}return A}function i(g,A){const M=A.length;let E=!1;for(let C=M-1,R=0;R<M;C=R++){let B=A[C],P=A[R],b=P.x-B.x,I=P.y-B.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(B=A[R],b=-b,P=A[C],I=-I),g.y<B.y||g.y>P.y)continue;if(g.y===B.y){if(g.x===B.x)return!0}else{const G=I*(g.x-B.x)-b*(g.y-B.y);if(G===0)return!0;if(G<0)continue;E=!E}}else{if(g.y!==B.y)continue;if(P.x<=g.x&&g.x<=B.x||B.x<=g.x&&g.x<=P.x)return!0}}return E}const r=vs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new cl,l.curves=a.curves,c.push(l),c;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,A=s.length;g<A;g++)a=s[g],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new cl,p:x},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,A=0;for(let M=0,E=p.length;M<E;M++)d[M]=[];for(let M=0,E=p.length;M<E;M++){const C=m[M];for(let R=0;R<C.length;R++){const B=C[R];let P=!0;for(let b=0;b<p.length;b++)i(B.p,p[b].p)&&(M!==b&&A++,P?(P=!1,d[b].push(B)):g=!0);P&&d[M].push(B)}}A>0&&g===!1&&(m=d)}let _;for(let g=0,A=p.length;g<A;g++){l=p[g].s,c.push(l),_=m[g];for(let M=0,E=_.length;M<E;M++)l.holes.push(_[M].h)}return c}}class p9 extends pa{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class m9 extends ed{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class g9 extends td{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class y9 extends nd{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class v9 extends Cl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class x9 extends id{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class A9 extends rd{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class _9 extends sd{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class M9 extends bu{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class S9 extends Ru{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class E9 extends Cu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class w9 extends co{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class C9 extends od{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class T9 extends ad{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class b9 extends Pu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class R9 extends ld{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class P9 extends cd{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class B9 extends ud{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class I9 extends fd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xh}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xh);const L9=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:JM,AddEquation:Ja,AddOperation:NI,AdditiveAnimationBlendMode:KM,AdditiveBlending:PA,AlphaFormat:JI,AlwaysDepth:RI,AlwaysStencilFunc:cL,AmbientLight:qL,AmbientLightProbe:T5,AnimationAction:s2,AnimationClip:gu,AnimationLoader:g5,AnimationMixer:j5,AnimationObjectGroup:V5,AnimationUtils:h5,ArcCurve:bL,ArrayCamera:ML,ArrowHelper:f9,Audio:i2,AudioAnalyser:L5,AudioContext:BS,AudioListener:P5,AudioLoader:w5,AxesHelper:h9,BackSide:xi,BasicDepthPacking:oL,BasicShadowMap:mI,Bone:yy,BooleanKeyframeTrack:Tl,Box2:q5,Box3:Zr,Box3Helper:c9,BoxBufferGeometry:p9,BoxGeometry:pa,BoxHelper:l9,BufferAttribute:Dt,BufferGeometry:ut,BufferGeometryLoader:t2,ByteType:GI,Cache:xl,Camera:Qh,CameraHelper:a9,CanvasTexture:N4,CapsuleBufferGeometry:m9,CapsuleGeometry:ed,CatmullRomCurve3:RL,CineonToneMapping:kI,CircleBufferGeometry:g9,CircleGeometry:td,ClampToEdgeWrapping:Yn,Clock:IS,Color:Fe,ColorKeyframeTrack:wS,ColorManagement:yr,CompressedArrayTexture:F4,CompressedTexture:mS,CompressedTextureLoader:y5,ConeBufferGeometry:y9,ConeGeometry:nd,CubeCamera:rS,CubeReflectionMapping:ia,CubeRefractionMapping:ra,CubeTexture:qh,CubeTextureLoader:v5,CubeUVReflectionMapping:wu,CubicBezierCurve:yS,CubicBezierCurve3:PL,CubicInterpolant:XL,CullFaceBack:RA,CullFaceFront:pI,CullFaceFrontBack:O3,CullFaceNone:dI,Curve:ts,CurvePath:IL,CustomBlending:gI,CustomToneMapping:zI,CylinderBufferGeometry:v9,CylinderGeometry:Cl,Cylindrical:Q5,Data3DTexture:tS,DataArrayTexture:hy,DataTexture:Yc,DataTextureLoader:x5,DataUtils:jk,DecrementStencilOp:J3,DecrementWrapStencilOp:K3,DefaultLoadingManager:Fc,DepthFormat:Qo,DepthStencilFormat:gl,DepthTexture:SL,DirectionalLight:PS,DirectionalLightHelper:o9,DiscreteInterpolant:KL,DisplayP3ColorSpace:qM,DodecahedronBufferGeometry:x9,DodecahedronGeometry:id,DoubleSide:Mr,DstAlphaFactor:SI,DstColorFactor:wI,DynamicCopyUsage:ck,DynamicDrawUsage:ik,DynamicReadUsage:ok,EdgesGeometry:LL,EllipseCurve:xy,EqualDepth:BI,EqualStencilFunc:Z3,EquirectangularReflectionMapping:Mh,EquirectangularRefractionMapping:Sh,Euler:wl,EventDispatcher:Cs,ExtrudeBufferGeometry:A9,ExtrudeGeometry:rd,FileLoader:tr,Float16BufferAttribute:qk,Float32BufferAttribute:Je,Float64BufferAttribute:Zk,FloatType:Xs,Fog:gy,FogExp2:my,FramebufferTexture:D4,FrontSide:Ms,Frustum:dy,GLBufferAttribute:Y5,GLSL1:fk,GLSL3:r_,GreaterDepth:LI,GreaterEqualDepth:II,GreaterEqualStencilFunc:nk,GreaterStencilFunc:ek,GridHelper:r9,Group:Ks,HalfFloatType:cu,HemisphereLight:QL,HemisphereLightHelper:i9,HemisphereLightProbe:C5,IcosahedronBufferGeometry:_9,IcosahedronGeometry:sd,ImageBitmapLoader:n2,ImageLoader:Ih,ImageUtils:eS,IncrementStencilOp:j3,IncrementWrapStencilOp:X3,InstancedBufferAttribute:du,InstancedBufferGeometry:e2,InstancedInterleavedBuffer:K5,InstancedMesh:hS,Int16BufferAttribute:Yk,Int32BufferAttribute:Qk,Int8BufferAttribute:Jk,IntType:VI,InterleavedBuffer:Zh,InterleavedBufferAttribute:oa,Interpolant:Bu,InterpolateDiscrete:uu,InterpolateLinear:yl,InterpolateSmooth:Qm,InvertStencilOp:Y3,KeepStencilOp:qm,KeyframeTrack:ns,LOD:TL,LatheBufferGeometry:M9,LatheGeometry:bu,Layers:ll,LessDepth:PI,LessEqualDepth:bg,LessEqualStencilFunc:$3,LessStencilFunc:q3,Light:ma,LightProbe:My,Line:so,Line3:Z5,LineBasicMaterial:ui,LineCurve:Ay,LineCurve3:BL,LineDashedMaterial:jL,LineLoop:dS,LineSegments:es,LinearEncoding:QM,LinearFilter:on,LinearInterpolant:ES,LinearMipMapLinearFilter:H3,LinearMipMapNearestFilter:G3,LinearMipmapLinearFilter:Ss,LinearMipmapNearestFilter:uy,LinearSRGBColorSpace:Qr,LinearToneMapping:OI,Loader:Mi,LoaderUtils:yu,LoadingManager:CS,LoopOnce:nL,LoopPingPong:rL,LoopRepeat:iL,LuminanceAlphaFormat:KI,LuminanceFormat:XI,MOUSE:ka,Material:bn,MaterialLoader:Sy,MathUtils:$M,Matrix3:Et,Matrix4:st,MaxEquation:DA,Mesh:Ln,MeshBasicMaterial:Ki,MeshDepthMaterial:aS,MeshDistanceMaterial:lS,MeshLambertMaterial:VL,MeshMatcapMaterial:WL,MeshNormalMaterial:HL,MeshPhongMaterial:zL,MeshPhysicalMaterial:uo,MeshStandardMaterial:hd,MeshToonMaterial:GL,MinEquation:LA,MirroredRepeatWrapping:lu,MixOperation:FI,MultiplyBlending:IA,MultiplyOperation:Kh,NearestFilter:mn,NearestMipMapLinearFilter:z3,NearestMipMapNearestFilter:k3,NearestMipmapLinearFilter:Xc,NearestMipmapNearestFilter:Eh,NeverDepth:bI,NeverStencilFunc:Q3,NoBlending:qs,NoColorSpace:qo,NoToneMapping:Jr,NormalAnimationBlendMode:fy,NormalBlending:sl,NotEqualDepth:DI,NotEqualStencilFunc:tk,NumberKeyframeTrack:pu,Object3D:Ct,ObjectLoader:S5,ObjectSpaceNormalMap:lL,OctahedronBufferGeometry:S9,OctahedronGeometry:Ru,OneFactor:AI,OneMinusDstAlphaFactor:EI,OneMinusDstColorFactor:CI,OneMinusSrcAlphaFactor:jM,OneMinusSrcColorFactor:MI,OrthographicCamera:Xr,PCFShadowMap:ly,PCFSoftShadowMap:Jf,PMREMGenerator:o_,Path:bh,PerspectiveCamera:Wt,Plane:Do,PlaneBufferGeometry:E9,PlaneGeometry:Cu,PlaneHelper:u9,PointLight:RS,PointLightHelper:t9,Points:pS,PointsMaterial:vy,PolarGridHelper:s9,PolyhedronBufferGeometry:w9,PolyhedronGeometry:co,PositionalAudio:I5,PropertyBinding:Tt,PropertyMixer:r2,QuadraticBezierCurve:vS,QuadraticBezierCurve3:xS,Quaternion:Wn,QuaternionKeyframeTrack:aa,QuaternionLinearInterpolant:YL,RED_GREEN_RGTC2_Format:n_,RED_RGTC1_Format:tL,REVISION:Xh,RGBADepthPacking:aL,RGBAFormat:Pi,RGBAIntegerFormat:$I,RGBA_ASTC_10x10_Format:ZA,RGBA_ASTC_10x5_Format:YA,RGBA_ASTC_10x6_Format:QA,RGBA_ASTC_10x8_Format:qA,RGBA_ASTC_12x10_Format:$A,RGBA_ASTC_12x12_Format:e_,RGBA_ASTC_4x4_Format:GA,RGBA_ASTC_5x4_Format:HA,RGBA_ASTC_5x5_Format:VA,RGBA_ASTC_6x5_Format:WA,RGBA_ASTC_6x6_Format:jA,RGBA_ASTC_8x5_Format:JA,RGBA_ASTC_8x6_Format:XA,RGBA_ASTC_8x8_Format:KA,RGBA_BPTC_Format:Ym,RGBA_ETC2_EAC_Format:zA,RGBA_PVRTC_2BPPV1_Format:UA,RGBA_PVRTC_4BPPV1_Format:OA,RGBA_S3TC_DXT1_Format:Jm,RGBA_S3TC_DXT3_Format:Xm,RGBA_S3TC_DXT5_Format:Km,RGB_ETC1_Format:eL,RGB_ETC2_Format:kA,RGB_PVRTC_2BPPV1_Format:NA,RGB_PVRTC_4BPPV1_Format:FA,RGB_S3TC_DXT1_Format:jm,RGFormat:qI,RGIntegerFormat:ZI,RawShaderMaterial:kL,Ray:Yh,Raycaster:o2,RectAreaLight:ZL,RedFormat:YI,RedIntegerFormat:QI,ReinhardToneMapping:UI,RepeatWrapping:sa,ReplaceStencilOp:W3,ReverseSubtractEquation:vI,RingBufferGeometry:C9,RingGeometry:od,SIGNED_RED_GREEN_RGTC2_Format:i_,SIGNED_RED_RGTC1_Format:t_,SRGBColorSpace:pt,Scene:Bg,ShaderChunk:yt,ShaderLib:Hr,ShaderMaterial:Es,ShadowMaterial:UL,Shape:cl,ShapeBufferGeometry:T9,ShapeGeometry:ad,ShapePath:d9,ShapeUtils:vs,ShortType:HI,Skeleton:$h,SkeletonHelper:e9,SkinnedMesh:fS,Source:el,Sphere:$r,SphereBufferGeometry:b9,SphereGeometry:Pu,Spherical:d_,SphericalHarmonics3:$L,SplineCurve:AS,SpotLight:bS,SpotLightHelper:$5,Sprite:CL,SpriteMaterial:uS,SrcAlphaFactor:WM,SrcAlphaSaturateFactor:TI,SrcColorFactor:_I,StaticCopyUsage:lk,StaticDrawUsage:Ch,StaticReadUsage:sk,StereoCamera:b5,StreamCopyUsage:uk,StreamDrawUsage:rk,StreamReadUsage:ak,StringKeyframeTrack:bl,SubtractEquation:yI,SubtractiveBlending:BA,TOUCH:za,TangentSpaceNormalMap:da,TetrahedronBufferGeometry:R9,TetrahedronGeometry:ld,Texture:tn,TextureLoader:dd,TorusBufferGeometry:P9,TorusGeometry:cd,TorusKnotBufferGeometry:B9,TorusKnotGeometry:ud,Triangle:Ri,TriangleFanDrawMode:Rg,TriangleStripDrawMode:YM,TrianglesDrawMode:sL,TubeBufferGeometry:I9,TubeGeometry:fd,TwoPassDoubleSide:U3,UVMapping:cy,Uint16BufferAttribute:nS,Uint32BufferAttribute:iS,Uint8BufferAttribute:Xk,Uint8ClampedBufferAttribute:Kk,Uniform:FS,UniformsGroup:X5,UniformsLib:De,UniformsUtils:mL,UnsignedByteType:ro,UnsignedInt248Type:ol,UnsignedIntType:Go,UnsignedShort4444Type:WI,UnsignedShort5551Type:jI,UnsignedShortType:XM,VSMShadowMap:kr,Vector2:Ae,Vector3:F,Vector4:kt,VectorKeyframeTrack:mu,VideoTexture:L4,WebGL1Renderer:EL,WebGL3DRenderTarget:Dk,WebGLArrayRenderTarget:Lk,WebGLCubeRenderTarget:sS,WebGLMultipleRenderTargets:Fk,WebGLRenderTarget:qr,WebGLRenderer:cS,WebGLUtils:_L,WireframeGeometry:OL,WrapAroundEnding:wh,ZeroCurvatureEnding:Za,ZeroFactor:xI,ZeroSlopeEnding:$a,ZeroStencilOp:V3,_SRGBAFormat:Pg,sRGBEncoding:qi},Symbol.toStringTag,{value:"Module"}));var l2={exports:{}},Rl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Rl.ConcurrentRoot=1;Rl.ContinuousEventPriority=4;Rl.DefaultEventPriority=16;Rl.DiscreteEventPriority=1;Rl.IdleEventPriority=536870912;Rl.LegacyRoot=0;l2.exports=Rl;var Nc=l2.exports;function D9(n){let e;const t=new Set,i=(c,h)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const v=h(e);if(!d(p,v)){const x=p;c(p=v,x)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,h,d)=>h||d?s(c,h,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const F9=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),UT=F9?N.useEffect:N.useLayoutEffect;function c2(n){const e=typeof n=="function"?D9(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=N.useReducer(_=>_+1,0),o=e.getState(),a=N.useRef(o),l=N.useRef(i),c=N.useRef(r),h=N.useRef(!1),d=N.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),UT(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,h.current=!1});const v=N.useRef(o);UT(()=>{const _=()=>{try{const A=e.getState(),M=l.current(A);c.current(d.current,M)||(a.current=A,d.current=M,s())}catch{h.current=!0,s()}},g=e.subscribe(_);return e.getState()!==v.current&&_(),g},[]);const x=m?p:d.current;return N.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var u2={exports:{}},Y0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function N9(){return kT||(kT=1,function(n){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var ee=H-1>>>1,Z=L[ee];if(0<r(Z,V))L[ee]=V,L[H]=Z,H=ee;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var ee=0,Z=L.length,ne=Z>>>1;ee<ne;){var ie=2*(ee+1)-1,Ee=L[ie],pe=ie+1,j=L[pe];if(0>r(Ee,H))pe<Z&&0>r(j,Ee)?(L[ee]=j,L[pe]=H,ee=pe):(L[ee]=Ee,L[ie]=H,ee=ie);else if(pe<Z&&0>r(j,H))L[ee]=j,L[pe]=H,ee=pe;else break e}}return V}function r(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(L){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=L)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function E(L){if(x=!1,M(L),!v)if(t(l)!==null)v=!0,oe(C);else{var V=t(c);V!==null&&te(E,V.startTime-L)}}function C(L,V){v=!1,x&&(x=!1,g(P),P=-1),m=!0;var H=p;try{for(M(V),d=t(l);d!==null&&(!(d.expirationTime>V)||L&&!G());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var Z=ee(d.expirationTime<=V);V=n.unstable_now(),typeof Z=="function"?d.callback=Z:d===t(l)&&i(l),M(V)}else i(l);d=t(l)}if(d!==null)var ne=!0;else{var ie=t(c);ie!==null&&te(E,ie.startTime-V),ne=!1}return ne}finally{d=null,p=H,m=!1}}var R=!1,B=null,P=-1,b=5,I=-1;function G(){return!(n.unstable_now()-I<b)}function J(){if(B!==null){var L=n.unstable_now();I=L;var V=!0;try{V=B(!0,L)}finally{V?W():(R=!1,B=null)}}else R=!1}var W;if(typeof A=="function")W=function(){A(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=J,W=function(){X.postMessage(null)}}else W=function(){_(J,0)};function oe(L){B=L,R||(R=!0,W())}function te(L,V){P=_(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,oe(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return V()}finally{p=H}},n.unstable_scheduleCallback=function(L,V,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,L={id:h++,callback:V,priorityLevel:L,startTime:H,expirationTime:Z,sortIndex:-1},H>ee?(L.sortIndex=H,e(c,L),t(l)===null&&L===t(c)&&(x?(g(P),P=-1):x=!0,te(E,H-ee))):(L.sortIndex=Z,e(l,L),v||m||(v=!0,oe(C))),L},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(L){var V=p;return function(){var H=p;p=V;try{return L.apply(this,arguments)}finally{p=H}}}}(Q0)),Q0}var zT;function O9(){return zT||(zT=1,Y0.exports=N9()),Y0.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U9=function(e){var t={},i=N,r=O9(),s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function R(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}function B(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case x:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return f=u.displayName||null,f!==null?f:B(u.type)||"Memo";case M:f=u._payload,u=u._init;try{return B(u(f))}catch{}}return null}function P(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function b(u){var f=u,y=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(y=f.return),u=f.return;while(u)}return f.tag===3?y:null}function I(u){if(b(u)!==u)throw Error(o(188))}function G(u){var f=u.alternate;if(!f){if(f=b(u),f===null)throw Error(o(188));return f!==u?null:u}for(var y=u,S=f;;){var w=y.return;if(w===null)break;var T=w.alternate;if(T===null){if(S=w.return,S!==null){y=S;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===y)return I(w),u;if(T===S)return I(w),f;T=T.sibling}throw Error(o(188))}if(y.return!==S.return)y=w,S=T;else{for(var U=!1,Q=w.child;Q;){if(Q===y){U=!0,y=w,S=T;break}if(Q===S){U=!0,S=w,y=T;break}Q=Q.sibling}if(!U){for(Q=T.child;Q;){if(Q===y){U=!0,y=T,S=w;break}if(Q===S){U=!0,S=T,y=w;break}Q=Q.sibling}if(!U)throw Error(o(189))}}if(y.alternate!==S)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?u:f}function J(u){return u=G(u),u!==null?W(u):null}function W(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=W(u);if(f!==null)return f;u=u.sibling}return null}function K(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=K(u);if(f!==null)return f}u=u.sibling}return null}var X=Array.isArray,oe=e.getPublicInstance,te=e.getRootHostContext,L=e.getChildHostContext,V=e.prepareForCommit,H=e.resetAfterCommit,ee=e.createInstance,Z=e.appendInitialChild,ne=e.finalizeInitialChildren,ie=e.prepareUpdate,Ee=e.shouldSetTextContent,pe=e.createTextInstance,j=e.scheduleTimeout,ke=e.cancelTimeout,Xe=e.noTimeout,Me=e.isPrimaryRenderer,_e=e.supportsMutation,de=e.supportsPersistence,ae=e.supportsHydration,Se=e.getInstanceFromNode,Le=e.preparePortalMount,Ie=e.getCurrentEventPriority,We=e.detachDeletedInstance,Ke=e.supportsMicrotasks,je=e.scheduleMicrotask,tt=e.supportsTestSelectors,mt=e.findFiberRoot,k=e.getBoundingRect,D=e.getTextContent,ce=e.isHiddenSubtree,Ce=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,$e=e.appendChild,Oe=e.appendChildToContainer,ge=e.commitTextUpdate,Ge=e.commitMount,z=e.commitUpdate,se=e.insertBefore,ve=e.insertInContainerBefore,be=e.removeChild,Ze=e.removeChildFromContainer,ft=e.resetTextContent,Gt=e.hideInstance,Y=e.hideTextInstance,he=e.unhideInstance,we=e.unhideTextInstance,ze=e.clearContainer,Ye=e.cloneInstance,Ft=e.createContainerChildSet,Nt=e.appendChildToContainerChildSet,Nn=e.finalizeContainerChildren,Tr=e.replaceContainerChildren,qt=e.cloneHiddenInstance,fi=e.cloneHiddenTextInstance,sr=e.canHydrateInstance,Il=e.canHydrateTextInstance,Sd=e.canHydrateSuspenseInstance,Ed=e.isSuspenseInstancePending,Iu=e.isSuspenseInstanceFallback,zy=e.registerSuspenseInstanceRetry,O=e.getNextHydratableSibling,ue=e.getFirstHydratableChild,ye=e.getFirstHydratableChildWithinContainer,re=e.getFirstHydratableChildWithinSuspenseInstance,xe=e.hydrateInstance,et=e.hydrateTextInstance,it=e.hydrateSuspenseInstance,ot=e.getNextHydratableInstanceAfterSuspenseInstance,ht=e.commitHydratedContainer,xt=e.commitHydratedSuspenseInstance,At=e.clearSuspenseBoundary,Mt=e.clearSuspenseBoundaryFromContainer,Ot=e.shouldDeleteUnhydratedTailInstances,jn=e.didNotMatchHydratedContainerTextInstance,Ni=e.didNotMatchHydratedTextInstance,br;function jt(u){if(br===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);br=f&&f[1]||""}return`
`+br+u}var St=!1;function va(u,f){if(!u||St)return"";St=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Be){var S=Be}Reflect.construct(u,[],f)}else{try{f.call()}catch(Be){S=Be}u.call(f.prototype)}else{try{throw Error()}catch(Be){S=Be}u()}}catch(Be){if(Be&&S&&typeof Be.stack=="string"){for(var w=Be.stack.split(`
`),T=S.stack.split(`
`),U=w.length-1,Q=T.length-1;1<=U&&0<=Q&&w[U]!==T[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(w[U]!==T[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||w[U]!==T[Q]){var me=`
`+w[U].replace(" at new "," at ");return u.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",u.displayName)),me}while(1<=U&&0<=Q);break}}}finally{St=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?jt(u):""}var _n=Object.prototype.hasOwnProperty,Rr=[],Ts=-1;function Si(u){return{current:u}}function Ut(u){0>Ts||(u.current=Rr[Ts],Rr[Ts]=null,Ts--)}function dt(u,f){Ts++,Rr[Ts]=u.current,u.current=f}var Zn={},Mn=Si(Zn),Ht=Si(!1),Pr=Zn;function ho(u,f){var y=u.type.contextTypes;if(!y)return Zn;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var w={},T;for(T in y)w[T]=f[T];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=w),w}function Jn(u){return u=u.childContextTypes,u!=null}function wd(){Ut(Ht),Ut(Mn)}function v1(u,f,y){if(Mn.current!==Zn)throw Error(o(168));dt(Mn,f),dt(Ht,y)}function x1(u,f,y){var S=u.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var w in S)if(!(w in f))throw Error(o(108,P(u)||"Unknown",w));return s({},y,S)}function Cd(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Zn,Pr=Mn.current,dt(Mn,u),dt(Ht,Ht.current),!0}function A1(u,f,y){var S=u.stateNode;if(!S)throw Error(o(169));y?(u=x1(u,f,Pr),S.__reactInternalMemoizedMergedChildContext=u,Ut(Ht),Ut(Mn),dt(Mn,u)):Ut(Ht),dt(Ht,y)}var Br=Math.clz32?Math.clz32:XF,jF=Math.log,JF=Math.LN2;function XF(u){return u>>>=0,u===0?32:31-(jF(u)/JF|0)|0}var Td=64,bd=4194304;function Lu(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Rd(u,f){var y=u.pendingLanes;if(y===0)return 0;var S=0,w=u.suspendedLanes,T=u.pingedLanes,U=y&268435455;if(U!==0){var Q=U&~w;Q!==0?S=Lu(Q):(T&=U,T!==0&&(S=Lu(T)))}else U=y&~w,U!==0?S=Lu(U):T!==0&&(S=Lu(T));if(S===0)return 0;if(f!==0&&f!==S&&!(f&w)&&(w=S&-S,T=f&-f,w>=T||w===16&&(T&4194240)!==0))return f;if(S&4&&(S|=y&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=S;0<f;)y=31-Br(f),w=1<<y,S|=u[y],f&=~w;return S}function KF(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YF(u,f){for(var y=u.suspendedLanes,S=u.pingedLanes,w=u.expirationTimes,T=u.pendingLanes;0<T;){var U=31-Br(T),Q=1<<U,me=w[U];me===-1?(!(Q&y)||Q&S)&&(w[U]=KF(Q,f)):me<=f&&(u.expiredLanes|=Q),T&=~Q}}function Gy(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Hy(u){for(var f=[],y=0;31>y;y++)f.push(u);return f}function Du(u,f,y){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Br(f),u[f]=y}function QF(u,f){var y=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<y;){var w=31-Br(y),T=1<<w;f[w]=0,S[w]=-1,u[w]=-1,y&=~T}}function Vy(u,f){var y=u.entangledLanes|=f;for(u=u.entanglements;y;){var S=31-Br(y),w=1<<S;w&f|u[S]&f&&(u[S]|=f),y&=~w}}var Pt=0;function _1(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Wy=r.unstable_scheduleCallback,M1=r.unstable_cancelCallback,qF=r.unstable_shouldYield,ZF=r.unstable_requestPaint,On=r.unstable_now,jy=r.unstable_ImmediatePriority,$F=r.unstable_UserBlockingPriority,Jy=r.unstable_NormalPriority,eN=r.unstable_IdlePriority,Pd=null,is=null;function tN(u){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Pd,u,void 0,(u.current.flags&128)===128)}catch{}}function nN(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var rs=typeof Object.is=="function"?Object.is:nN,bs=null,Bd=!1,Xy=!1;function S1(u){bs===null?bs=[u]:bs.push(u)}function iN(u){Bd=!0,S1(u)}function ss(){if(!Xy&&bs!==null){Xy=!0;var u=0,f=Pt;try{var y=bs;for(Pt=1;u<y.length;u++){var S=y[u];do S=S(!0);while(S!==null)}bs=null,Bd=!1}catch(w){throw bs!==null&&(bs=bs.slice(u+1)),Wy(jy,ss),w}finally{Pt=f,Xy=!1}}return null}var rN=a.ReactCurrentBatchConfig;function Id(u,f){if(rs(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var y=Object.keys(u),S=Object.keys(f);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var w=y[S];if(!_n.call(f,w)||!rs(u[w],f[w]))return!1}return!0}function sN(u){switch(u.tag){case 5:return jt(u.type);case 16:return jt("Lazy");case 13:return jt("Suspense");case 19:return jt("SuspenseList");case 0:case 2:case 15:return u=va(u.type,!1),u;case 11:return u=va(u.type.render,!1),u;case 1:return u=va(u.type,!0),u;default:return""}}function Ir(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var y in u)f[y]===void 0&&(f[y]=u[y]);return f}return f}var Ld=Si(null),Dd=null,Ll=null,Ky=null;function Yy(){Ky=Ll=Dd=null}function E1(u,f,y){Me?(dt(Ld,f._currentValue),f._currentValue=y):(dt(Ld,f._currentValue2),f._currentValue2=y)}function Qy(u){var f=Ld.current;Ut(Ld),Me?u._currentValue=f:u._currentValue2=f}function qy(u,f,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===y)break;u=u.return}}function Dl(u,f){Dd=u,Ky=Ll=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(ki=!0),u.firstContext=null)}function or(u){var f=Me?u._currentValue:u._currentValue2;if(Ky!==u)if(u={context:u,memoizedValue:f,next:null},Ll===null){if(Dd===null)throw Error(o(308));Ll=u,Dd.dependencies={lanes:0,firstContext:u}}else Ll=Ll.next=u;return f}var os=null,po=!1;function Zy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w1(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Rs(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function mo(u,f){var y=u.updateQueue;y!==null&&(y=y.shared,Sn!==null&&u.mode&1&&!(_t&2)?(u=y.interleaved,u===null?(f.next=f,os===null?os=[y]:os.push(y)):(f.next=u.next,u.next=f),y.interleaved=f):(u=y.pending,u===null?f.next=f:(f.next=u.next,u.next=f),y.pending=f))}function Fd(u,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var S=f.lanes;S&=u.pendingLanes,y|=S,f.lanes=y,Vy(u,y)}}function C1(u,f){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var w=null,T=null;if(y=y.firstBaseUpdate,y!==null){do{var U={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};T===null?w=T=U:T=T.next=U,y=y.next}while(y!==null);T===null?w=T=f:T=T.next=f}else w=T=f;y={baseState:S.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:S.shared,effects:S.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=f}function Nd(u,f,y,S){var w=u.updateQueue;po=!1;var T=w.firstBaseUpdate,U=w.lastBaseUpdate,Q=w.shared.pending;if(Q!==null){w.shared.pending=null;var me=Q,Be=me.next;me.next=null,U===null?T=Be:U.next=Be,U=me;var Ve=u.alternate;Ve!==null&&(Ve=Ve.updateQueue,Q=Ve.lastBaseUpdate,Q!==U&&(Q===null?Ve.firstBaseUpdate=Be:Q.next=Be,Ve.lastBaseUpdate=me))}if(T!==null){var at=w.baseState;U=0,Ve=Be=me=null,Q=T;do{var nt=Q.lane,Vt=Q.eventTime;if((S&nt)===nt){Ve!==null&&(Ve=Ve.next={eventTime:Vt,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var qe=u,ni=Q;switch(nt=f,Vt=y,ni.tag){case 1:if(qe=ni.payload,typeof qe=="function"){at=qe.call(Vt,at,nt);break e}at=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ni.payload,nt=typeof qe=="function"?qe.call(Vt,at,nt):qe,nt==null)break e;at=s({},at,nt);break e;case 2:po=!0}}Q.callback!==null&&Q.lane!==0&&(u.flags|=64,nt=w.effects,nt===null?w.effects=[Q]:nt.push(Q))}else Vt={eventTime:Vt,lane:nt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ve===null?(Be=Ve=Vt,me=at):Ve=Ve.next=Vt,U|=nt;if(Q=Q.next,Q===null){if(Q=w.shared.pending,Q===null)break;nt=Q,Q=nt.next,nt.next=null,w.lastBaseUpdate=nt,w.shared.pending=null}}while(1);if(Ve===null&&(me=at),w.baseState=me,w.firstBaseUpdate=Be,w.lastBaseUpdate=Ve,f=w.shared.interleaved,f!==null){w=f;do U|=w.lane,w=w.next;while(w!==f)}else T===null&&(w.shared.lanes=0);Vl|=U,u.lanes=U,u.memoizedState=at}}function T1(u,f,y){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var S=u[f],w=S.callback;if(w!==null){if(S.callback=null,S=y,typeof w!="function")throw Error(o(191,w));w.call(S)}}}var b1=new i.Component().refs;function $y(u,f,y,S){f=u.memoizedState,y=y(S,f),y=y==null?f:s({},f,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Od={isMounted:function(u){return(u=u._reactInternals)?b(u)===u:!1},enqueueSetState:function(u,f,y){u=u._reactInternals;var S=di(),w=vo(u),T=Rs(S,w);T.payload=f,y!=null&&(T.callback=y),mo(u,T),f=fr(u,w,S),f!==null&&Fd(f,u,w)},enqueueReplaceState:function(u,f,y){u=u._reactInternals;var S=di(),w=vo(u),T=Rs(S,w);T.tag=1,T.payload=f,y!=null&&(T.callback=y),mo(u,T),f=fr(u,w,S),f!==null&&Fd(f,u,w)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var y=di(),S=vo(u),w=Rs(y,S);w.tag=2,f!=null&&(w.callback=f),mo(u,w),f=fr(u,S,y),f!==null&&Fd(f,u,S)}};function R1(u,f,y,S,w,T,U){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,T,U):f.prototype&&f.prototype.isPureReactComponent?!Id(y,S)||!Id(w,T):!0}function P1(u,f,y){var S=!1,w=Zn,T=f.contextType;return typeof T=="object"&&T!==null?T=or(T):(w=Jn(f)?Pr:Mn.current,S=f.contextTypes,T=(S=S!=null)?ho(u,w):Zn),f=new f(y,T),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Od,u.stateNode=f,f._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=w,u.__reactInternalMemoizedMaskedChildContext=T),f}function B1(u,f,y,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,S),f.state!==u&&Od.enqueueReplaceState(f,f.state,null)}function ev(u,f,y,S){var w=u.stateNode;w.props=y,w.state=u.memoizedState,w.refs=b1,Zy(u);var T=f.contextType;typeof T=="object"&&T!==null?w.context=or(T):(T=Jn(f)?Pr:Mn.current,w.context=ho(u,T)),w.state=u.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&($y(u,f,T,y),w.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(f=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),f!==w.state&&Od.enqueueReplaceState(w,w.state,null),Nd(u,y,w,S),w.state=u.memoizedState),typeof w.componentDidMount=="function"&&(u.flags|=4194308)}var Fl=[],Nl=0,Ud=null,kd=0,ar=[],lr=0,xa=null,Ps=1,Bs="";function Aa(u,f){Fl[Nl++]=kd,Fl[Nl++]=Ud,Ud=u,kd=f}function I1(u,f,y){ar[lr++]=Ps,ar[lr++]=Bs,ar[lr++]=xa,xa=u;var S=Ps;u=Bs;var w=32-Br(S)-1;S&=~(1<<w),y+=1;var T=32-Br(f)+w;if(30<T){var U=w-w%5;T=(S&(1<<U)-1).toString(32),S>>=U,w-=U,Ps=1<<32-Br(f)+w|y<<w|S,Bs=T+u}else Ps=1<<T|y<<w|S,Bs=u}function tv(u){u.return!==null&&(Aa(u,1),I1(u,1,0))}function nv(u){for(;u===Ud;)Ud=Fl[--Nl],Fl[Nl]=null,kd=Fl[--Nl],Fl[Nl]=null;for(;u===xa;)xa=ar[--lr],ar[lr]=null,Bs=ar[--lr],ar[lr]=null,Ps=ar[--lr],ar[lr]=null}var Oi=null,Ui=null,Zt=!1,Fu=!1,Lr=null;function L1(u,f){var y=hr(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=u,f=u.deletions,f===null?(u.deletions=[y],u.flags|=16):f.push(y)}function D1(u,f){switch(u.tag){case 5:return f=sr(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,Oi=u,Ui=ue(f),!0):!1;case 6:return f=Il(f,u.pendingProps),f!==null?(u.stateNode=f,Oi=u,Ui=null,!0):!1;case 13:if(f=Sd(f),f!==null){var y=xa!==null?{id:Ps,overflow:Bs}:null;return u.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=hr(18,null,null,0),y.stateNode=f,y.return=u,u.child=y,Oi=u,Ui=null,!0}return!1;default:return!1}}function iv(u){return(u.mode&1)!==0&&(u.flags&128)===0}function rv(u){if(Zt){var f=Ui;if(f){var y=f;if(!D1(u,f)){if(iv(u))throw Error(o(418));f=O(y);var S=Oi;f&&D1(u,f)?L1(S,y):(u.flags=u.flags&-4097|2,Zt=!1,Oi=u)}}else{if(iv(u))throw Error(o(418));u.flags=u.flags&-4097|2,Zt=!1,Oi=u}}}function F1(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Oi=u}function Nu(u){if(!ae||u!==Oi)return!1;if(!Zt)return F1(u),Zt=!0,!1;if(u.tag!==3&&(u.tag!==5||Ot(u.type)&&!Ee(u.type,u.memoizedProps))){var f=Ui;if(f){if(iv(u)){for(u=Ui;u;)u=O(u);throw Error(o(418))}for(;f;)L1(u,f),f=O(f)}}if(F1(u),u.tag===13){if(!ae)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Ui=ot(u)}else Ui=Oi?O(u.stateNode):null;return!0}function Ol(){ae&&(Ui=Oi=null,Fu=Zt=!1)}function sv(u){Lr===null?Lr=[u]:Lr.push(u)}function Ou(u,f,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var S=y.stateNode}if(!S)throw Error(o(147,u));var w=S,T=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===T?f.ref:(f=function(U){var Q=w.refs;Q===b1&&(Q=w.refs={}),U===null?delete Q[T]:Q[T]=U},f._stringRef=T,f)}if(typeof u!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,u))}return u}function zd(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function N1(u){var f=u._init;return f(u._payload)}function O1(u){function f(le,$){if(u){var fe=le.deletions;fe===null?(le.deletions=[$],le.flags|=16):fe.push($)}}function y(le,$){if(!u)return null;for(;$!==null;)f(le,$),$=$.sibling;return null}function S(le,$){for(le=new Map;$!==null;)$.key!==null?le.set($.key,$):le.set($.index,$),$=$.sibling;return le}function w(le,$){return le=Ao(le,$),le.index=0,le.sibling=null,le}function T(le,$,fe){return le.index=fe,u?(fe=le.alternate,fe!==null?(fe=fe.index,fe<$?(le.flags|=2,$):fe):(le.flags|=2,$)):(le.flags|=1048576,$)}function U(le){return u&&le.alternate===null&&(le.flags|=2),le}function Q(le,$,fe,Ue){return $===null||$.tag!==6?($=Hv(fe,le.mode,Ue),$.return=le,$):($=w($,fe),$.return=le,$)}function me(le,$,fe,Ue){var Qe=fe.type;return Qe===h?Ve(le,$,fe.props.children,Ue,fe.key):$!==null&&($.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&N1(Qe)===$.type)?(Ue=w($,fe.props),Ue.ref=Ou(le,$,fe),Ue.return=le,Ue):(Ue=yp(fe.type,fe.key,fe.props,null,le.mode,Ue),Ue.ref=Ou(le,$,fe),Ue.return=le,Ue)}function Be(le,$,fe,Ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==fe.containerInfo||$.stateNode.implementation!==fe.implementation?($=Vv(fe,le.mode,Ue),$.return=le,$):($=w($,fe.children||[]),$.return=le,$)}function Ve(le,$,fe,Ue,Qe){return $===null||$.tag!==7?($=Ta(fe,le.mode,Ue,Qe),$.return=le,$):($=w($,fe),$.return=le,$)}function at(le,$,fe){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Hv(""+$,le.mode,fe),$.return=le,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case l:return fe=yp($.type,$.key,$.props,null,le.mode,fe),fe.ref=Ou(le,null,$),fe.return=le,fe;case c:return $=Vv($,le.mode,fe),$.return=le,$;case M:var Ue=$._init;return at(le,Ue($._payload),fe)}if(X($)||R($))return $=Ta($,le.mode,fe,null),$.return=le,$;zd(le,$)}return null}function nt(le,$,fe,Ue){var Qe=$!==null?$.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Qe!==null?null:Q(le,$,""+fe,Ue);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return fe.key===Qe?me(le,$,fe,Ue):null;case c:return fe.key===Qe?Be(le,$,fe,Ue):null;case M:return Qe=fe._init,nt(le,$,Qe(fe._payload),Ue)}if(X(fe)||R(fe))return Qe!==null?null:Ve(le,$,fe,Ue,null);zd(le,fe)}return null}function Vt(le,$,fe,Ue,Qe){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return le=le.get(fe)||null,Q($,le,""+Ue,Qe);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case l:return le=le.get(Ue.key===null?fe:Ue.key)||null,me($,le,Ue,Qe);case c:return le=le.get(Ue.key===null?fe:Ue.key)||null,Be($,le,Ue,Qe);case M:var gt=Ue._init;return Vt(le,$,fe,gt(Ue._payload),Qe)}if(X(Ue)||R(Ue))return le=le.get(fe)||null,Ve($,le,Ue,Qe,null);zd($,Ue)}return null}function qe(le,$,fe,Ue){for(var Qe=null,gt=null,lt=$,Bt=$=0,kn=null;lt!==null&&Bt<fe.length;Bt++){lt.index>Bt?(kn=lt,lt=null):kn=lt.sibling;var It=nt(le,lt,fe[Bt],Ue);if(It===null){lt===null&&(lt=kn);break}u&&lt&&It.alternate===null&&f(le,lt),$=T(It,$,Bt),gt===null?Qe=It:gt.sibling=It,gt=It,lt=kn}if(Bt===fe.length)return y(le,lt),Zt&&Aa(le,Bt),Qe;if(lt===null){for(;Bt<fe.length;Bt++)lt=at(le,fe[Bt],Ue),lt!==null&&($=T(lt,$,Bt),gt===null?Qe=lt:gt.sibling=lt,gt=lt);return Zt&&Aa(le,Bt),Qe}for(lt=S(le,lt);Bt<fe.length;Bt++)kn=Vt(lt,le,Bt,fe[Bt],Ue),kn!==null&&(u&&kn.alternate!==null&&lt.delete(kn.key===null?Bt:kn.key),$=T(kn,$,Bt),gt===null?Qe=kn:gt.sibling=kn,gt=kn);return u&&lt.forEach(function(_o){return f(le,_o)}),Zt&&Aa(le,Bt),Qe}function ni(le,$,fe,Ue){var Qe=R(fe);if(typeof Qe!="function")throw Error(o(150));if(fe=Qe.call(fe),fe==null)throw Error(o(151));for(var gt=Qe=null,lt=$,Bt=$=0,kn=null,It=fe.next();lt!==null&&!It.done;Bt++,It=fe.next()){lt.index>Bt?(kn=lt,lt=null):kn=lt.sibling;var _o=nt(le,lt,It.value,Ue);if(_o===null){lt===null&&(lt=kn);break}u&&lt&&_o.alternate===null&&f(le,lt),$=T(_o,$,Bt),gt===null?Qe=_o:gt.sibling=_o,gt=_o,lt=kn}if(It.done)return y(le,lt),Zt&&Aa(le,Bt),Qe;if(lt===null){for(;!It.done;Bt++,It=fe.next())It=at(le,It.value,Ue),It!==null&&($=T(It,$,Bt),gt===null?Qe=It:gt.sibling=It,gt=It);return Zt&&Aa(le,Bt),Qe}for(lt=S(le,lt);!It.done;Bt++,It=fe.next())It=Vt(lt,le,Bt,It.value,Ue),It!==null&&(u&&It.alternate!==null&&lt.delete(It.key===null?Bt:It.key),$=T(It,$,Bt),gt===null?Qe=It:gt.sibling=It,gt=It);return u&&lt.forEach(function(FN){return f(le,FN)}),Zt&&Aa(le,Bt),Qe}function dr(le,$,fe,Ue){if(typeof fe=="object"&&fe!==null&&fe.type===h&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:e:{for(var Qe=fe.key,gt=$;gt!==null;){if(gt.key===Qe){if(Qe=fe.type,Qe===h){if(gt.tag===7){y(le,gt.sibling),$=w(gt,fe.props.children),$.return=le,le=$;break e}}else if(gt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&N1(Qe)===gt.type){y(le,gt.sibling),$=w(gt,fe.props),$.ref=Ou(le,gt,fe),$.return=le,le=$;break e}y(le,gt);break}else f(le,gt);gt=gt.sibling}fe.type===h?($=Ta(fe.props.children,le.mode,Ue,fe.key),$.return=le,le=$):(Ue=yp(fe.type,fe.key,fe.props,null,le.mode,Ue),Ue.ref=Ou(le,$,fe),Ue.return=le,le=Ue)}return U(le);case c:e:{for(gt=fe.key;$!==null;){if($.key===gt)if($.tag===4&&$.stateNode.containerInfo===fe.containerInfo&&$.stateNode.implementation===fe.implementation){y(le,$.sibling),$=w($,fe.children||[]),$.return=le,le=$;break e}else{y(le,$);break}else f(le,$);$=$.sibling}$=Vv(fe,le.mode,Ue),$.return=le,le=$}return U(le);case M:return gt=fe._init,dr(le,$,gt(fe._payload),Ue)}if(X(fe))return qe(le,$,fe,Ue);if(R(fe))return ni(le,$,fe,Ue);zd(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,$!==null&&$.tag===6?(y(le,$.sibling),$=w($,fe),$.return=le,le=$):(y(le,$),$=Hv(fe,le.mode,Ue),$.return=le,le=$),U(le)):y(le,$)}return dr}var Ul=O1(!0),U1=O1(!1),Uu={},cr=Si(Uu),ku=Si(Uu),kl=Si(Uu);function as(u){if(u===Uu)throw Error(o(174));return u}function ov(u,f){dt(kl,f),dt(ku,u),dt(cr,Uu),u=te(f),Ut(cr),dt(cr,u)}function zl(){Ut(cr),Ut(ku),Ut(kl)}function k1(u){var f=as(kl.current),y=as(cr.current);f=L(y,u.type,f),y!==f&&(dt(ku,u),dt(cr,f))}function av(u){ku.current===u&&(Ut(cr),Ut(ku))}var nn=Si(0);function Gd(u){for(var f=u;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Ed(y)||Iu(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var lv=[];function cv(){for(var u=0;u<lv.length;u++){var f=lv[u];Me?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}lv.length=0}var Hd=a.ReactCurrentDispatcher,ur=a.ReactCurrentBatchConfig,Gl=0,hn=null,$n=null,Un=null,Vd=!1,zu=!1,Gu=0,oN=0;function ei(){throw Error(o(321))}function uv(u,f){if(f===null)return!1;for(var y=0;y<f.length&&y<u.length;y++)if(!rs(u[y],f[y]))return!1;return!0}function fv(u,f,y,S,w,T){if(Gl=T,hn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Hd.current=u===null||u.memoizedState===null?uN:fN,u=y(S,w),zu){T=0;do{if(zu=!1,Gu=0,25<=T)throw Error(o(301));T+=1,Un=$n=null,f.updateQueue=null,Hd.current=hN,u=y(S,w)}while(zu)}if(Hd.current=Kd,f=$n!==null&&$n.next!==null,Gl=0,Un=$n=hn=null,Vd=!1,f)throw Error(o(300));return u}function hv(){var u=Gu!==0;return Gu=0,u}function Is(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?hn.memoizedState=Un=u:Un=Un.next=u,Un}function ls(){if($n===null){var u=hn.alternate;u=u!==null?u.memoizedState:null}else u=$n.next;var f=Un===null?hn.memoizedState:Un.next;if(f!==null)Un=f,$n=u;else{if(u===null)throw Error(o(310));$n=u,u={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Un===null?hn.memoizedState=Un=u:Un=Un.next=u}return Un}function _a(u,f){return typeof f=="function"?f(u):f}function Wd(u){var f=ls(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var S=$n,w=S.baseQueue,T=y.pending;if(T!==null){if(w!==null){var U=w.next;w.next=T.next,T.next=U}S.baseQueue=w=T,y.pending=null}if(w!==null){T=w.next,S=S.baseState;var Q=U=null,me=null,Be=T;do{var Ve=Be.lane;if((Gl&Ve)===Ve)me!==null&&(me=me.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),S=Be.hasEagerState?Be.eagerState:u(S,Be.action);else{var at={lane:Ve,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};me===null?(Q=me=at,U=S):me=me.next=at,hn.lanes|=Ve,Vl|=Ve}Be=Be.next}while(Be!==null&&Be!==T);me===null?U=S:me.next=Q,rs(S,f.memoizedState)||(ki=!0),f.memoizedState=S,f.baseState=U,f.baseQueue=me,y.lastRenderedState=S}if(u=y.interleaved,u!==null){w=u;do T=w.lane,hn.lanes|=T,Vl|=T,w=w.next;while(w!==u)}else w===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function jd(u){var f=ls(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var S=y.dispatch,w=y.pending,T=f.memoizedState;if(w!==null){y.pending=null;var U=w=w.next;do T=u(T,U.action),U=U.next;while(U!==w);rs(T,f.memoizedState)||(ki=!0),f.memoizedState=T,f.baseQueue===null&&(f.baseState=T),y.lastRenderedState=T}return[T,S]}function z1(){}function G1(u,f){var y=hn,S=ls(),w=f(),T=!rs(S.memoizedState,w);if(T&&(S.memoizedState=w,ki=!0),S=S.queue,Vu(W1.bind(null,y,S,u),[u]),S.getSnapshot!==f||T||Un!==null&&Un.memoizedState.tag&1){if(y.flags|=2048,Hu(9,V1.bind(null,y,S,w,f),void 0,null),Sn===null)throw Error(o(349));Gl&30||H1(y,f,w)}return w}function H1(u,f,y){u.flags|=16384,u={getSnapshot:f,value:y},f=hn.updateQueue,f===null?(f={lastEffect:null,stores:null},hn.updateQueue=f,f.stores=[u]):(y=f.stores,y===null?f.stores=[u]:y.push(u))}function V1(u,f,y,S){f.value=y,f.getSnapshot=S,j1(f)&&fr(u,1,-1)}function W1(u,f,y){return y(function(){j1(f)&&fr(u,1,-1)})}function j1(u){var f=u.getSnapshot;u=u.value;try{var y=f();return!rs(u,y)}catch{return!0}}function dv(u){var f=Is();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:u},f.queue=u,u=u.dispatch=cN.bind(null,hn,u),[f.memoizedState,u]}function Hu(u,f,y,S){return u={tag:u,create:f,destroy:y,deps:S,next:null},f=hn.updateQueue,f===null?(f={lastEffect:null,stores:null},hn.updateQueue=f,f.lastEffect=u.next=u):(y=f.lastEffect,y===null?f.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,f.lastEffect=u)),u}function J1(){return ls().memoizedState}function Jd(u,f,y,S){var w=Is();hn.flags|=u,w.memoizedState=Hu(1|f,y,void 0,S===void 0?null:S)}function Xd(u,f,y,S){var w=ls();S=S===void 0?null:S;var T=void 0;if($n!==null){var U=$n.memoizedState;if(T=U.destroy,S!==null&&uv(S,U.deps)){w.memoizedState=Hu(f,y,T,S);return}}hn.flags|=u,w.memoizedState=Hu(1|f,y,T,S)}function pv(u,f){return Jd(8390656,8,u,f)}function Vu(u,f){return Xd(2048,8,u,f)}function X1(u,f){return Xd(4,2,u,f)}function K1(u,f){return Xd(4,4,u,f)}function Y1(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Q1(u,f,y){return y=y!=null?y.concat([u]):null,Xd(4,4,Y1.bind(null,f,u),y)}function mv(){}function q1(u,f){var y=ls();f=f===void 0?null:f;var S=y.memoizedState;return S!==null&&f!==null&&uv(f,S[1])?S[0]:(y.memoizedState=[u,f],u)}function Z1(u,f){var y=ls();f=f===void 0?null:f;var S=y.memoizedState;return S!==null&&f!==null&&uv(f,S[1])?S[0]:(u=u(),y.memoizedState=[u,f],u)}function aN(u,f){var y=Pt;Pt=y!==0&&4>y?y:4,u(!0);var S=ur.transition;ur.transition={};try{u(!1),f()}finally{Pt=y,ur.transition=S}}function $1(){return ls().memoizedState}function lN(u,f,y){var S=vo(u);y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},eE(u)?tE(f,y):(nE(u,f,y),y=di(),u=fr(u,S,y),u!==null&&iE(u,f,S))}function cN(u,f,y){var S=vo(u),w={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(eE(u))tE(f,w);else{nE(u,f,w);var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=f.lastRenderedReducer,T!==null))try{var U=f.lastRenderedState,Q=T(U,y);if(w.hasEagerState=!0,w.eagerState=Q,rs(Q,U))return}catch{}finally{}y=di(),u=fr(u,S,y),u!==null&&iE(u,f,S)}}function eE(u){var f=u.alternate;return u===hn||f!==null&&f===hn}function tE(u,f){zu=Vd=!0;var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}function nE(u,f,y){Sn!==null&&u.mode&1&&!(_t&2)?(u=f.interleaved,u===null?(y.next=y,os===null?os=[f]:os.push(f)):(y.next=u.next,u.next=y),f.interleaved=y):(u=f.pending,u===null?y.next=y:(y.next=u.next,u.next=y),f.pending=y)}function iE(u,f,y){if(y&4194240){var S=f.lanes;S&=u.pendingLanes,y|=S,f.lanes=y,Vy(u,y)}}var Kd={readContext:or,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},uN={readContext:or,useCallback:function(u,f){return Is().memoizedState=[u,f===void 0?null:f],u},useContext:or,useEffect:pv,useImperativeHandle:function(u,f,y){return y=y!=null?y.concat([u]):null,Jd(4194308,4,Y1.bind(null,f,u),y)},useLayoutEffect:function(u,f){return Jd(4194308,4,u,f)},useInsertionEffect:function(u,f){return Jd(4,2,u,f)},useMemo:function(u,f){var y=Is();return f=f===void 0?null:f,u=u(),y.memoizedState=[u,f],u},useReducer:function(u,f,y){var S=Is();return f=y!==void 0?y(f):f,S.memoizedState=S.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},S.queue=u,u=u.dispatch=lN.bind(null,hn,u),[S.memoizedState,u]},useRef:function(u){var f=Is();return u={current:u},f.memoizedState=u},useState:dv,useDebugValue:mv,useDeferredValue:function(u){var f=dv(u),y=f[0],S=f[1];return pv(function(){var w=ur.transition;ur.transition={};try{S(u)}finally{ur.transition=w}},[u]),y},useTransition:function(){var u=dv(!1),f=u[0];return u=aN.bind(null,u[1]),Is().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,y){var S=hn,w=Is();if(Zt){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),Sn===null)throw Error(o(349));Gl&30||H1(S,f,y)}w.memoizedState=y;var T={value:y,getSnapshot:f};return w.queue=T,pv(W1.bind(null,S,T,u),[u]),S.flags|=2048,Hu(9,V1.bind(null,S,T,y,f),void 0,null),y},useId:function(){var u=Is(),f=Sn.identifierPrefix;if(Zt){var y=Bs,S=Ps;y=(S&~(1<<32-Br(S)-1)).toString(32)+y,f=":"+f+"R"+y,y=Gu++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=oN++,f=":"+f+"r"+y.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},fN={readContext:or,useCallback:q1,useContext:or,useEffect:Vu,useImperativeHandle:Q1,useInsertionEffect:X1,useLayoutEffect:K1,useMemo:Z1,useReducer:Wd,useRef:J1,useState:function(){return Wd(_a)},useDebugValue:mv,useDeferredValue:function(u){var f=Wd(_a),y=f[0],S=f[1];return Vu(function(){var w=ur.transition;ur.transition={};try{S(u)}finally{ur.transition=w}},[u]),y},useTransition:function(){var u=Wd(_a)[0],f=ls().memoizedState;return[u,f]},useMutableSource:z1,useSyncExternalStore:G1,useId:$1,unstable_isNewReconciler:!1},hN={readContext:or,useCallback:q1,useContext:or,useEffect:Vu,useImperativeHandle:Q1,useInsertionEffect:X1,useLayoutEffect:K1,useMemo:Z1,useReducer:jd,useRef:J1,useState:function(){return jd(_a)},useDebugValue:mv,useDeferredValue:function(u){var f=jd(_a),y=f[0],S=f[1];return Vu(function(){var w=ur.transition;ur.transition={};try{S(u)}finally{ur.transition=w}},[u]),y},useTransition:function(){var u=jd(_a)[0],f=ls().memoizedState;return[u,f]},useMutableSource:z1,useSyncExternalStore:G1,useId:$1,unstable_isNewReconciler:!1};function gv(u,f){try{var y="",S=f;do y+=sN(S),S=S.return;while(S);var w=y}catch(T){w=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:f,stack:w}}function yv(u,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var dN=typeof WeakMap=="function"?WeakMap:Map;function rE(u,f,y){y=Rs(-1,y),y.tag=3,y.payload={element:null};var S=f.value;return y.callback=function(){up||(up=!0,Fv=S),yv(u,f)},y}function sE(u,f,y){y=Rs(-1,y),y.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var w=f.value;y.payload=function(){return S(w)},y.callback=function(){yv(u,f)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(y.callback=function(){yv(u,f),typeof S!="function"&&(go===null?go=new Set([this]):go.add(this));var U=f.stack;this.componentDidCatch(f.value,{componentStack:U!==null?U:""})}),y}function oE(u,f,y){var S=u.pingCache;if(S===null){S=u.pingCache=new dN;var w=new Set;S.set(f,w)}else w=S.get(f),w===void 0&&(w=new Set,S.set(f,w));w.has(y)||(w.add(y),u=TN.bind(null,u,f,y),f.then(u,u))}function aE(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function lE(u,f,y,S,w){return u.mode&1?(u.flags|=65536,u.lanes=w,u):(u===f?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Rs(-1,1),f.tag=2,mo(y,f))),y.lanes|=1),u)}function cs(u){u.flags|=4}function cE(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Wu,ju,Yd,Qd;if(_e)Wu=function(u,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)Z(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},ju=function(){},Yd=function(u,f,y,S,w){if(u=u.memoizedProps,u!==S){var T=f.stateNode,U=as(cr.current);y=ie(T,y,u,S,w,U),(f.updateQueue=y)&&cs(f)}},Qd=function(u,f,y,S){y!==S&&cs(f)};else if(de){Wu=function(u,f,y,S){for(var w=f.child;w!==null;){if(w.tag===5){var T=w.stateNode;y&&S&&(T=qt(T,w.type,w.memoizedProps,w)),Z(u,T)}else if(w.tag===6)T=w.stateNode,y&&S&&(T=fi(T,w.memoizedProps,w)),Z(u,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)T=w.child,T!==null&&(T.return=w),Wu(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var uE=function(u,f,y,S){for(var w=f.child;w!==null;){if(w.tag===5){var T=w.stateNode;y&&S&&(T=qt(T,w.type,w.memoizedProps,w)),Nt(u,T)}else if(w.tag===6)T=w.stateNode,y&&S&&(T=fi(T,w.memoizedProps,w)),Nt(u,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)T=w.child,T!==null&&(T.return=w),uE(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};ju=function(u,f){var y=f.stateNode;if(!cE(u,f)){u=y.containerInfo;var S=Ft(u);uE(S,f,!1,!1),y.pendingChildren=S,cs(f),Nn(u,S)}},Yd=function(u,f,y,S,w){var T=u.stateNode,U=u.memoizedProps;if((u=cE(u,f))&&U===S)f.stateNode=T;else{var Q=f.stateNode,me=as(cr.current),Be=null;U!==S&&(Be=ie(Q,y,U,S,w,me)),u&&Be===null?f.stateNode=T:(T=Ye(T,Be,y,U,S,f,u,Q),ne(T,y,S,w,me)&&cs(f),f.stateNode=T,u?cs(f):Wu(T,f,!1,!1))}},Qd=function(u,f,y,S){y!==S?(u=as(kl.current),y=as(cr.current),f.stateNode=pe(S,u,y,f),cs(f)):f.stateNode=u.stateNode}}else ju=function(){},Yd=function(){},Qd=function(){};function Ju(u,f){if(!Zt)switch(u.tailMode){case"hidden":f=u.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function ti(u){var f=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(f)for(var w=u.child;w!==null;)y|=w.lanes|w.childLanes,S|=w.subtreeFlags&14680064,S|=w.flags&14680064,w.return=u,w=w.sibling;else for(w=u.child;w!==null;)y|=w.lanes|w.childLanes,S|=w.subtreeFlags,S|=w.flags,w.return=u,w=w.sibling;return u.subtreeFlags|=S,u.childLanes=y,f}function pN(u,f,y){var S=f.pendingProps;switch(nv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(f),null;case 1:return Jn(f.type)&&wd(),ti(f),null;case 3:return S=f.stateNode,zl(),Ut(Ht),Ut(Mn),cv(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Nu(f)?cs(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Lr!==null&&(Uv(Lr),Lr=null))),ju(u,f),ti(f),null;case 5:av(f),y=as(kl.current);var w=f.type;if(u!==null&&f.stateNode!=null)Yd(u,f,w,S,y),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return ti(f),null}if(u=as(cr.current),Nu(f)){if(!ae)throw Error(o(175));u=xe(f.stateNode,f.type,f.memoizedProps,y,u,f,!Fu),f.updateQueue=u,u!==null&&cs(f)}else{var T=ee(w,S,y,u,f);Wu(T,f,!1,!1),f.stateNode=T,ne(T,w,S,y,u)&&cs(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ti(f),null;case 6:if(u&&f.stateNode!=null)Qd(u,f,u.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(u=as(kl.current),y=as(cr.current),Nu(f)){if(!ae)throw Error(o(176));if(u=f.stateNode,S=f.memoizedProps,(y=et(u,S,f,!Fu))&&(w=Oi,w!==null))switch(T=(w.mode&1)!==0,w.tag){case 3:jn(w.stateNode.containerInfo,u,S,T);break;case 5:Ni(w.type,w.memoizedProps,w.stateNode,u,S,T)}y&&cs(f)}else f.stateNode=pe(S,u,y,f)}return ti(f),null;case 13:if(Ut(nn),S=f.memoizedState,Zt&&Ui!==null&&f.mode&1&&!(f.flags&128)){for(u=Ui;u;)u=O(u);return Ol(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=Nu(f),u===null){if(!S)throw Error(o(318));if(!ae)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));it(u,f)}else Ol(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ti(f),null}return Lr!==null&&(Uv(Lr),Lr=null),f.flags&128?(f.lanes=y,f):(S=S!==null,y=!1,u===null?Nu(f):y=u.memoizedState!==null,S&&!y&&(f.child.flags|=8192,f.mode&1&&(u===null||nn.current&1?Rn===0&&(Rn=3):zv())),f.updateQueue!==null&&(f.flags|=4),ti(f),null);case 4:return zl(),ju(u,f),u===null&&Le(f.stateNode.containerInfo),ti(f),null;case 10:return Qy(f.type._context),ti(f),null;case 17:return Jn(f.type)&&wd(),ti(f),null;case 19:if(Ut(nn),w=f.memoizedState,w===null)return ti(f),null;if(S=(f.flags&128)!==0,T=w.rendering,T===null)if(S)Ju(w,!1);else{if(Rn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(T=Gd(u),T!==null){for(f.flags|=128,Ju(w,!1),u=T.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=y,S=f.child;S!==null;)y=S,w=u,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=w,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,w=T.dependencies,y.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),S=S.sibling;return dt(nn,nn.current&1|2),f.child}u=u.sibling}w.tail!==null&&On()>Dv&&(f.flags|=128,S=!0,Ju(w,!1),f.lanes=4194304)}else{if(!S)if(u=Gd(T),u!==null){if(f.flags|=128,S=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),Ju(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!Zt)return ti(f),null}else 2*On()-w.renderingStartTime>Dv&&y!==1073741824&&(f.flags|=128,S=!0,Ju(w,!1),f.lanes=4194304);w.isBackwards?(T.sibling=f.child,f.child=T):(u=w.last,u!==null?u.sibling=T:f.child=T,w.last=T)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=On(),f.sibling=null,u=nn.current,dt(nn,S?u&1|2:u&1),f):(ti(f),null);case 22:case 23:return kv(),S=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?zi&1073741824&&(ti(f),_e&&f.subtreeFlags&6&&(f.flags|=8192)):ti(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var mN=a.ReactCurrentOwner,ki=!1;function hi(u,f,y,S){f.child=u===null?U1(f,null,y,S):Ul(f,u.child,y,S)}function fE(u,f,y,S,w){y=y.render;var T=f.ref;return Dl(f,w),S=fv(u,f,y,S,T,w),y=hv(),u!==null&&!ki?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~w,Ls(u,f,w)):(Zt&&y&&tv(f),f.flags|=1,hi(u,f,S,w),f.child)}function hE(u,f,y,S,w){if(u===null){var T=y.type;return typeof T=="function"&&!Gv(T)&&T.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=T,dE(u,f,T,S,w)):(u=yp(y.type,null,S,f,f.mode,w),u.ref=f.ref,u.return=f,f.child=u)}if(T=u.child,!(u.lanes&w)){var U=T.memoizedProps;if(y=y.compare,y=y!==null?y:Id,y(U,S)&&u.ref===f.ref)return Ls(u,f,w)}return f.flags|=1,u=Ao(T,S),u.ref=f.ref,u.return=f,f.child=u}function dE(u,f,y,S,w){if(u!==null&&Id(u.memoizedProps,S)&&u.ref===f.ref)if(ki=!1,(u.lanes&w)!==0)u.flags&131072&&(ki=!0);else return f.lanes=u.lanes,Ls(u,f,w);return vv(u,f,y,S,w)}function pE(u,f,y){var S=f.pendingProps,w=S.children,T=u!==null?u.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},dt(Hl,zi),zi|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},S=T!==null?T.baseLanes:y,dt(Hl,zi),zi|=S;else return u=T!==null?T.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,dt(Hl,zi),zi|=u,null;else T!==null?(S=T.baseLanes|y,f.memoizedState=null):S=y,dt(Hl,zi),zi|=S;return hi(u,f,w,y),f.child}function mE(u,f){var y=f.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function vv(u,f,y,S,w){var T=Jn(y)?Pr:Mn.current;return T=ho(f,T),Dl(f,w),y=fv(u,f,y,S,T,w),S=hv(),u!==null&&!ki?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~w,Ls(u,f,w)):(Zt&&S&&tv(f),f.flags|=1,hi(u,f,y,w),f.child)}function gE(u,f,y,S,w){if(Jn(y)){var T=!0;Cd(f)}else T=!1;if(Dl(f,w),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),P1(f,y,S),ev(f,y,S,w),S=!0;else if(u===null){var U=f.stateNode,Q=f.memoizedProps;U.props=Q;var me=U.context,Be=y.contextType;typeof Be=="object"&&Be!==null?Be=or(Be):(Be=Jn(y)?Pr:Mn.current,Be=ho(f,Be));var Ve=y.getDerivedStateFromProps,at=typeof Ve=="function"||typeof U.getSnapshotBeforeUpdate=="function";at||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==S||me!==Be)&&B1(f,U,S,Be),po=!1;var nt=f.memoizedState;U.state=nt,Nd(f,S,U,w),me=f.memoizedState,Q!==S||nt!==me||Ht.current||po?(typeof Ve=="function"&&($y(f,y,Ve,S),me=f.memoizedState),(Q=po||R1(f,y,Q,S,nt,me,Be))?(at||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(f.flags|=4194308)):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=me),U.props=S,U.state=me,U.context=Be,S=Q):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{U=f.stateNode,w1(u,f),Q=f.memoizedProps,Be=f.type===f.elementType?Q:Ir(f.type,Q),U.props=Be,at=f.pendingProps,nt=U.context,me=y.contextType,typeof me=="object"&&me!==null?me=or(me):(me=Jn(y)?Pr:Mn.current,me=ho(f,me));var Vt=y.getDerivedStateFromProps;(Ve=typeof Vt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==at||nt!==me)&&B1(f,U,S,me),po=!1,nt=f.memoizedState,U.state=nt,Nd(f,S,U,w);var qe=f.memoizedState;Q!==at||nt!==qe||Ht.current||po?(typeof Vt=="function"&&($y(f,y,Vt,S),qe=f.memoizedState),(Be=po||R1(f,y,Be,S,nt,qe,me)||!1)?(Ve||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(S,qe,me),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(S,qe,me)),typeof U.componentDidUpdate=="function"&&(f.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=qe),U.props=S,U.state=qe,U.context=me,S=Be):(typeof U.componentDidUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&nt===u.memoizedState||(f.flags|=1024),S=!1)}return xv(u,f,y,S,T,w)}function xv(u,f,y,S,w,T){mE(u,f);var U=(f.flags&128)!==0;if(!S&&!U)return w&&A1(f,y,!1),Ls(u,f,T);S=f.stateNode,mN.current=f;var Q=U&&typeof y.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,u!==null&&U?(f.child=Ul(f,u.child,null,T),f.child=Ul(f,null,Q,T)):hi(u,f,Q,T),f.memoizedState=S.state,w&&A1(f,y,!0),f.child}function yE(u){var f=u.stateNode;f.pendingContext?v1(u,f.pendingContext,f.pendingContext!==f.context):f.context&&v1(u,f.context,!1),ov(u,f.containerInfo)}function vE(u,f,y,S,w){return Ol(),sv(w),f.flags|=256,hi(u,f,y,S),f.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Zd(u){return{baseLanes:u,cachePool:null}}function xE(u,f,y){var S=f.pendingProps,w=nn.current,T=!1,U=(f.flags&128)!==0,Q;if((Q=U)||(Q=u!==null&&u.memoizedState===null?!1:(w&2)!==0),Q?(T=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(w|=1),dt(nn,w&1),u===null)return rv(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?Iu(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(w=S.children,u=S.fallback,T?(S=f.mode,T=f.child,w={mode:"hidden",children:w},!(S&1)&&T!==null?(T.childLanes=0,T.pendingProps=w):T=vp(w,S,0,null),u=Ta(u,S,y,null),T.return=f,u.return=f,T.sibling=u,f.child=T,f.child.memoizedState=Zd(y),f.memoizedState=qd,u):Av(f,w));if(w=u.memoizedState,w!==null){if(Q=w.dehydrated,Q!==null){if(U)return f.flags&256?(f.flags&=-257,$d(u,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(T=S.fallback,w=f.mode,S=vp({mode:"visible",children:S.children},w,0,null),T=Ta(T,w,y,null),T.flags|=2,S.return=f,T.return=f,S.sibling=T,f.child=S,f.mode&1&&Ul(f,u.child,null,y),f.child.memoizedState=Zd(y),f.memoizedState=qd,T);if(!(f.mode&1))f=$d(u,f,y,null);else if(Iu(Q))f=$d(u,f,y,Error(o(419)));else if(S=(y&u.childLanes)!==0,ki||S){if(S=Sn,S!==null){switch(y&-y){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}S=T&(S.suspendedLanes|y)?0:T,S!==0&&S!==w.retryLane&&(w.retryLane=S,fr(u,S,-1))}zv(),f=$d(u,f,y,Error(o(421)))}else Ed(Q)?(f.flags|=128,f.child=u.child,f=bN.bind(null,u),zy(Q,f),f=null):(y=w.treeContext,ae&&(Ui=re(Q),Oi=f,Zt=!0,Lr=null,Fu=!1,y!==null&&(ar[lr++]=Ps,ar[lr++]=Bs,ar[lr++]=xa,Ps=y.id,Bs=y.overflow,xa=f)),f=Av(f,f.pendingProps.children),f.flags|=4096);return f}return T?(S=_E(u,f,S.children,S.fallback,y),T=f.child,w=u.child.memoizedState,T.memoizedState=w===null?Zd(y):{baseLanes:w.baseLanes|y,cachePool:null},T.childLanes=u.childLanes&~y,f.memoizedState=qd,S):(y=AE(u,f,S.children,y),f.memoizedState=null,y)}return T?(S=_E(u,f,S.children,S.fallback,y),T=f.child,w=u.child.memoizedState,T.memoizedState=w===null?Zd(y):{baseLanes:w.baseLanes|y,cachePool:null},T.childLanes=u.childLanes&~y,f.memoizedState=qd,S):(y=AE(u,f,S.children,y),f.memoizedState=null,y)}function Av(u,f){return f=vp({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function AE(u,f,y,S){var w=u.child;return u=w.sibling,y=Ao(w,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=S),y.return=f,y.sibling=null,u!==null&&(S=f.deletions,S===null?(f.deletions=[u],f.flags|=16):S.push(u)),f.child=y}function _E(u,f,y,S,w){var T=f.mode;u=u.child;var U=u.sibling,Q={mode:"hidden",children:y};return!(T&1)&&f.child!==u?(y=f.child,y.childLanes=0,y.pendingProps=Q,f.deletions=null):(y=Ao(u,Q),y.subtreeFlags=u.subtreeFlags&14680064),U!==null?S=Ao(U,S):(S=Ta(S,T,w,null),S.flags|=2),S.return=f,y.return=f,y.sibling=S,f.child=y,S}function $d(u,f,y,S){return S!==null&&sv(S),Ul(f,u.child,null,y),u=Av(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function ME(u,f,y){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),qy(u.return,f,y)}function _v(u,f,y,S,w){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:w}:(T.isBackwards=f,T.rendering=null,T.renderingStartTime=0,T.last=S,T.tail=y,T.tailMode=w)}function SE(u,f,y){var S=f.pendingProps,w=S.revealOrder,T=S.tail;if(hi(u,f,S.children,y),S=nn.current,S&2)S=S&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ME(u,y,f);else if(u.tag===19)ME(u,y,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(dt(nn,S),!(f.mode&1))f.memoizedState=null;else switch(w){case"forwards":for(y=f.child,w=null;y!==null;)u=y.alternate,u!==null&&Gd(u)===null&&(w=y),y=y.sibling;y=w,y===null?(w=f.child,f.child=null):(w=y.sibling,y.sibling=null),_v(f,!1,w,y,T);break;case"backwards":for(y=null,w=f.child,f.child=null;w!==null;){if(u=w.alternate,u!==null&&Gd(u)===null){f.child=w;break}u=w.sibling,w.sibling=y,y=w,w=u}_v(f,!0,y,null,T);break;case"together":_v(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ls(u,f,y){if(u!==null&&(f.dependencies=u.dependencies),Vl|=f.lanes,!(y&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,y=Ao(u,u.pendingProps),f.child=y,y.return=f;u.sibling!==null;)u=u.sibling,y=y.sibling=Ao(u,u.pendingProps),y.return=f;y.sibling=null}return f.child}function gN(u,f,y){switch(f.tag){case 3:yE(f),Ol();break;case 5:k1(f);break;case 1:Jn(f.type)&&Cd(f);break;case 4:ov(f,f.stateNode.containerInfo);break;case 10:E1(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(dt(nn,nn.current&1),f.flags|=128,null):y&f.child.childLanes?xE(u,f,y):(dt(nn,nn.current&1),u=Ls(u,f,y),u!==null?u.sibling:null);dt(nn,nn.current&1);break;case 19:if(S=(y&f.childLanes)!==0,u.flags&128){if(S)return SE(u,f,y);f.flags|=128}var w=f.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),dt(nn,nn.current),S)break;return null;case 22:case 23:return f.lanes=0,pE(u,f,y)}return Ls(u,f,y)}function yN(u,f){switch(nv(f),f.tag){case 1:return Jn(f.type)&&wd(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return zl(),Ut(Ht),Ut(Mn),cv(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return av(f),null;case 13:if(Ut(nn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Ol()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Ut(nn),null;case 4:return zl(),null;case 10:return Qy(f.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var ep=!1,Ma=!1,vN=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function tp(u,f){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){Ci(u,f,S)}else y.current=null}function Mv(u,f,y){try{y()}catch(S){Ci(u,f,S)}}var EE=!1;function xN(u,f){for(V(u.containerInfo),Ne=f;Ne!==null;)if(u=Ne,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Ne=f;else for(;Ne!==null;){u=Ne;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,w=y.memoizedState,T=u.stateNode,U=T.getSnapshotBeforeUpdate(u.elementType===u.type?S:Ir(u.type,S),w);T.__reactInternalSnapshotBeforeUpdate=U}break;case 3:_e&&ze(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Q){Ci(u,u.return,Q)}if(f=u.sibling,f!==null){f.return=u.return,Ne=f;break}Ne=u.return}return y=EE,EE=!1,y}function Sa(u,f,y){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var w=S=S.next;do{if((w.tag&u)===u){var T=w.destroy;w.destroy=void 0,T!==void 0&&Mv(f,y,T)}w=w.next}while(w!==S)}}function Xu(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&u)===u){var S=y.create;y.destroy=S()}y=y.next}while(y!==f)}}function Sv(u){var f=u.ref;if(f!==null){var y=u.stateNode;switch(u.tag){case 5:u=oe(y);break;default:u=y}typeof f=="function"?f(u):f.current=u}}function wE(u,f,y){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Pd,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var S=u=u.next;do{var w=S,T=w.destroy;w=w.tag,T!==void 0&&(w&2||w&4)&&Mv(f,y,T),S=S.next}while(S!==u)}break;case 1:if(tp(f,y),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(U){Ci(f,y,U)}break;case 5:tp(f,y);break;case 4:_e?BE(u,f,y):de&&de&&(f=f.stateNode.containerInfo,y=Ft(f),Tr(f,y))}}function CE(u,f,y){for(var S=f;;)if(wE(u,S,y),S.child===null||_e&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function TE(u){var f=u.alternate;f!==null&&(u.alternate=null,TE(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&We(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function bE(u){return u.tag===5||u.tag===3||u.tag===4}function RE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||bE(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function PE(u){if(_e){e:{for(var f=u.return;f!==null;){if(bE(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(ft(f),y.flags&=-33),y=RE(u),wv(u,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=RE(u),Ev(u,y,f);break;default:throw Error(o(161))}}}function Ev(u,f,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?ve(y,u,f):Oe(y,u);else if(S!==4&&(u=u.child,u!==null))for(Ev(u,f,y),u=u.sibling;u!==null;)Ev(u,f,y),u=u.sibling}function wv(u,f,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?se(y,u,f):$e(y,u);else if(S!==4&&(u=u.child,u!==null))for(wv(u,f,y),u=u.sibling;u!==null;)wv(u,f,y),u=u.sibling}function BE(u,f,y){for(var S=f,w=!1,T,U;;){if(!w){w=S.return;e:for(;;){if(w===null)throw Error(o(160));switch(T=w.stateNode,w.tag){case 5:U=!1;break e;case 3:T=T.containerInfo,U=!0;break e;case 4:T=T.containerInfo,U=!0;break e}w=w.return}w=!0}if(S.tag===5||S.tag===6)CE(u,S,y),U?Ze(T,S.stateNode):be(T,S.stateNode);else if(S.tag===18)U?Mt(T,S.stateNode):At(T,S.stateNode);else if(S.tag===4){if(S.child!==null){T=S.stateNode.containerInfo,U=!0,S.child.return=S,S=S.child;continue}}else if(wE(u,S,y),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(w=!1)}S.sibling.return=S.return,S=S.sibling}}function Cv(u,f){if(_e){switch(f.tag){case 0:case 11:case 14:case 15:Sa(3,f,f.return),Xu(3,f),Sa(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var S=f.memoizedProps;u=u!==null?u.memoizedProps:S;var w=f.type,T=f.updateQueue;f.updateQueue=null,T!==null&&z(y,T,w,u,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,ge(f.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:ae&&u!==null&&u.memoizedState.isDehydrated&&ht(f.stateNode.containerInfo);return;case 12:return;case 13:np(f);return;case 19:np(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:Sa(3,f,f.return),Xu(3,f),Sa(5,f,f.return);return;case 12:return;case 13:np(f);return;case 19:np(f);return;case 3:ae&&u!==null&&u.memoizedState.isDehydrated&&ht(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(de){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Tr(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function np(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new vN),f.forEach(function(S){var w=RN.bind(null,u,S);y.has(S)||(y.add(S),S.then(w,w))})}}function AN(u,f){for(Ne=f;Ne!==null;){f=Ne;var y=f.deletions;if(y!==null)for(var S=0;S<y.length;S++){var w=y[S];try{var T=u;_e?BE(T,w,f):CE(T,w,f);var U=w.alternate;U!==null&&(U.return=null),w.return=null}catch(Qe){Ci(w,f,Qe)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,Ne=y;else for(;Ne!==null;){f=Ne;try{var Q=f.flags;if(Q&32&&_e&&ft(f.stateNode),Q&512){var me=f.alternate;if(me!==null){var Be=me.ref;Be!==null&&(typeof Be=="function"?Be(null):Be.current=null)}}if(Q&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ve=f.alternate;(Ve===null||Ve.memoizedState===null)&&(Lv=On())}break;case 22:var at=f.memoizedState!==null,nt=f.alternate,Vt=nt!==null&&nt.memoizedState!==null;if(y=f,_e){e:if(S=y,w=at,T=null,_e)for(var qe=S;;){if(qe.tag===5){if(T===null){T=qe;var ni=qe.stateNode;w?Gt(ni):he(qe.stateNode,qe.memoizedProps)}}else if(qe.tag===6){if(T===null){var dr=qe.stateNode;w?Y(dr):we(dr,qe.memoizedProps)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===S)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===S)break;for(;qe.sibling===null;){if(qe.return===null||qe.return===S)break e;T===qe&&(T=null),qe=qe.return}T===qe&&(T=null),qe.sibling.return=qe.return,qe=qe.sibling}}if(at&&!Vt&&y.mode&1){Ne=y;for(var le=y.child;le!==null;){for(y=Ne=le;Ne!==null;){S=Ne;var $=S.child;switch(S.tag){case 0:case 11:case 14:case 15:Sa(4,S,S.return);break;case 1:tp(S,S.return);var fe=S.stateNode;if(typeof fe.componentWillUnmount=="function"){var Ue=S.return;try{fe.props=S.memoizedProps,fe.state=S.memoizedState,fe.componentWillUnmount()}catch(Qe){Ci(S,Ue,Qe)}}break;case 5:tp(S,S.return);break;case 22:if(S.memoizedState!==null){DE(y);continue}}$!==null?($.return=S,Ne=$):DE(y)}le=le.sibling}}}switch(Q&4102){case 2:PE(f),f.flags&=-3;break;case 6:PE(f),f.flags&=-3,Cv(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Cv(f.alternate,f);break;case 4:Cv(f.alternate,f)}}catch(Qe){Ci(f,f.return,Qe)}if(y=f.sibling,y!==null){y.return=f.return,Ne=y;break}Ne=f.return}}}function _N(u,f,y){Ne=u,IE(u)}function IE(u,f,y){for(var S=(u.mode&1)!==0;Ne!==null;){var w=Ne,T=w.child;if(w.tag===22&&S){var U=w.memoizedState!==null||ep;if(!U){var Q=w.alternate,me=Q!==null&&Q.memoizedState!==null||Ma;Q=ep;var Be=Ma;if(ep=U,(Ma=me)&&!Be)for(Ne=w;Ne!==null;)U=Ne,me=U.child,U.tag===22&&U.memoizedState!==null?FE(w):me!==null?(me.return=U,Ne=me):FE(w);for(;T!==null;)Ne=T,IE(T),T=T.sibling;Ne=w,ep=Q,Ma=Be}LE(u)}else w.subtreeFlags&8772&&T!==null?(T.return=w,Ne=T):LE(u)}}function LE(u){for(;Ne!==null;){var f=Ne;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ma||Xu(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!Ma)if(y===null)S.componentDidMount();else{var w=f.elementType===f.type?y.memoizedProps:Ir(f.type,y.memoizedProps);S.componentDidUpdate(w,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var T=f.updateQueue;T!==null&&T1(f,T,S);break;case 3:var U=f.updateQueue;if(U!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=oe(f.child.stateNode);break;case 1:y=f.child.stateNode}T1(f,U,y)}break;case 5:var Q=f.stateNode;y===null&&f.flags&4&&Ge(Q,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ae&&f.memoizedState===null){var me=f.alternate;if(me!==null){var Be=me.memoizedState;if(Be!==null){var Ve=Be.dehydrated;Ve!==null&&xt(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ma||f.flags&512&&Sv(f)}catch(at){Ci(f,f.return,at)}}if(f===u){Ne=null;break}if(y=f.sibling,y!==null){y.return=f.return,Ne=y;break}Ne=f.return}}function DE(u){for(;Ne!==null;){var f=Ne;if(f===u){Ne=null;break}var y=f.sibling;if(y!==null){y.return=f.return,Ne=y;break}Ne=f.return}}function FE(u){for(;Ne!==null;){var f=Ne;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{Xu(4,f)}catch(me){Ci(f,y,me)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var w=f.return;try{S.componentDidMount()}catch(me){Ci(f,w,me)}}var T=f.return;try{Sv(f)}catch(me){Ci(f,T,me)}break;case 5:var U=f.return;try{Sv(f)}catch(me){Ci(f,U,me)}}}catch(me){Ci(f,f.return,me)}if(f===u){Ne=null;break}var Q=f.sibling;if(Q!==null){Q.return=f.return,Ne=Q;break}Ne=f.return}}var ip=0,rp=1,sp=2,op=3,ap=4;if(typeof Symbol=="function"&&Symbol.for){var Ku=Symbol.for;ip=Ku("selector.component"),rp=Ku("selector.has_pseudo_class"),sp=Ku("selector.role"),op=Ku("selector.test_id"),ap=Ku("selector.text")}function Tv(u){var f=Se(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=mt(u),u===null)throw Error(o(362));return u.stateNode.current}function bv(u,f){switch(f.$$typeof){case ip:if(u.type===f.value)return!0;break;case rp:e:{f=f.value,u=[u,0];for(var y=0;y<u.length;){var S=u[y++],w=u[y++],T=f[w];if(S.tag!==5||!ce(S)){for(;T!=null&&bv(S,T);)w++,T=f[w];if(w===f.length){f=!0;break e}else for(S=S.child;S!==null;)u.push(S,w),S=S.sibling}}f=!1}return f;case sp:if(u.tag===5&&Ce(u.stateNode,f.value))return!0;break;case ap:if((u.tag===5||u.tag===6)&&(u=D(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case op:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Rv(u){switch(u.$$typeof){case ip:return"<"+(B(u.value)||"Unknown")+">";case rp:return":has("+(Rv(u)||"")+")";case sp:return'[role="'+u.value+'"]';case ap:return'"'+u.value+'"';case op:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function NE(u,f){var y=[];u=[u,0];for(var S=0;S<u.length;){var w=u[S++],T=u[S++],U=f[T];if(w.tag!==5||!ce(w)){for(;U!=null&&bv(w,U);)T++,U=f[T];if(T===f.length)y.push(w);else for(w=w.child;w!==null;)u.push(w,T),w=w.sibling}}return y}function Pv(u,f){if(!tt)throw Error(o(363));u=Tv(u),u=NE(u,f),f=[],u=Array.from(u);for(var y=0;y<u.length;){var S=u[y++];if(S.tag===5)ce(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)u.push(S),S=S.sibling}return f}var MN=Math.ceil,lp=a.ReactCurrentDispatcher,Bv=a.ReactCurrentOwner,vn=a.ReactCurrentBatchConfig,_t=0,Sn=null,En=null,Xn=0,zi=0,Hl=Si(0),Rn=0,Yu=null,Vl=0,cp=0,Iv=0,Qu=null,Ei=null,Lv=0,Dv=1/0;function Wl(){Dv=On()+500}var up=!1,Fv=null,go=null,fp=!1,yo=null,hp=0,qu=0,Nv=null,dp=-1,pp=0;function di(){return _t&6?On():dp!==-1?dp:dp=On()}function vo(u){return u.mode&1?_t&2&&Xn!==0?Xn&-Xn:rN.transition!==null?(pp===0&&(u=Td,Td<<=1,!(Td&4194240)&&(Td=64),pp=u),pp):(u=Pt,u!==0?u:Ie()):1}function fr(u,f,y){if(50<qu)throw qu=0,Nv=null,Error(o(185));var S=mp(u,f);return S===null?null:(Du(S,f,y),(!(_t&2)||S!==Sn)&&(S===Sn&&(!(_t&2)&&(cp|=f),Rn===4&&xo(S,Xn)),wi(S,y),f===1&&_t===0&&!(u.mode&1)&&(Wl(),Bd&&ss())),S)}function mp(u,f){u.lanes|=f;var y=u.alternate;for(y!==null&&(y.lanes|=f),y=u,u=u.return;u!==null;)u.childLanes|=f,y=u.alternate,y!==null&&(y.childLanes|=f),y=u,u=u.return;return y.tag===3?y.stateNode:null}function wi(u,f){var y=u.callbackNode;YF(u,f);var S=Rd(u,u===Sn?Xn:0);if(S===0)y!==null&&M1(y),u.callbackNode=null,u.callbackPriority=0;else if(f=S&-S,u.callbackPriority!==f){if(y!=null&&M1(y),f===1)u.tag===0?iN(UE.bind(null,u)):S1(UE.bind(null,u)),Ke?je(function(){_t===0&&ss()}):Wy(jy,ss),y=null;else{switch(_1(S)){case 1:y=jy;break;case 4:y=$F;break;case 16:y=Jy;break;case 536870912:y=eN;break;default:y=Jy}y=XE(y,OE.bind(null,u))}u.callbackPriority=f,u.callbackNode=y}}function OE(u,f){if(dp=-1,pp=0,_t&6)throw Error(o(327));var y=u.callbackNode;if(Ca()&&u.callbackNode!==y)return null;var S=Rd(u,u===Sn?Xn:0);if(S===0)return null;if(S&30||S&u.expiredLanes||f)f=gp(u,S);else{f=S;var w=_t;_t|=2;var T=GE();(Sn!==u||Xn!==f)&&(Wl(),Ea(u,f));do try{wN();break}catch(Q){zE(u,Q)}while(1);Yy(),lp.current=T,_t=w,En!==null?f=0:(Sn=null,Xn=0,f=Rn)}if(f!==0){if(f===2&&(w=Gy(u),w!==0&&(S=w,f=Ov(u,w))),f===1)throw y=Yu,Ea(u,0),xo(u,S),wi(u,On()),y;if(f===6)xo(u,S);else{if(w=u.current.alternate,!(S&30)&&!SN(w)&&(f=gp(u,S),f===2&&(T=Gy(u),T!==0&&(S=T,f=Ov(u,T))),f===1))throw y=Yu,Ea(u,0),xo(u,S),wi(u,On()),y;switch(u.finishedWork=w,u.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:wa(u,Ei);break;case 3:if(xo(u,S),(S&130023424)===S&&(f=Lv+500-On(),10<f)){if(Rd(u,0)!==0)break;if(w=u.suspendedLanes,(w&S)!==S){di(),u.pingedLanes|=u.suspendedLanes&w;break}u.timeoutHandle=j(wa.bind(null,u,Ei),f);break}wa(u,Ei);break;case 4:if(xo(u,S),(S&4194240)===S)break;for(f=u.eventTimes,w=-1;0<S;){var U=31-Br(S);T=1<<U,U=f[U],U>w&&(w=U),S&=~T}if(S=w,S=On()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*MN(S/1960))-S,10<S){u.timeoutHandle=j(wa.bind(null,u,Ei),S);break}wa(u,Ei);break;case 5:wa(u,Ei);break;default:throw Error(o(329))}}}return wi(u,On()),u.callbackNode===y?OE.bind(null,u):null}function Ov(u,f){var y=Qu;return u.current.memoizedState.isDehydrated&&(Ea(u,f).flags|=256),u=gp(u,f),u!==2&&(f=Ei,Ei=y,f!==null&&Uv(f)),u}function Uv(u){Ei===null?Ei=u:Ei.push.apply(Ei,u)}function SN(u){for(var f=u;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var w=y[S],T=w.getSnapshot;w=w.value;try{if(!rs(T(),w))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function xo(u,f){for(f&=~Iv,f&=~cp,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var y=31-Br(f),S=1<<y;u[y]=-1,f&=~S}}function UE(u){if(_t&6)throw Error(o(327));Ca();var f=Rd(u,0);if(!(f&1))return wi(u,On()),null;var y=gp(u,f);if(u.tag!==0&&y===2){var S=Gy(u);S!==0&&(f=S,y=Ov(u,S))}if(y===1)throw y=Yu,Ea(u,0),xo(u,f),wi(u,On()),y;if(y===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,wa(u,Ei),wi(u,On()),null}function kE(u){yo!==null&&yo.tag===0&&!(_t&6)&&Ca();var f=_t;_t|=1;var y=vn.transition,S=Pt;try{if(vn.transition=null,Pt=1,u)return u()}finally{Pt=S,vn.transition=y,_t=f,!(_t&6)&&ss()}}function kv(){zi=Hl.current,Ut(Hl)}function Ea(u,f){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==Xe&&(u.timeoutHandle=Xe,ke(y)),En!==null)for(y=En.return;y!==null;){var S=y;switch(nv(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&wd();break;case 3:zl(),Ut(Ht),Ut(Mn),cv();break;case 5:av(S);break;case 4:zl();break;case 13:Ut(nn);break;case 19:Ut(nn);break;case 10:Qy(S.type._context);break;case 22:case 23:kv()}y=y.return}if(Sn=u,En=u=Ao(u.current,null),Xn=zi=f,Rn=0,Yu=null,Iv=cp=Vl=0,Ei=Qu=null,os!==null){for(f=0;f<os.length;f++)if(y=os[f],S=y.interleaved,S!==null){y.interleaved=null;var w=S.next,T=y.pending;if(T!==null){var U=T.next;T.next=w,S.next=U}y.pending=S}os=null}return u}function zE(u,f){do{var y=En;try{if(Yy(),Hd.current=Kd,Vd){for(var S=hn.memoizedState;S!==null;){var w=S.queue;w!==null&&(w.pending=null),S=S.next}Vd=!1}if(Gl=0,Un=$n=hn=null,zu=!1,Gu=0,Bv.current=null,y===null||y.return===null){Rn=1,Yu=f,En=null;break}e:{var T=u,U=y.return,Q=y,me=f;if(f=Xn,Q.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Be=me,Ve=Q,at=Ve.tag;if(!(Ve.mode&1)&&(at===0||at===11||at===15)){var nt=Ve.alternate;nt?(Ve.updateQueue=nt.updateQueue,Ve.memoizedState=nt.memoizedState,Ve.lanes=nt.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var Vt=aE(U);if(Vt!==null){Vt.flags&=-257,lE(Vt,U,Q,T,f),Vt.mode&1&&oE(T,Be,f),f=Vt,me=Be;var qe=f.updateQueue;if(qe===null){var ni=new Set;ni.add(me),f.updateQueue=ni}else qe.add(me);break e}else{if(!(f&1)){oE(T,Be,f),zv();break e}me=Error(o(426))}}else if(Zt&&Q.mode&1){var dr=aE(U);if(dr!==null){!(dr.flags&65536)&&(dr.flags|=256),lE(dr,U,Q,T,f),sv(me);break e}}T=me,Rn!==4&&(Rn=2),Qu===null?Qu=[T]:Qu.push(T),me=gv(me,Q),Q=U;do{switch(Q.tag){case 3:Q.flags|=65536,f&=-f,Q.lanes|=f;var le=rE(Q,me,f);C1(Q,le);break e;case 1:T=me;var $=Q.type,fe=Q.stateNode;if(!(Q.flags&128)&&(typeof $.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(go===null||!go.has(fe)))){Q.flags|=65536,f&=-f,Q.lanes|=f;var Ue=sE(Q,T,f);C1(Q,Ue);break e}}Q=Q.return}while(Q!==null)}VE(y)}catch(Qe){f=Qe,En===y&&y!==null&&(En=y=y.return);continue}break}while(1)}function GE(){var u=lp.current;return lp.current=Kd,u===null?Kd:u}function zv(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Sn===null||!(Vl&268435455)&&!(cp&268435455)||xo(Sn,Xn)}function gp(u,f){var y=_t;_t|=2;var S=GE();Sn===u&&Xn===f||Ea(u,f);do try{EN();break}catch(w){zE(u,w)}while(1);if(Yy(),_t=y,lp.current=S,En!==null)throw Error(o(261));return Sn=null,Xn=0,Rn}function EN(){for(;En!==null;)HE(En)}function wN(){for(;En!==null&&!qF();)HE(En)}function HE(u){var f=JE(u.alternate,u,zi);u.memoizedProps=u.pendingProps,f===null?VE(u):En=f,Bv.current=null}function VE(u){var f=u;do{var y=f.alternate;if(u=f.return,f.flags&32768){if(y=yN(y,f),y!==null){y.flags&=32767,En=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Rn=6,En=null;return}}else if(y=pN(y,f,zi),y!==null){En=y;return}if(f=f.sibling,f!==null){En=f;return}En=f=u}while(f!==null);Rn===0&&(Rn=5)}function wa(u,f){var y=Pt,S=vn.transition;try{vn.transition=null,Pt=1,CN(u,f,y)}finally{vn.transition=S,Pt=y}return null}function CN(u,f,y){do Ca();while(yo!==null);if(_t&6)throw Error(o(327));var S=u.finishedWork,w=u.finishedLanes;if(S===null)return null;if(u.finishedWork=null,u.finishedLanes=0,S===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var T=S.lanes|S.childLanes;if(QF(u,T),u===Sn&&(En=Sn=null,Xn=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||fp||(fp=!0,XE(Jy,function(){return Ca(),null})),T=(S.flags&15990)!==0,S.subtreeFlags&15990||T){T=vn.transition,vn.transition=null;var U=Pt;Pt=1;var Q=_t;_t|=4,Bv.current=null,xN(u,S),AN(u,S),H(u.containerInfo),u.current=S,_N(S),ZF(),_t=Q,Pt=U,vn.transition=T}else u.current=S;if(fp&&(fp=!1,yo=u,hp=w),T=u.pendingLanes,T===0&&(go=null),tN(S.stateNode),wi(u,On()),f!==null)for(y=u.onRecoverableError,S=0;S<f.length;S++)y(f[S]);if(up)throw up=!1,u=Fv,Fv=null,u;return hp&1&&u.tag!==0&&Ca(),T=u.pendingLanes,T&1?u===Nv?qu++:(qu=0,Nv=u):qu=0,ss(),null}function Ca(){if(yo!==null){var u=_1(hp),f=vn.transition,y=Pt;try{if(vn.transition=null,Pt=16>u?16:u,yo===null)var S=!1;else{if(u=yo,yo=null,hp=0,_t&6)throw Error(o(331));var w=_t;for(_t|=4,Ne=u.current;Ne!==null;){var T=Ne,U=T.child;if(Ne.flags&16){var Q=T.deletions;if(Q!==null){for(var me=0;me<Q.length;me++){var Be=Q[me];for(Ne=Be;Ne!==null;){var Ve=Ne;switch(Ve.tag){case 0:case 11:case 15:Sa(8,Ve,T)}var at=Ve.child;if(at!==null)at.return=Ve,Ne=at;else for(;Ne!==null;){Ve=Ne;var nt=Ve.sibling,Vt=Ve.return;if(TE(Ve),Ve===Be){Ne=null;break}if(nt!==null){nt.return=Vt,Ne=nt;break}Ne=Vt}}}var qe=T.alternate;if(qe!==null){var ni=qe.child;if(ni!==null){qe.child=null;do{var dr=ni.sibling;ni.sibling=null,ni=dr}while(ni!==null)}}Ne=T}}if(T.subtreeFlags&2064&&U!==null)U.return=T,Ne=U;else e:for(;Ne!==null;){if(T=Ne,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Sa(9,T,T.return)}var le=T.sibling;if(le!==null){le.return=T.return,Ne=le;break e}Ne=T.return}}var $=u.current;for(Ne=$;Ne!==null;){U=Ne;var fe=U.child;if(U.subtreeFlags&2064&&fe!==null)fe.return=U,Ne=fe;else e:for(U=$;Ne!==null;){if(Q=Ne,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Xu(9,Q)}}catch(Qe){Ci(Q,Q.return,Qe)}if(Q===U){Ne=null;break e}var Ue=Q.sibling;if(Ue!==null){Ue.return=Q.return,Ne=Ue;break e}Ne=Q.return}}if(_t=w,ss(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Pd,u)}catch{}S=!0}return S}finally{Pt=y,vn.transition=f}}return!1}function WE(u,f,y){f=gv(y,f),f=rE(u,f,1),mo(u,f),f=di(),u=mp(u,1),u!==null&&(Du(u,1,f),wi(u,f))}function Ci(u,f,y){if(u.tag===3)WE(u,u,y);else for(;f!==null;){if(f.tag===3){WE(f,u,y);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(go===null||!go.has(S))){u=gv(y,u),u=sE(f,u,1),mo(f,u),u=di(),f=mp(f,1),f!==null&&(Du(f,1,u),wi(f,u));break}}f=f.return}}function TN(u,f,y){var S=u.pingCache;S!==null&&S.delete(f),f=di(),u.pingedLanes|=u.suspendedLanes&y,Sn===u&&(Xn&y)===y&&(Rn===4||Rn===3&&(Xn&130023424)===Xn&&500>On()-Lv?Ea(u,0):Iv|=y),wi(u,f)}function jE(u,f){f===0&&(u.mode&1?(f=bd,bd<<=1,!(bd&130023424)&&(bd=4194304)):f=1);var y=di();u=mp(u,f),u!==null&&(Du(u,f,y),wi(u,y))}function bN(u){var f=u.memoizedState,y=0;f!==null&&(y=f.retryLane),jE(u,y)}function RN(u,f){var y=0;switch(u.tag){case 13:var S=u.stateNode,w=u.memoizedState;w!==null&&(y=w.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),jE(u,y)}var JE;JE=function(u,f,y){if(u!==null)if(u.memoizedProps!==f.pendingProps||Ht.current)ki=!0;else{if(!(u.lanes&y)&&!(f.flags&128))return ki=!1,gN(u,f,y);ki=!!(u.flags&131072)}else ki=!1,Zt&&f.flags&1048576&&I1(f,kd,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var w=ho(f,Mn.current);Dl(f,y),w=fv(null,f,S,u,w,y);var T=hv();return f.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Jn(S)?(T=!0,Cd(f)):T=!1,f.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Zy(f),w.updater=Od,f.stateNode=w,w._reactInternals=f,ev(f,S,u,y),f=xv(null,f,S,!0,T,y)):(f.tag=0,Zt&&T&&tv(f),hi(null,f,w,y),f=f.child),f;case 16:S=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,w=S._init,S=w(S._payload),f.type=S,w=f.tag=BN(S),u=Ir(S,u),w){case 0:f=vv(null,f,S,u,y);break e;case 1:f=gE(null,f,S,u,y);break e;case 11:f=fE(null,f,S,u,y);break e;case 14:f=hE(null,f,S,Ir(S.type,u),y);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Ir(S,w),vv(u,f,S,w,y);case 1:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Ir(S,w),gE(u,f,S,w,y);case 3:e:{if(yE(f),u===null)throw Error(o(387));S=f.pendingProps,T=f.memoizedState,w=T.element,w1(u,f),Nd(f,S,null,y);var U=f.memoizedState;if(S=U.element,ae&&T.isDehydrated)if(T={element:S,isDehydrated:!1,cache:U.cache,transitions:U.transitions},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){w=Error(o(423)),f=vE(u,f,S,y,w);break e}else if(S!==w){w=Error(o(424)),f=vE(u,f,S,y,w);break e}else for(ae&&(Ui=ye(f.stateNode.containerInfo),Oi=f,Zt=!0,Lr=null,Fu=!1),y=U1(f,null,S,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Ol(),S===w){f=Ls(u,f,y);break e}hi(u,f,S,y)}f=f.child}return f;case 5:return k1(f),u===null&&rv(f),S=f.type,w=f.pendingProps,T=u!==null?u.memoizedProps:null,U=w.children,Ee(S,w)?U=null:T!==null&&Ee(S,T)&&(f.flags|=32),mE(u,f),hi(u,f,U,y),f.child;case 6:return u===null&&rv(f),null;case 13:return xE(u,f,y);case 4:return ov(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=Ul(f,null,S,y):hi(u,f,S,y),f.child;case 11:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Ir(S,w),fE(u,f,S,w,y);case 7:return hi(u,f,f.pendingProps,y),f.child;case 8:return hi(u,f,f.pendingProps.children,y),f.child;case 12:return hi(u,f,f.pendingProps.children,y),f.child;case 10:e:{if(S=f.type._context,w=f.pendingProps,T=f.memoizedProps,U=w.value,E1(f,S,U),T!==null)if(rs(T.value,U)){if(T.children===w.children&&!Ht.current){f=Ls(u,f,y);break e}}else for(T=f.child,T!==null&&(T.return=f);T!==null;){var Q=T.dependencies;if(Q!==null){U=T.child;for(var me=Q.firstContext;me!==null;){if(me.context===S){if(T.tag===1){me=Rs(-1,y&-y),me.tag=2;var Be=T.updateQueue;if(Be!==null){Be=Be.shared;var Ve=Be.pending;Ve===null?me.next=me:(me.next=Ve.next,Ve.next=me),Be.pending=me}}T.lanes|=y,me=T.alternate,me!==null&&(me.lanes|=y),qy(T.return,y,f),Q.lanes|=y;break}me=me.next}}else if(T.tag===10)U=T.type===f.type?null:T.child;else if(T.tag===18){if(U=T.return,U===null)throw Error(o(341));U.lanes|=y,Q=U.alternate,Q!==null&&(Q.lanes|=y),qy(U,y,f),U=T.sibling}else U=T.child;if(U!==null)U.return=T;else for(U=T;U!==null;){if(U===f){U=null;break}if(T=U.sibling,T!==null){T.return=U.return,U=T;break}U=U.return}T=U}hi(u,f,w.children,y),f=f.child}return f;case 9:return w=f.type,S=f.pendingProps.children,Dl(f,y),w=or(w),S=S(w),f.flags|=1,hi(u,f,S,y),f.child;case 14:return S=f.type,w=Ir(S,f.pendingProps),w=Ir(S.type,w),hE(u,f,S,w,y);case 15:return dE(u,f,f.type,f.pendingProps,y);case 17:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Ir(S,w),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Jn(S)?(u=!0,Cd(f)):u=!1,Dl(f,y),P1(f,S,w),ev(f,S,w,y),xv(null,f,S,!0,u,y);case 19:return SE(u,f,y);case 22:return pE(u,f,y)}throw Error(o(156,f.tag))};function XE(u,f){return Wy(u,f)}function PN(u,f,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(u,f,y,S){return new PN(u,f,y,S)}function Gv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function BN(u){if(typeof u=="function")return Gv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===x)return 11;if(u===A)return 14}return 2}function Ao(u,f){var y=u.alternate;return y===null?(y=hr(u.tag,f,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=f,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,f=u.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function yp(u,f,y,S,w,T){var U=2;if(S=u,typeof u=="function")Gv(u)&&(U=1);else if(typeof u=="string")U=5;else e:switch(u){case h:return Ta(y.children,w,T,f);case d:U=8,w|=8;break;case p:return u=hr(12,y,f,w|2),u.elementType=p,u.lanes=T,u;case _:return u=hr(13,y,f,w),u.elementType=_,u.lanes=T,u;case g:return u=hr(19,y,f,w),u.elementType=g,u.lanes=T,u;case E:return vp(y,w,T,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:U=10;break e;case v:U=9;break e;case x:U=11;break e;case A:U=14;break e;case M:U=16,S=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=hr(U,y,f,w),f.elementType=u,f.type=S,f.lanes=T,f}function Ta(u,f,y,S){return u=hr(7,u,S,f),u.lanes=y,u}function vp(u,f,y,S){return u=hr(22,u,S,f),u.elementType=E,u.lanes=y,u.stateNode={},u}function Hv(u,f,y){return u=hr(6,u,null,f),u.lanes=y,u}function Vv(u,f,y){return f=hr(4,u.children!==null?u.children:[],u.key,f),f.lanes=y,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function IN(u,f,y,S,w){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hy(0),this.expirationTimes=Hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hy(0),this.identifierPrefix=S,this.onRecoverableError=w,ae&&(this.mutableSourceEagerHydrationData=null)}function KE(u,f,y,S,w,T,U,Q,me){return u=new IN(u,f,y,Q,me),f===1?(f=1,T===!0&&(f|=8)):f=0,T=hr(3,null,null,f),u.current=T,T.stateNode=u,T.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null},Zy(T),u}function YE(u){if(!u)return Zn;u=u._reactInternals;e:{if(b(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Jn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var y=u.type;if(Jn(y))return x1(u,y,f)}return f}function QE(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=J(f),u===null?null:u.stateNode}function qE(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<f?y:f}}function Wv(u,f){qE(u,f),(u=u.alternate)&&qE(u,f)}function LN(u){return u=J(u),u===null?null:u.stateNode}function DN(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=di();fr(u,134217728,f),Wv(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=di(),y=vo(u);fr(u,y,f),Wv(u,y)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var y=Lu(f.pendingLanes);y!==0&&(Vy(f,y|1),wi(f,On()),!(_t&6)&&(Wl(),ss()))}break;case 13:var S=di();kE(function(){return fr(u,1,S)}),Wv(u,1)}},t.batchedUpdates=function(u,f){var y=_t;_t|=1;try{return u(f)}finally{_t=y,_t===0&&(Wl(),Bd&&ss())}},t.createComponentSelector=function(u){return{$$typeof:ip,value:u}},t.createContainer=function(u,f,y,S,w,T,U){return KE(u,f,!1,null,y,S,w,T,U)},t.createHasPseudoClassSelector=function(u){return{$$typeof:rp,value:u}},t.createHydrationContainer=function(u,f,y,S,w,T,U,Q,me){return u=KE(y,S,!0,u,w,T,U,Q,me),u.context=YE(null),y=u.current,S=di(),w=vo(y),T=Rs(S,w),T.callback=f??null,mo(y,T),u.current.lanes=w,Du(u,w,S),wi(u,S),u},t.createPortal=function(u,f,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:u,containerInfo:f,implementation:y}},t.createRoleSelector=function(u){return{$$typeof:sp,value:u}},t.createTestNameSelector=function(u){return{$$typeof:op,value:u}},t.createTextSelector=function(u){return{$$typeof:ap,value:u}},t.deferredUpdates=function(u){var f=Pt,y=vn.transition;try{return vn.transition=null,Pt=16,u()}finally{Pt=f,vn.transition=y}},t.discreteUpdates=function(u,f,y,S,w){var T=Pt,U=vn.transition;try{return vn.transition=null,Pt=1,u(f,y,S,w)}finally{Pt=T,vn.transition=U,_t===0&&Wl()}},t.findAllNodes=Pv,t.findBoundingRects=function(u,f){if(!tt)throw Error(o(363));f=Pv(u,f),u=[];for(var y=0;y<f.length;y++)u.push(k(f[y]));for(f=u.length-1;0<f;f--){y=u[f];for(var S=y.x,w=S+y.width,T=y.y,U=T+y.height,Q=f-1;0<=Q;Q--)if(f!==Q){var me=u[Q],Be=me.x,Ve=Be+me.width,at=me.y,nt=at+me.height;if(S>=Be&&T>=at&&w<=Ve&&U<=nt){u.splice(f,1);break}else if(S!==Be||y.width!==me.width||nt<T||at>U){if(!(T!==at||y.height!==me.height||Ve<S||Be>w)){Be>S&&(me.width+=Be-S,me.x=S),Ve<w&&(me.width=w-Be),u.splice(f,1);break}}else{at>T&&(me.height+=at-T,me.y=T),nt<U&&(me.height=U-at),u.splice(f,1);break}}}return u},t.findHostInstance=QE,t.findHostInstanceWithNoPortals=function(u){return u=G(u),u=u!==null?K(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return QE(u)},t.flushControlled=function(u){var f=_t;_t|=1;var y=vn.transition,S=Pt;try{vn.transition=null,Pt=1,u()}finally{Pt=S,vn.transition=y,_t=f,_t===0&&(Wl(),ss())}},t.flushPassiveEffects=Ca,t.flushSync=kE,t.focusWithin=function(u,f){if(!tt)throw Error(o(363));for(u=Tv(u),f=NE(u,f),f=Array.from(f),u=0;u<f.length;){var y=f[u++];if(!ce(y)){if(y.tag===5&&Te(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(u,f){if(!tt)throw Error(o(363));var y=0,S=[];u=[Tv(u),0];for(var w=0;w<u.length;){var T=u[w++],U=u[w++],Q=f[U];if((T.tag!==5||!ce(T))&&(bv(T,Q)&&(S.push(Rv(Q)),U++,U>y&&(y=U)),U<f.length))for(T=T.child;T!==null;)u.push(T,U),T=T.sibling}if(y<f.length){for(u=[];y<f.length;y++)u.push(Rv(f[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return oe(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:LN,findFiberByHostInstance:u.findFiberByHostInstance||DN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Pd=f.inject(u),is=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,y,S){if(!tt)throw Error(o(363));u=Pv(u,f);var w=Pe(u,y,S).disconnect;return{disconnect:function(){w()}}},t.registerMutableSourceForHydration=function(u,f){var y=f._getVersion;y=y(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,y]:u.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(u,f){var y=Pt;try{return Pt=u,f()}finally{Pt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,y,S){var w=f.current,T=di(),U=vo(w);return y=YE(y),f.context===null?f.context=y:f.pendingContext=y,f=Rs(T,U),f.payload={element:u},S=S===void 0?null:S,S!==null&&(f.callback=S),mo(w,f),u=fr(w,U,T),u!==null&&Fd(u,w,U),U},t};u2.exports=U9;var k9=u2.exports;const z9=zh(k9);var f2={exports:{}},h2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var ee=H-1>>>1,Z=L[ee];if(0<r(Z,V))L[ee]=V,L[H]=Z,H=ee;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var ee=0,Z=L.length,ne=Z>>>1;ee<ne;){var ie=2*(ee+1)-1,Ee=L[ie],pe=ie+1,j=L[pe];if(0>r(Ee,H))pe<Z&&0>r(j,Ee)?(L[ee]=j,L[pe]=H,ee=pe):(L[ee]=Ee,L[ie]=H,ee=ie);else if(pe<Z&&0>r(j,H))L[ee]=j,L[pe]=H,ee=pe;else break e}}return V}function r(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(L){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=L)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function E(L){if(x=!1,M(L),!v)if(t(l)!==null)v=!0,oe(C);else{var V=t(c);V!==null&&te(E,V.startTime-L)}}function C(L,V){v=!1,x&&(x=!1,g(P),P=-1),m=!0;var H=p;try{for(M(V),d=t(l);d!==null&&(!(d.expirationTime>V)||L&&!G());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var Z=ee(d.expirationTime<=V);V=n.unstable_now(),typeof Z=="function"?d.callback=Z:d===t(l)&&i(l),M(V)}else i(l);d=t(l)}if(d!==null)var ne=!0;else{var ie=t(c);ie!==null&&te(E,ie.startTime-V),ne=!1}return ne}finally{d=null,p=H,m=!1}}var R=!1,B=null,P=-1,b=5,I=-1;function G(){return!(n.unstable_now()-I<b)}function J(){if(B!==null){var L=n.unstable_now();I=L;var V=!0;try{V=B(!0,L)}finally{V?W():(R=!1,B=null)}}else R=!1}var W;if(typeof A=="function")W=function(){A(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=J,W=function(){X.postMessage(null)}}else W=function(){_(J,0)};function oe(L){B=L,R||(R=!0,W())}function te(L,V){P=_(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,oe(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return L()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return V()}finally{p=H}},n.unstable_scheduleCallback=function(L,V,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,L={id:h++,callback:V,priorityLevel:L,startTime:H,expirationTime:Z,sortIndex:-1},H>ee?(L.sortIndex=H,e(c,L),t(l)===null&&L===t(c)&&(x?(g(P),P=-1):x=!0,te(E,H-ee))):(L.sortIndex=Z,e(l,L),v||m||(v=!0,oe(C))),L},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(L){var V=p;return function(){var H=p;p=V;try{return L.apply(this,arguments)}finally{p=H}}}})(h2);f2.exports=h2;var GT=f2.exports;function d2(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const Ws=[];function p2(n,e,t=!1,i={}){for(const s of Ws)if(d2(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=Ws.indexOf(r);s!==-1&&Ws.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(Ws.push(r),!t)throw r.promise}const G9=(n,e,t)=>p2(n,e,!1,t),H9=(n,e,t)=>void p2(n,e,!0,t),V9=n=>{if(n===void 0||n.length===0)Ws.splice(0,Ws.length);else{const e=Ws.find(t=>d2(n,t.keys,t.equal));if(e){const t=Ws.indexOf(e);t!==-1&&Ws.splice(t,1)}}},NS={},W9=n=>void Object.assign(NS,n);function j9(n,e){function t(h,{args:d=[],attach:p,...m},v){let x=`${h[0].toUpperCase()}${h.slice(1)}`,_;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;_=yc(g,{type:h,root:v,attach:p,primitive:!0})}else{const g=NS[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=yc(new g(...d),{type:h,root:v,attach:p,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof ut?_.__r3f.attach="geometry":_ instanceof bn&&(_.__r3f.attach="material")),x!=="inject"&&$0(_,m),_}function i(h,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?Z0(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(v=h.__r3f)==null||v.objects.push(d),d.__r3f||yc(d,{}),d.__r3f.parent=h,m_(d),vc(d)}}function r(h,d,p){let m=!1;if(d){var v,x;if((v=d.__r3f)!=null&&v.attach)Z0(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"});const _=h.children.filter(A=>A!==d),g=_.indexOf(p);h.children=[..._.slice(0,g),d,..._.slice(g)],m=!0}m||(x=h.__r3f)==null||x.objects.push(d),d.__r3f||yc(d,{}),d.__r3f.parent=h,m_(d),vc(d)}}function s(h,d,p=!1){h&&[...h].forEach(m=>o(d,m,p))}function o(h,d,p){if(d){var m,v,x;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(E=>E!==d)),(v=d.__r3f)!=null&&v.attach)JT(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var _;h.remove(d),(_=d.__r3f)!=null&&_.root&&$9(d.__r3f.root,d)}const A=(x=d.__r3f)==null?void 0:x.primitive,M=p===void 0?d.dispose!==null&&!A:p;if(!A){var g;s((g=d.__r3f)==null?void 0:g.objects,d,M),s(d.children,d,M)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,A||delete d.__r3f),M&&d.dispose&&d.type!=="Scene"&&GT.unstable_scheduleCallback(GT.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),vc(h)}}function a(h,d,p,m){var v;const x=(v=h.__r3f)==null?void 0:v.parent;if(!x)return;const _=t(d,p,h.__r3f.root);if(h.children){for(const g of h.children)g.__r3f&&i(_,g);h.children=h.children.filter(g=>!g.__r3f)}h.__r3f.objects.forEach(g=>i(_,g)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(x,h),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),i(x,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=_,g.ref&&(typeof g.ref=="function"?g.ref(_):g.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:z9({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const m=h.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,p,m){if(h.__r3f.primitive&&m.object&&m.object!==h)return[!0];{const{args:v=[],children:x,..._}=m,{args:g=[],children:A,...M}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((C,R)=>C!==g[R]))return[!0];const E=_2(h,_,M,!0);return E.changes.length?[!1,E]:null}},commitUpdate(h,[d,p],m,v,x,_){d?a(h,m,x,_):$0(h,p)},commitMount(h,d,p,m){var v;const x=(v=h.__r3f)!=null?v:{};h.raycast&&x.handlers&&x.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>yc(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:m}=(d=h.__r3f)!=null?d:{};p&&m&&JT(m,h,p),h.isObject3D&&(h.visible=!1),vc(h)},unhideInstance(h,d){var p;const{attach:m,parent:v}=(p=h.__r3f)!=null?p:{};m&&v&&Z0(v,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),vc(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Nc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yt.fun(performance.now)?performance.now:Yt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:$0}}var HT,VT;const q0=n=>"colorSpace"in n||"outputColorSpace"in n,m2=()=>{var n;return(n=NS.ColorManagement)!=null?n:null},g2=n=>n&&n.isOrthographicCamera,J9=n=>n&&n.hasOwnProperty("current"),pd=typeof window<"u"&&((HT=window.document)!=null&&HT.createElement||((VT=window.navigator)==null?void 0:VT.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function y2(n){const e=N.useRef(n);return pd(()=>void(e.current=n),[n]),e}function X9({set:n}){return pd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class v2 extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}v2.getDerivedStateFromError=()=>({error:!0});const x2="__default",WT=new Map,K9=n=>n&&!!n.memoized&&!!n.changes;function A2(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const yf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Yt={obj:n=>n===Object(n)&&!Yt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Yt.str(n)||Yt.num(n))return n===e;const s=Yt.obj(n);if(s&&i==="reference")return n===e;const o=Yt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Yt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Yt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Y9(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Q9(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function yc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function p_(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const jT=/-\d+$/;function Z0(n,e,t){if(Yt.str(t)){if(jT.test(t)){const s=t.replace(jT,""),{target:o,key:a}=p_(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=p_(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function JT(n,e,t){var i,r;if(Yt.str(t)){const{target:s,key:o}=p_(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function _2(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var h;const d=(h=n==null?void 0:n.__r3f)!=null?h:{},p=Object.entries(r),m=[];if(c){const x=Object.keys(l);for(let _=0;_<x.length;_++)r.hasOwnProperty(x[_])||p.unshift([x[_],x2+"remove"])}p.forEach(([x,_])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&x==="object"||Yt.equ(_,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,_,!0,[]]);let A=[];x.includes("-")&&(A=x.split("-")),m.push([x,_,!1,A]);for(const M in r){const E=r[M];M.startsWith(`${x}-`)&&m.push([M,E,!1,M.split("-")])}});const v={...r};return d.memoizedProps&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:m}}function $0(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=K9(e)?e:_2(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,x,_]=c[p];if(q0(n)){const E="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?E:C):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?E:C)}let g=n,A=g[m];if(_.length&&(A=_.reduce((M,E)=>M[E],n),!(A&&A.set))){const[M,...E]=_.reverse();g=E.reverse().reduce((C,R)=>C[R],n),m=M}if(v===x2+"remove")if(g.constructor){let M=WT.get(g.constructor);M||(M=new g.constructor,WT.set(g.constructor,M)),v=M[m]}else v=0;if(x)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(A&&A.set&&(A.copy||A instanceof ll)){if(Array.isArray(v))A.fromArray?A.fromArray(v):A.set(...v);else if(A.copy&&v&&v.constructor&&A.constructor===v.constructor)A.copy(v);else if(v!==void 0){const M=A instanceof Fe;!M&&A.setScalar?A.setScalar(v):A instanceof ll&&v instanceof ll?A.mask=v.mask:A.set(v),!m2()&&!a.linear&&M&&A.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof tn&&g[m].format===Pi&&g[m].type===ro){const M=g[m];q0(M)&&q0(a.gl)?M.colorSpace=a.gl.outputColorSpace:M.encoding=a.gl.outputEncoding}vc(n)}if(s.parent&&a.internal&&n.raycast&&h!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&m_(n),n}function vc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function m_(n){n.onUpdate==null||n.onUpdate(n)}function q9(n,e){n.manual||(g2(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Sm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Z9(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Nc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Nc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Nc.ContinuousEventPriority;default:return Nc.DefaultEventPriority}}function M2(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function $9(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{M2(t.capturedMap,e,i,r)})}function e8(n){function e(l){const{internal:c}=n.getState(),h=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,c){const h=n.getState(),d=new Set,p=[],m=c?c(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const A=yf(m[g]);A&&(A.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const A=yf(g);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var M;A.events.compute==null||A.events.compute(l,A,(M=A.previousRoot)==null?void 0:M.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,A)=>{const M=yf(g.object),E=yf(A.object);return!M||!E?g.distance-A.distance:E.events.priority-M.events.priority||g.distance-A.distance}).filter(g=>{const A=Sm(g);return d.has(A)?!1:(d.add(A),!0)});h.events.filter&&(x=h.events.filter(x,h));for(const g of x){let A=g.object;for(;A;){var _;(_=A.__r3f)!=null&&_.eventCount&&p.push({...g,eventObject:A}),A=A.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(Sm(g.intersection))||p.push(g.intersection);return p}function r(l,c,h,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=yf(v.object)||p,{raycaster:_,pointer:g,camera:A,internal:M}=x,E=new F(g.x,g.y,0).unproject(A),C=I=>{var G,J;return(G=(J=M.capturedMap.get(I))==null?void 0:J.has(v.eventObject))!=null?G:!1},R=I=>{const G={intersection:v,target:c.target};M.capturedMap.has(I)?M.capturedMap.get(I).set(v.eventObject,G):M.capturedMap.set(I,new Map([[v.eventObject,G]])),c.target.setPointerCapture(I)},B=I=>{const G=M.capturedMap.get(I);G&&M2(M.capturedMap,v.eventObject,G,I)};let P={};for(let I in c){let G=c[I];typeof G!="function"&&(P[I]=G)}let b={...v,...P,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:E,ray:_.ray,camera:A,stopPropagation(){const I="pointerId"in c&&M.capturedMap.get(c.pointerId);if((!I||I.has(v.eventObject))&&(b.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(G=>G.eventObject===v.eventObject))){const G=l.slice(0,l.indexOf(v));s([...G,v])}},target:{hasPointerCapture:C,setPointerCapture:R,releasePointerCapture:B},currentTarget:{hasPointerCapture:C,setPointerCapture:R,releasePointerCapture:B},nativeEvent:c};if(d(b),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const h of c.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Sm(h)),p!=null&&p.eventCount){const v={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let h=0;h<c.length;h++){const d=c[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=h;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=i(h,m?t:void 0),g=v?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=_.map(M=>M.eventObject)),v&&!_.length&&g<=2&&(o(h,p.interaction),d&&d(h)),m&&s(_);function A(M){const E=M.eventObject,C=E.__r3f,R=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const B=Sm(M),P=p.hovered.get(B);P?P.stopped&&M.stopPropagation():(p.hovered.set(B,M),R.onPointerOver==null||R.onPointerOver(M),R.onPointerEnter==null||R.onPointerEnter(M))}R.onPointerMove==null||R.onPointerMove(M)}else{const B=R[l];B?(!v||p.initialHits.includes(E))&&(o(h,p.interaction.filter(P=>!p.initialHits.includes(P))),B(M)):v&&p.initialHits.includes(E)&&o(h,p.interaction.filter(P=>!p.initialHits.includes(P)))}}r(_,h,g,A)}}return{handlePointer:a}}const S2=n=>!!(n!=null&&n.render),E2=N.createContext(null),t8=(n,e)=>{const t=c2((a,l)=>{const c=new F,h=new F,d=new F;function p(g=l().camera,A=h,M=l().size){const{width:E,height:C,top:R,left:B}=M,P=E/C;A instanceof F?d.copy(A):d.set(...A);const b=g.getWorldPosition(c).distanceTo(d);if(g2(g))return{width:E/g.zoom,height:C/g.zoom,top:R,left:B,factor:1,distance:b,aspect:P};{const I=g.fov*Math.PI/180,G=2*Math.tan(I/2)*b,J=G*(E/C);return{width:J,height:G,top:R,left:B,factor:E/J,distance:b,aspect:P}}}let m;const v=g=>a(A=>({performance:{...A.performance,current:g}})),x=new Ae;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,A)=>e(g,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new IS,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(A=>({...A,events:{...A.events,...g}})),setSize:(g,A,M,E,C)=>{const R=l().camera,B={width:g,height:A,top:E||0,left:C||0,updateStyle:M};a(P=>({size:B,viewport:{...P.viewport,...p(R,h,B)}}))},setDpr:g=>a(A=>{const M=A2(g);return{viewport:{...A.viewport,dpr:M,initialDpr:A.viewport.initialDpr||M}}}),setFrameloop:(g="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,g!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,A,M)=>{const E=l().internal;return E.priority=E.priority+(A>0?1:0),E.subscribers.push({ref:g,priority:A,store:M}),E.subscribers=E.subscribers.sort((C,R)=>C.priority-R.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(A>0?1:0),C.subscribers=C.subscribers.filter(R=>R.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:h,set:d}=t.getState();if(l!==r||c.dpr!==s){var p;r=l,s=c.dpr,q9(a,l),h.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Em,n8=new Set,i8=new Set,r8=new Set;function ex(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function vf(n,e){switch(n){case"before":return ex(n8,e);case"after":return ex(i8,e);case"tail":return ex(r8,e)}}let tx,nx;function ix(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),tx=e.internal.subscribers,Em=0;Em<tx.length;Em++)nx=tx[Em],nx.ref.current(nx.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function s8(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,vf("before",l);for(const h of n.values()){var c;r=h.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=ix(l,r))}if(vf("after",l),t===0)return vf("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var h;if(!l)return n.forEach(d=>o(d.store.getState()),c);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,h,d){if(c&&vf("before",l),h)ix(l,h,d);else for(const p of n.values())ix(l,p.store.getState());c&&vf("after",l)}return{loop:s,invalidate:o,advance:a}}function w2(){const n=N.useContext(E2);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ji(n=t=>t,e){return w2()(n,e)}function OS(n,e=0){const t=w2(),i=t.getState().internal.subscribe,r=y2(n);return pd(()=>i(r,e,t),[e,i,t]),null}function C2(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,Y9(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function ga(n,e,t,i){const r=Array.isArray(e)?e:[e],s=G9(C2(t,i),[n,...r],{equal:Yt.equ});return Array.isArray(e)?s:s[0]}ga.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return H9(C2(t),[n,...i])};ga.clear=function(n,e){const t=Array.isArray(e)?e:[e];return V9([n,...t])};const vu=new Map,{invalidate:XT,advance:KT}=s8(vu),{reconciler:Ig,applyProps:ps}=j9(vu,Z9),pc={objects:"shallow",strict:!1},o8=(n,e)=>{const t=typeof n=="function"?n(e):n;return S2(t)?t:new cS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function a8(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function l8(n){const e=vu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||t8(XT,KT),o=t||Ig.createContainer(s,Nc.ConcurrentRoot,null,!1,null,"",r,null);e||vu.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(h={}){let{gl:d,size:p,scene:m,events:v,onCreated:x,shadows:_=!1,linear:g=!1,flat:A=!1,legacy:M=!1,orthographic:E=!1,frameloop:C="always",dpr:R=[1,2],performance:B,raycaster:P,camera:b,onPointerMissed:I}=h,G=s.getState(),J=G.gl;G.gl||G.set({gl:J=o8(d,n)});let W=G.raycaster;W||G.set({raycaster:W=new o2});const{params:K,...X}=P||{};if(Yt.equ(X,W,pc)||ps(W,{...X}),Yt.equ(K,W.params,pc)||ps(W,{params:{...W.params,...K}}),!G.camera||G.camera===c&&!Yt.equ(c,b,pc)){c=b;const ee=b instanceof Qh,Z=ee?b:E?new Xr(0,0,0,0,.1,1e3):new Wt(75,0,.1,1e3);ee||(Z.position.z=5,b&&ps(Z,b),!G.camera&&!(b!=null&&b.rotation)&&Z.lookAt(0,0,0)),G.set({camera:Z})}if(!G.scene){let ee;m instanceof Bg?ee=m:(ee=new Bg,m&&ps(ee,m)),G.set({scene:yc(ee)})}if(!G.xr){const ee=(ie,Ee)=>{const pe=s.getState();pe.frameloop!=="never"&&KT(ie,!0,pe,Ee)},Z=()=>{const ie=s.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?ee:null),ie.gl.xr.isPresenting||XT(ie)},ne={connect(){const ie=s.getState().gl;ie.xr.addEventListener("sessionstart",Z),ie.xr.addEventListener("sessionend",Z)},disconnect(){const ie=s.getState().gl;ie.xr.removeEventListener("sessionstart",Z),ie.xr.removeEventListener("sessionend",Z)}};J.xr&&ne.connect(),G.set({xr:ne})}if(J.shadowMap){const ee=J.shadowMap.enabled,Z=J.shadowMap.type;if(J.shadowMap.enabled=!!_,Yt.boo(_))J.shadowMap.type=Jf;else if(Yt.str(_)){var oe;const ne={basic:mI,percentage:ly,soft:Jf,variance:kr};J.shadowMap.type=(oe=ne[_])!=null?oe:Jf}else Yt.obj(_)&&Object.assign(J.shadowMap,_);(ee!==J.shadowMap.enabled||Z!==J.shadowMap.type)&&(J.shadowMap.needsUpdate=!0)}const te=m2();te&&("enabled"in te?te.enabled=!M:"legacyMode"in te&&(te.legacyMode=M)),ps(J,{outputEncoding:g?3e3:3001,toneMapping:A?Jr:JM}),G.legacy!==M&&G.set(()=>({legacy:M})),G.linear!==g&&G.set(()=>({linear:g})),G.flat!==A&&G.set(()=>({flat:A})),d&&!Yt.fun(d)&&!S2(d)&&!Yt.equ(d,J,pc)&&ps(J,d),v&&!G.events.handlers&&G.set({events:v(s)});const H=a8(n,p);return Yt.equ(H,G.size,pc)||G.setSize(H.width,H.height,H.updateStyle,H.top,H.left),R&&G.viewport.dpr!==A2(R)&&G.setDpr(R),G.frameloop!==C&&G.setFrameloop(C),G.onPointerMissed||G.set({onPointerMissed:I}),B&&!Yt.equ(B,G.performance,pc)&&G.set(ee=>({performance:{...ee.performance,...B}})),a=x,l=!0,this},render(h){return l||this.configure(),Ig.updateContainer(N.createElement(c8,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){T2(n)}}}function c8({store:n,children:e,onCreated:t,rootElement:i}){return pd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),N.createElement(E2.Provider,{value:n},e)}function T2(n,e){const t=vu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Ig.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Q9(r),vu.delete(n),e&&e(n)}catch{}},500)})}}Ig.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});function la(){return la=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},la.apply(this,arguments)}function g_(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(l,e)),h&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}g_.debounce=g_;var u8=g_;const YT=zh(u8);function f8(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=N.useRef(!1);N.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=N.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:M,top:E,width:C,height:R,bottom:B,right:P,x:b,y:I}=l.current.element.getBoundingClientRect(),G={left:M,top:E,width:C,height:R,bottom:B,right:P,x:b,y:I};l.current.element instanceof HTMLElement&&r&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),d.current&&!m8(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[A,h?YT(A,h):A,c?YT(A,c):A]},[a,r,c,h]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=A=>{!A||A===l.current.element||(x(),l.current.element=A,l.current.scrollContainers=b2(A),_())};return d8(v,!!t),h8(m),N.useEffect(()=>{x(),_()},[t,v,m]),N.useEffect(()=>x,[]),[g,o,p]}function h8(n){N.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function d8(n,e){N.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function b2(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...b2(n.parentElement)]}const p8=["x","y","top","bottom","left","right","width","height"],m8=(n,e)=>p8.every(t=>n[t]===e[t]);var g8=Object.defineProperty,y8=Object.defineProperties,v8=Object.getOwnPropertyDescriptors,QT=Object.getOwnPropertySymbols,x8=Object.prototype.hasOwnProperty,A8=Object.prototype.propertyIsEnumerable,qT=(n,e,t)=>e in n?g8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ZT=(n,e)=>{for(var t in e||(e={}))x8.call(e,t)&&qT(n,t,e[t]);if(QT)for(var t of QT(e))A8.call(e,t)&&qT(n,t,e[t]);return n},_8=(n,e)=>y8(n,v8(e));function R2(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=R2(i,e,t);if(r)return r;i=e?null:i.sibling}}function P2(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const US=P2(N.createContext(null));class B2 extends N.Component{render(){return N.createElement(US.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:$T,ReactCurrentDispatcher:eb}=N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function M8(){const n=N.useContext(US);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const i of[$T==null?void 0:$T.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=R2(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function S8(){var n,e;const t=M8(),[i]=N.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==US&&!i.has(s)&&i.set(s,(e=eb==null?void 0:eb.current)==null?void 0:e.readContext(P2(s))),r=r.return}return i}function E8(){const n=S8();return N.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>N.createElement(e,null,N.createElement(t.Provider,_8(ZT({},i),{value:n.get(t)}))),e=>N.createElement(B2,ZT({},e))),[n])}const rx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function w8(n){const{handlePointer:e}=e8(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(rx).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=rx[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=rx[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const C8=N.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=w8,eventSource:a,eventPrefix:l,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:_,raycaster:g,camera:A,onPointerMissed:M,onCreated:E,...C},R){N.useMemo(()=>W9(L9),[]);const B=E8(),[P,b]=f8({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=N.useRef(null),G=N.useRef(null);N.useImperativeHandle(R,()=>I.current);const J=y2(M),[W,K]=N.useState(!1),[X,oe]=N.useState(!1);if(W)throw W;if(X)throw X;const te=N.useRef(null);pd(()=>{const V=I.current;b.width>0&&b.height>0&&V&&(te.current||(te.current=l8(V)),te.current.configure({gl:s,events:o,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:_,raycaster:g,camera:A,size:b,onPointerMissed:(...H)=>J.current==null?void 0:J.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(a?J9(a)?a.current:a:G.current),l&&H.setEvents({compute:(ee,Z)=>{const ne=ee[l+"X"],ie=ee[l+"Y"];Z.pointer.set(ne/Z.size.width*2-1,-(ie/Z.size.height)*2+1),Z.raycaster.setFromCamera(Z.pointer,Z.camera)}}),E==null||E(H)}}),te.current.render(N.createElement(B,null,N.createElement(v2,{set:oe},N.createElement(N.Suspense,{fallback:N.createElement(X9,{set:K})},e)))))}),N.useEffect(()=>{const V=I.current;if(V)return()=>T2(V)},[]);const L=a?"none":"auto";return N.createElement("div",la({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:L,...r}},C),N.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},N.createElement("canvas",{ref:I,style:{display:"block"}},t)))}),I2=N.forwardRef(function(e,t){return N.createElement(B2,null,N.createElement(C8,la({},e,{ref:t})))}),md=new F,kS=new F,T8=new F;function b8(n,e,t){const i=md.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function R8(n,e){const t=md.setFromMatrixPosition(n.matrixWorld),i=kS.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(T8);return r.angleTo(s)>Math.PI/2}function P8(n,e,t,i){const r=md.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function B8(n,e){if(e instanceof Xr)return e.zoom;if(e instanceof Wt){const t=md.setFromMatrixPosition(n.matrixWorld),i=kS.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function I8(n,e,t){if(e instanceof Wt||e instanceof Xr){const i=md.setFromMatrixPosition(n.matrixWorld),r=kS.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const y_=n=>Math.abs(n)<1e-10?0:n;function L2(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=y_(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const L8=(n=>e=>L2(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),D8=(n=>(e,t)=>L2(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function F8(n){return n&&typeof n=="object"&&"current"in n}const N8=N.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:h=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:v,material:x,geometry:_,zIndexRange:g=[16777271,0],calculatePosition:A=b8,as:M="div",wrapperClass:E,pointerEvents:C="auto",...R},B)=>{const{gl:P,camera:b,scene:I,size:G,raycaster:J,events:W,viewport:K}=ji(),[X]=N.useState(()=>document.createElement(M)),oe=N.useRef(),te=N.useRef(null),L=N.useRef(0),V=N.useRef([0,0]),H=N.useRef(null),ee=N.useRef(null),Z=(a==null?void 0:a.current)||W.connected||P.domElement.parentNode,ne=N.useRef(null),ie=N.useRef(!1),Ee=N.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&F8(d[0]),[d]);N.useLayoutEffect(()=>{const Me=P.domElement;d&&d==="blending"?(Me.style.zIndex=`${Math.floor(g[0]/2)}`,Me.style.position="absolute",Me.style.pointerEvents="none"):(Me.style.zIndex=null,Me.style.position=null,Me.style.pointerEvents=null)},[d]),N.useLayoutEffect(()=>{if(te.current){const Me=oe.current=nI(X);if(I.updateMatrixWorld(),h)X.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const _e=A(te.current,b,G);X.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${_e[0]}px,${_e[1]}px,0);transform-origin:0 0;`}return Z&&(r?Z.prepend(X):Z.appendChild(X)),()=>{Z&&Z.removeChild(X),Me.unmount()}}},[Z,h]),N.useLayoutEffect(()=>{E&&(X.className=E)},[E]);const pe=N.useMemo(()=>h?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height},...t},[t,s,o,G,h]),j=N.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);N.useLayoutEffect(()=>{if(ie.current=!1,h){var Me;(Me=oe.current)==null||Me.render(N.createElement("div",{ref:H,style:pe},N.createElement("div",{ref:ee,style:j},N.createElement("div",{ref:B,className:i,style:t,children:n}))))}else{var _e;(_e=oe.current)==null||_e.render(N.createElement("div",{ref:B,style:pe,className:i,children:n}))}});const ke=N.useRef(!0);OS(Me=>{if(te.current){b.updateMatrixWorld(),te.current.updateWorldMatrix(!0,!1);const _e=h?V.current:A(te.current,b,G);if(h||Math.abs(L.current-b.zoom)>e||Math.abs(V.current[0]-_e[0])>e||Math.abs(V.current[1]-_e[1])>e){const de=R8(te.current,b);let ae=!1;Ee&&(d!=="blending"?ae=[I]:Array.isArray(d)&&(ae=d.map(We=>We.current)));const Se=ke.current;if(ae){const We=P8(te.current,b,J,ae);ke.current=We&&!de}else ke.current=!de;Se!==ke.current&&(p?p(!ke.current):X.style.display=ke.current?"block":"none");const Le=Math.floor(g[0]/2),Ie=d?Ee?[g[0],Le]:[Le-1,0]:g;if(X.style.zIndex=`${I8(te.current,b,Ie)}`,h){const[We,Ke]=[G.width/2,G.height/2],je=b.projectionMatrix.elements[5]*Ke,{isOrthographicCamera:tt,top:mt,left:k,bottom:D,right:ce}=b,Ce=L8(b.matrixWorldInverse),Te=tt?`scale(${je})translate(${y_(-(ce+k)/2)}px,${y_((mt+D)/2)}px)`:`translateZ(${je}px)`;let Pe=te.current.matrixWorld;c&&(Pe=b.matrixWorldInverse.clone().transpose().copyPosition(Pe).scale(te.current.scale),Pe.elements[3]=Pe.elements[7]=Pe.elements[11]=0,Pe.elements[15]=1),X.style.width=G.width+"px",X.style.height=G.height+"px",X.style.perspective=tt?"":`${je}px`,H.current&&ee.current&&(H.current.style.transform=`${Te}${Ce}translate(${We}px,${Ke}px)`,ee.current.style.transform=D8(Pe,1/((l||10)/400)))}else{const We=l===void 0?1:B8(te.current,b)*l;X.style.transform=`translate3d(${_e[0]}px,${_e[1]}px,0) scale(${We})`}V.current=_e,L.current=b.zoom}}if(!Ee&&ne.current&&!ie.current)if(h){if(H.current){const _e=H.current.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const{isOrthographicCamera:de}=b;if(de||_)R.scale&&(Array.isArray(R.scale)?R.scale instanceof F?ne.current.scale.copy(R.scale.clone().divideScalar(1)):ne.current.scale.set(1/R.scale[0],1/R.scale[1],1/R.scale[2]):ne.current.scale.setScalar(1/R.scale));else{const ae=(l||10)/400,Se=_e.clientWidth*ae,Le=_e.clientHeight*ae;ne.current.scale.set(Se,Le,1)}ie.current=!0}}}else{const _e=X.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const de=1/K.factor,ae=_e.clientWidth*de,Se=_e.clientHeight*de;ne.current.scale.set(ae,Se,1),ie.current=!0}ne.current.lookAt(Me.camera.position)}});const Xe=N.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return N.createElement("group",la({},R,{ref:te}),d&&!Ee&&N.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ne},_||N.createElement("planeGeometry",null),x||N.createElement("shaderMaterial",{side:Mr,vertexShader:Xe.vertexShader,fragmentShader:Xe.fragmentShader})))});let xf=0;const O8=c2(n=>(Fc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-xf)/(i-xf)*100})},Fc.onLoad=()=>{n({active:!1})},Fc.onError=e=>n(t=>({errors:[...t.errors,e]})),Fc.onProgress=(e,t,i)=>{t===i&&(xf=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-xf)/(i-xf)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function U8(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function Lh(n){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(n)}function k8(n,e){if(Lh(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Lh(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function z8(n){var e=k8(n,"string");return Lh(e)==="symbol"?e:String(e)}function ct(n,e,t){return e=z8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tb(n,e){if(e===sL)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Rg||e===YM){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===Rg)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const nb=(n,e)=>(n%e+e)%e;let G8=class extends Cs{constructor(e,t){super(),ct(this,"object",void 0),ct(this,"domElement",void 0),ct(this,"enabled",!0),ct(this,"target",new F),ct(this,"minDistance",0),ct(this,"maxDistance",1/0),ct(this,"minZoom",0),ct(this,"maxZoom",1/0),ct(this,"minPolarAngle",0),ct(this,"maxPolarAngle",Math.PI),ct(this,"minAzimuthAngle",-1/0),ct(this,"maxAzimuthAngle",1/0),ct(this,"enableDamping",!1),ct(this,"dampingFactor",.05),ct(this,"enableZoom",!0),ct(this,"zoomSpeed",1),ct(this,"enableRotate",!0),ct(this,"rotateSpeed",1),ct(this,"enablePan",!0),ct(this,"panSpeed",1),ct(this,"screenSpacePanning",!0),ct(this,"keyPanSpeed",7),ct(this,"autoRotate",!1),ct(this,"autoRotateSpeed",2),ct(this,"reverseOrbit",!1),ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ct(this,"mouseButtons",{LEFT:ka.ROTATE,MIDDLE:ka.DOLLY,RIGHT:ka.PAN}),ct(this,"touches",{ONE:za.ROTATE,TWO:za.DOLLY_PAN}),ct(this,"target0",void 0),ct(this,"position0",void 0),ct(this,"zoom0",void 0),ct(this,"_domElementKeyEvents",null),ct(this,"getPolarAngle",void 0),ct(this,"getAzimuthalAngle",void 0),ct(this,"setPolarAngle",void 0),ct(this,"setAzimuthalAngle",void 0),ct(this,"getDistance",void 0),ct(this,"listenToKeyEvents",void 0),ct(this,"saveState",void 0),ct(this,"reset",void 0),ct(this,"update",void 0),ct(this,"connect",void 0),ct(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Wt?this.object.zoom:1,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=z=>{let se=nb(z,2*Math.PI),ve=h.phi;ve<0&&(ve+=2*Math.PI),se<0&&(se+=2*Math.PI);let be=Math.abs(se-ve);2*Math.PI-be<be&&(se<ve?se+=2*Math.PI:ve+=2*Math.PI),d.phi=se-ve,i.update()},this.setAzimuthalAngle=z=>{let se=nb(z,2*Math.PI),ve=h.theta;ve<0&&(ve+=2*Math.PI),se<0&&(se+=2*Math.PI);let be=Math.abs(se-ve);2*Math.PI-be<be&&(se<ve?se+=2*Math.PI:ve+=2*Math.PI),d.theta=se-ve,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=z=>{z.addEventListener("keydown",ce),this._domElementKeyEvents=z},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof Wt?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof Wt&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const z=new F,se=new Wn().setFromUnitVectors(e.up,new F(0,1,0)),ve=se.clone().invert(),be=new F,Ze=new Wn,ft=2*Math.PI;return function(){const Y=i.object.position;z.copy(Y).sub(i.target),z.applyQuaternion(se),h.setFromVector3(z),i.autoRotate&&l===a.NONE&&J(I()),i.enableDamping?(h.theta+=d.theta*i.dampingFactor,h.phi+=d.phi*i.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let he=i.minAzimuthAngle,we=i.maxAzimuthAngle;return isFinite(he)&&isFinite(we)&&(he<-Math.PI?he+=ft:he>Math.PI&&(he-=ft),we<-Math.PI?we+=ft:we>Math.PI&&(we-=ft),he<=we?h.theta=Math.max(he,Math.min(we,h.theta)):h.theta=h.theta>(he+we)/2?Math.max(he,h.theta):Math.min(we,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=p,h.radius=Math.max(i.minDistance,Math.min(i.maxDistance,h.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),z.setFromSpherical(h),z.applyQuaternion(ve),Y.copy(i.target).add(z),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),p=1,v||be.distanceToSquared(i.object.position)>c||8*(1-Ze.dot(i.object.quaternion))>c?(i.dispatchEvent(r),be.copy(i.object.position),Ze.copy(i.object.quaternion),v=!1,!0):!1}})(),this.connect=z=>{z===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=z,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Pe),i.domElement.addEventListener("pointerdown",We),i.domElement.addEventListener("pointercancel",tt),i.domElement.addEventListener("wheel",D)},this.dispose=()=>{var z,se,ve,be,Ze,ft;(z=i.domElement)===null||z===void 0||z.removeEventListener("contextmenu",Pe),(se=i.domElement)===null||se===void 0||se.removeEventListener("pointerdown",We),(ve=i.domElement)===null||ve===void 0||ve.removeEventListener("pointercancel",tt),(be=i.domElement)===null||be===void 0||be.removeEventListener("wheel",D),(Ze=i.domElement)===null||Ze===void 0||Ze.ownerDocument.removeEventListener("pointermove",Ke),(ft=i.domElement)===null||ft===void 0||ft.ownerDocument.removeEventListener("pointerup",je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ce)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,h=new d_,d=new d_;let p=1;const m=new F;let v=!1;const x=new Ae,_=new Ae,g=new Ae,A=new Ae,M=new Ae,E=new Ae,C=new Ae,R=new Ae,B=new Ae,P=[],b={};function I(){return 2*Math.PI/60/60*i.autoRotateSpeed}function G(){return Math.pow(.95,i.zoomSpeed)}function J(z){i.reverseOrbit?d.theta+=z:d.theta-=z}function W(z){i.reverseOrbit?d.phi+=z:d.phi-=z}const K=(()=>{const z=new F;return function(ve,be){z.setFromMatrixColumn(be,0),z.multiplyScalar(-ve),m.add(z)}})(),X=(()=>{const z=new F;return function(ve,be){i.screenSpacePanning===!0?z.setFromMatrixColumn(be,1):(z.setFromMatrixColumn(be,0),z.crossVectors(i.object.up,z)),z.multiplyScalar(ve),m.add(z)}})(),oe=(()=>{const z=new F;return function(ve,be){const Ze=i.domElement;if(Ze&&i.object instanceof Wt&&i.object.isPerspectiveCamera){const ft=i.object.position;z.copy(ft).sub(i.target);let Gt=z.length();Gt*=Math.tan(i.object.fov/2*Math.PI/180),K(2*ve*Gt/Ze.clientHeight,i.object.matrix),X(2*be*Gt/Ze.clientHeight,i.object.matrix)}else Ze&&i.object instanceof Xr&&i.object.isOrthographicCamera?(K(ve*(i.object.right-i.object.left)/i.object.zoom/Ze.clientWidth,i.object.matrix),X(be*(i.object.top-i.object.bottom)/i.object.zoom/Ze.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function te(z){i.object instanceof Wt&&i.object.isPerspectiveCamera?p/=z:i.object instanceof Xr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*z)),i.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function L(z){i.object instanceof Wt&&i.object.isPerspectiveCamera?p*=z:i.object instanceof Xr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/z)),i.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(z){x.set(z.clientX,z.clientY)}function H(z){C.set(z.clientX,z.clientY)}function ee(z){A.set(z.clientX,z.clientY)}function Z(z){_.set(z.clientX,z.clientY),g.subVectors(_,x).multiplyScalar(i.rotateSpeed);const se=i.domElement;se&&(J(2*Math.PI*g.x/se.clientHeight),W(2*Math.PI*g.y/se.clientHeight)),x.copy(_),i.update()}function ne(z){R.set(z.clientX,z.clientY),B.subVectors(R,C),B.y>0?te(G()):B.y<0&&L(G()),C.copy(R),i.update()}function ie(z){M.set(z.clientX,z.clientY),E.subVectors(M,A).multiplyScalar(i.panSpeed),oe(E.x,E.y),A.copy(M),i.update()}function Ee(z){z.deltaY<0?L(G()):z.deltaY>0&&te(G()),i.update()}function pe(z){let se=!1;switch(z.code){case i.keys.UP:oe(0,i.keyPanSpeed),se=!0;break;case i.keys.BOTTOM:oe(0,-i.keyPanSpeed),se=!0;break;case i.keys.LEFT:oe(i.keyPanSpeed,0),se=!0;break;case i.keys.RIGHT:oe(-i.keyPanSpeed,0),se=!0;break}se&&(z.preventDefault(),i.update())}function j(){if(P.length==1)x.set(P[0].pageX,P[0].pageY);else{const z=.5*(P[0].pageX+P[1].pageX),se=.5*(P[0].pageY+P[1].pageY);x.set(z,se)}}function ke(){if(P.length==1)A.set(P[0].pageX,P[0].pageY);else{const z=.5*(P[0].pageX+P[1].pageX),se=.5*(P[0].pageY+P[1].pageY);A.set(z,se)}}function Xe(){const z=P[0].pageX-P[1].pageX,se=P[0].pageY-P[1].pageY,ve=Math.sqrt(z*z+se*se);C.set(0,ve)}function Me(){i.enableZoom&&Xe(),i.enablePan&&ke()}function _e(){i.enableZoom&&Xe(),i.enableRotate&&j()}function de(z){if(P.length==1)_.set(z.pageX,z.pageY);else{const ve=Ge(z),be=.5*(z.pageX+ve.x),Ze=.5*(z.pageY+ve.y);_.set(be,Ze)}g.subVectors(_,x).multiplyScalar(i.rotateSpeed);const se=i.domElement;se&&(J(2*Math.PI*g.x/se.clientHeight),W(2*Math.PI*g.y/se.clientHeight)),x.copy(_)}function ae(z){if(P.length==1)M.set(z.pageX,z.pageY);else{const se=Ge(z),ve=.5*(z.pageX+se.x),be=.5*(z.pageY+se.y);M.set(ve,be)}E.subVectors(M,A).multiplyScalar(i.panSpeed),oe(E.x,E.y),A.copy(M)}function Se(z){const se=Ge(z),ve=z.pageX-se.x,be=z.pageY-se.y,Ze=Math.sqrt(ve*ve+be*be);R.set(0,Ze),B.set(0,Math.pow(R.y/C.y,i.zoomSpeed)),te(B.y),C.copy(R)}function Le(z){i.enableZoom&&Se(z),i.enablePan&&ae(z)}function Ie(z){i.enableZoom&&Se(z),i.enableRotate&&de(z)}function We(z){if(i.enabled!==!1){if(P.length===0){var se,ve;(se=i.domElement)===null||se===void 0||se.ownerDocument.addEventListener("pointermove",Ke),(ve=i.domElement)===null||ve===void 0||ve.ownerDocument.addEventListener("pointerup",je)}$e(z),z.pointerType==="touch"?Ce(z):mt(z)}}function Ke(z){i.enabled!==!1&&(z.pointerType==="touch"?Te(z):k(z))}function je(z){if(Oe(z),P.length===0){var se,ve,be;(se=i.domElement)===null||se===void 0||se.releasePointerCapture(z.pointerId),(ve=i.domElement)===null||ve===void 0||ve.ownerDocument.removeEventListener("pointermove",Ke),(be=i.domElement)===null||be===void 0||be.ownerDocument.removeEventListener("pointerup",je)}i.dispatchEvent(o),l=a.NONE}function tt(z){Oe(z)}function mt(z){let se;switch(z.button){case 0:se=i.mouseButtons.LEFT;break;case 1:se=i.mouseButtons.MIDDLE;break;case 2:se=i.mouseButtons.RIGHT;break;default:se=-1}switch(se){case ka.DOLLY:if(i.enableZoom===!1)return;H(z),l=a.DOLLY;break;case ka.ROTATE:if(z.ctrlKey||z.metaKey||z.shiftKey){if(i.enablePan===!1)return;ee(z),l=a.PAN}else{if(i.enableRotate===!1)return;V(z),l=a.ROTATE}break;case ka.PAN:if(z.ctrlKey||z.metaKey||z.shiftKey){if(i.enableRotate===!1)return;V(z),l=a.ROTATE}else{if(i.enablePan===!1)return;ee(z),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function k(z){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Z(z);break;case a.DOLLY:if(i.enableZoom===!1)return;ne(z);break;case a.PAN:if(i.enablePan===!1)return;ie(z);break}}function D(z){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(z.preventDefault(),i.dispatchEvent(s),Ee(z),i.dispatchEvent(o))}function ce(z){i.enabled===!1||i.enablePan===!1||pe(z)}function Ce(z){switch(ge(z),P.length){case 1:switch(i.touches.ONE){case za.ROTATE:if(i.enableRotate===!1)return;j(),l=a.TOUCH_ROTATE;break;case za.PAN:if(i.enablePan===!1)return;ke(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case za.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Me(),l=a.TOUCH_DOLLY_PAN;break;case za.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;_e(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Te(z){switch(ge(z),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;de(z),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ae(z),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Le(z),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ie(z),i.update();break;default:l=a.NONE}}function Pe(z){i.enabled!==!1&&z.preventDefault()}function $e(z){P.push(z)}function Oe(z){delete b[z.pointerId];for(let se=0;se<P.length;se++)if(P[se].pointerId==z.pointerId){P.splice(se,1);return}}function ge(z){let se=b[z.pointerId];se===void 0&&(se=new Ae,b[z.pointerId]=se),se.set(z.pageX,z.pageY)}function Ge(z){const se=z.pointerId===P[0].pointerId?P[1]:P[0];return b[se.pointerId]}t!==void 0&&this.connect(t),this.update()}};class zS extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new J8(t)}),this.register(function(t){return new $8(t)}),this.register(function(t){return new eW(t)}),this.register(function(t){return new tW(t)}),this.register(function(t){return new K8(t)}),this.register(function(t){return new Y8(t)}),this.register(function(t){return new Q8(t)}),this.register(function(t){return new q8(t)}),this.register(function(t){return new j8(t)}),this.register(function(t){return new Z8(t)}),this.register(function(t){return new X8(t)}),this.register(function(t){return new V8(t)}),this.register(function(t){return new nW(t)}),this.register(function(t){return new iW(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=yu.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new tr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===D2){try{o[bt.KHR_BINARY_GLTF]=new rW(e)}catch(d){r&&r(d);return}s=JSON.parse(o[bt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new yW(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const d=this.pluginCallbacks[h](c);a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let h=0;h<s.extensionsUsed.length;++h){const d=s.extensionsUsed[h],p=s.extensionsRequired||[];switch(d){case bt.KHR_MATERIALS_UNLIT:o[d]=new W8;break;case bt.KHR_DRACO_MESH_COMPRESSION:o[d]=new sW(s,this.dracoLoader);break;case bt.KHR_TEXTURE_TRANSFORM:o[d]=new oW;break;case bt.KHR_MESH_QUANTIZATION:o[d]=new aW;break;default:p.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function H8(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const bt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class V8{constructor(e){this.parser=e,this.name=bt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const h=new Fe(16777215);l.color!==void 0&&h.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new PS(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new RS(h),c.distance=d;break;case"spot":c=new bS(h),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Fo(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class W8{constructor(){this.name=bt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ki}extendParams(e,t,i){const r=[];e.color=new Fe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,qi))}return Promise.all(r)}}class j8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class J8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:uo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ae(a,a)}return Promise.all(s)}}class X8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:uo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class K8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:uo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Fe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,qi)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Y8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:uo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Q8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:uo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Fe(a[0],a[1],a[2]),Promise.all(s)}}class q8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:uo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Z8{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:uo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Fe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,qi)),Promise.all(s)}}class $8{constructor(e){this.parser=e,this.name=bt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class eW{constructor(e){this.parser=e,this.name=bt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class tW{constructor(e){this.parser=e,this.name=bt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class nW{constructor(e){this.name=bt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,h=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,p,r.mode,r.filter),m})})}else return null}}class iW{constructor(e){this.name=bt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==vr.TRIANGLES&&c.mode!==vr.TRIANGLE_STRIP&&c.mode!==vr.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(h=>(l[c]=h,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const h=c.pop(),d=h.isGroup?h.children:[h],p=c[0].count,m=[];for(const v of d){const x=new st,_=new F,g=new Wn,A=new F(1,1,1),M=new hS(v.geometry,v.material,p);for(let E=0;E<p;E++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,E),l.SCALE&&A.fromBufferAttribute(l.SCALE,E),M.setMatrixAt(E,x.compose(_,g,A));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&v.geometry.setAttribute(E,l[E]);Ct.prototype.copy.call(M,v),this.parser.assignFinalMaterial(M),m.push(M)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const D2="glTF",Af=12,ib={JSON:1313821514,BIN:5130562};class rW{constructor(e){this.name=bt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Af),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==D2)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Af,s=new DataView(e,Af);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===ib.JSON){const c=new Uint8Array(e,Af+o,a);this.content=i.decode(c)}else if(l===ib.BIN){const c=Af+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class sW{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=bt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const h in o){const d=v_[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=v_[h]||h.toLowerCase();if(o[h]!==void 0){const p=i.accessors[e.attributes[h]],m=Qc[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(d){r.decodeDracoFile(h,function(p){for(const m in p.attributes){const v=p.attributes[m],x=l[m];x!==void 0&&(v.normalized=x)}d(p)},a,c)})})}}class oW{constructor(){this.name=bt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class aW{constructor(){this.name=bt.KHR_MESH_QUANTIZATION}}class F2 extends Bu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,h=r-t,d=(i-t)/h,p=d*d,m=p*d,v=e*c,x=v-c,_=-2*m+3*p,g=m-p,A=1-_,M=g-p+d;for(let E=0;E!==a;E++){const C=o[x+E+a],R=o[x+E+l]*h,B=o[v+E+a],P=o[v+E]*h;s[E]=A*C+M*R+_*B+g*P}return s}}const lW=new Wn;class cW extends F2{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return lW.fromArray(s).normalize().toArray(s),s}}const vr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Qc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},rb={9728:mn,9729:on,9984:Eh,9985:uy,9986:Xc,9987:Ss},sb={33071:Yn,33648:lu,10497:sa},sx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},v_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Xh.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},bo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},uW={CUBICSPLINE:void 0,LINEAR:yl,STEP:uu},ox={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function fW(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new hd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ms})),n.DefaultMaterial}function _f(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Fo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function hW(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,h=e.length;c<h;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,h=e.length;c<h;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const h=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=h),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function dW(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function pW(n){const e=n.extensions&&n.extensions[bt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+ob(e.attributes):t=n.indices+":"+ob(n.attributes)+":"+n.mode,t}function ob(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function x_(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function mW(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const gW=new st;class yW{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new H8,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new dd(this.options.manager):this.textureLoader=new n2(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new tr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};_f(s,a,r),Fo(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,h]of o.children.entries())s(h,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[bt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(yu.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=sx[r.type],a=Qc[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Dt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=sx[r.type],c=Qc[r.componentType],h=c.BYTES_PER_ELEMENT,d=h*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let x,_;if(m&&m!==d){const g=Math.floor(p/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let M=t.cache.get(A);M||(x=new c(a,g*m,r.count*m/h),M=new Zh(x,m/h),t.cache.add(A,M)),_=new oa(M,l,p%m/h,v)}else a===null?x=new c(r.count*l):x=new c(a,p,r.count*l),_=new Dt(x,l,v);if(r.sparse!==void 0){const g=sx.SCALAR,A=Qc[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,C=new A(o[1],M,r.sparse.count*g),R=new c(o[2],E,r.sparse.count*l);a!==null&&(_=new Dt(_.array.slice(),_.itemSize,_.normalized));for(let B=0,P=C.length;B<P;B++){const b=C[B];if(_.setX(b,R[B*l]),l>=2&&_.setY(b,R[B*l+1]),l>=3&&_.setZ(b,R[B*l+2]),l>=4&&_.setW(b,R[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return h.magFilter=rb[p.magFilter]||on,h.minFilter=rb[p.minFilter]||Ss,h.wrapS=sb[p.wrapS]||sa,h.wrapT=sb[p.wrapT]||sa,r.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(x){const _=new tn(x);_.needsUpdate=!0,p(_)}),t.load(yu.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||mW(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[bt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[bt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[bt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new vy,bn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ui,bn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return hd}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[bt.KHR_MATERIALS_UNLIT]){const d=r[bt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Fe(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,qi)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Mr);const h=s.alphaMode||ox.OPAQUE;if(h===ox.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===ox.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ki&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ae(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Ki&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ki&&(a.emissive=new Fe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ki&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,qi)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),Fo(d,s),t.associations.set(d,{materials:e}),s.extensions&&_f(r,d,s),d})}createUniqueName(e){const t=Tt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[bt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return ab(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],h=pW(c),d=r[h];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[bt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=ab(new ut,c,t),r[h]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const h=o[l].material===void 0?fW(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,v=h.length;m<v;m++){const x=h[m],_=o[m];let g;const A=c[m];if(_.mode===vr.TRIANGLES||_.mode===vr.TRIANGLE_STRIP||_.mode===vr.TRIANGLE_FAN||_.mode===void 0)g=s.isSkinnedMesh===!0?new fS(x,A):new Ln(x,A),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),_.mode===vr.TRIANGLE_STRIP?g.geometry=tb(g.geometry,YM):_.mode===vr.TRIANGLE_FAN&&(g.geometry=tb(g.geometry,Rg));else if(_.mode===vr.LINES)g=new es(x,A);else if(_.mode===vr.LINE_STRIP)g=new so(x,A);else if(_.mode===vr.LINE_LOOP)g=new dS(x,A);else if(_.mode===vr.POINTS)g=new pS(x,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(g.geometry.morphAttributes).length>0&&dW(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Fo(g,s),_.extensions&&_f(r,g,_),t.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const p=new Ks;t.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Wt($M.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Xr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Fo(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,h=o.length;c<h;c++){const d=o[c];if(d){a.push(d);const p=new st;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new $h(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let h=0,d=i.channels.length;h<d;h++){const p=i.channels[h],m=i.samplers[p.sampler],v=p.target,x=v.node,_=i.parameters!==void 0?i.parameters[m.input]:m.input,g=i.parameters!==void 0?i.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",x)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(h){const d=h[0],p=h[1],m=h[2],v=h[3],x=h[4],_=[];for(let g=0,A=d.length;g<A;g++){const M=d[g],E=p[g],C=m[g],R=v[g],B=x[g];if(M===void 0)continue;M.updateMatrix();let P;switch(bo[B.path]){case bo.weights:P=pu;break;case bo.rotation:P=aa;break;case bo.position:case bo.scale:default:P=mu;break}const b=M.name?M.name:M.uuid,I=R.interpolation!==void 0?uW[R.interpolation]:yl,G=[];bo[B.path]===bo.weights?M.traverse(function(W){W.morphTargetInfluences&&G.push(W.name?W.name:W.uuid)}):G.push(b);let J=C.array;if(C.normalized){const W=x_(J.constructor),K=new Float32Array(J.length);for(let X=0,oe=J.length;X<oe;X++)K[X]=J[X]*W;J=K}for(let W=0,K=G.length;W<K;W++){const X=new P(G[W]+"."+bo[B.path],E.array,J,I);R.interpolation==="CUBICSPLINE"&&(X.createInterpolant=function(te){const L=this instanceof aa?cW:F2;return new L(this.times,this.values,this.getValueSize()/3,te)},X.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(X)}}return new gu(r,void 0,_)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,h=a.length;c<h;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const h=c[0],d=c[1],p=c[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,gW)});for(let m=0,v=d.length;m<v;m++)h.add(d[m]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let h;if(s.isBone===!0?h=new yy:c.length>1?h=new Ks:c.length===1?h=c[0]:h=new Ct,h!==c[0])for(let d=0,p=c.length;d<p;d++)h.add(c[d]);if(s.name&&(h.userData.name=s.name,h.name=o),Fo(h,s),s.extensions&&_f(i,h,s),s.matrix!==void 0){const d=new st;d.fromArray(s.matrix),h.applyMatrix4(d)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Ks;i.name&&(s.name=r.createUniqueName(i.name)),Fo(s,i),i.extensions&&_f(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,d=l.length;h<d;h++)s.add(l[h]);const c=h=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof bn||p instanceof tn)&&d.set(p,m);return h.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}}function vW(n,e,t){const i=e.attributes,r=new Zr;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new F(l[0],l[1],l[2]),new F(c[0],c[1],c[2])),a.normalized){const h=x_(Qc[a.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let c=0,h=s.length;c<h;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const x=x_(Qc[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new $r;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function ab(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=v_[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Fo(n,e),vW(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?hW(n,e.targets,t):n})}class xW extends ut{constructor(e,t,i,r){super();const s=[],o=[],a=[],l=new F,c=new st;c.makeRotationFromEuler(i),c.setPosition(t);const h=new st;h.copy(c).invert(),d(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(o,3)),this.setAttribute("uv",new Je(a,2));function d(){let x,_=[];const g=new F,A=new F;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const M=e.geometry,E=M.attributes.position,C=M.attributes.normal;if(M.index!==null){const R=M.index;for(x=0;x<R.count;x++)g.fromBufferAttribute(E,R.getX(x)),A.fromBufferAttribute(C,R.getX(x)),p(_,g,A)}else for(x=0;x<E.count;x++)g.fromBufferAttribute(E,x),A.fromBufferAttribute(C,x),p(_,g,A);for(_=m(_,l.set(1,0,0)),_=m(_,l.set(-1,0,0)),_=m(_,l.set(0,1,0)),_=m(_,l.set(0,-1,0)),_=m(_,l.set(0,0,1)),_=m(_,l.set(0,0,-1)),x=0;x<_.length;x++){const R=_[x];a.push(.5+R.position.x/r.x,.5+R.position.y/r.y),R.position.applyMatrix4(c),s.push(R.position.x,R.position.y,R.position.z),o.push(R.normal.x,R.normal.y,R.normal.z)}}function p(x,_,g){_.applyMatrix4(e.matrixWorld),_.applyMatrix4(h),g.transformDirection(e.matrixWorld),x.push(new lb(_.clone(),g.clone()))}function m(x,_){const g=[],A=.5*Math.abs(r.dot(_));for(let M=0;M<x.length;M+=3){let E,C,R,B=0,P,b,I,G;const J=x[M+0].position.dot(_)-A,W=x[M+1].position.dot(_)-A,K=x[M+2].position.dot(_)-A;switch(E=J>0,C=W>0,R=K>0,B=(E?1:0)+(C?1:0)+(R?1:0),B){case 0:{g.push(x[M]),g.push(x[M+1]),g.push(x[M+2]);break}case 1:{if(E&&(P=x[M+1],b=x[M+2],I=v(x[M],P,_,A),G=v(x[M],b,_,A)),C){P=x[M],b=x[M+2],I=v(x[M+1],P,_,A),G=v(x[M+1],b,_,A),g.push(I),g.push(b.clone()),g.push(P.clone()),g.push(b.clone()),g.push(I.clone()),g.push(G);break}R&&(P=x[M],b=x[M+1],I=v(x[M+2],P,_,A),G=v(x[M+2],b,_,A)),g.push(P.clone()),g.push(b.clone()),g.push(I),g.push(G),g.push(I.clone()),g.push(b.clone());break}case 2:{E||(P=x[M].clone(),b=v(P,x[M+1],_,A),I=v(P,x[M+2],_,A),g.push(P),g.push(b),g.push(I)),C||(P=x[M+1].clone(),b=v(P,x[M+2],_,A),I=v(P,x[M],_,A),g.push(P),g.push(b),g.push(I)),R||(P=x[M+2].clone(),b=v(P,x[M],_,A),I=v(P,x[M+1],_,A),g.push(P),g.push(b),g.push(I));break}}}return g}function v(x,_,g,A){const M=x.position.dot(g)-A,E=_.position.dot(g)-A,C=M/(M-E);return new lb(new F(x.position.x+C*(_.position.x-x.position.x),x.position.y+C*(_.position.y-x.position.y),x.position.z+C*(_.position.z-x.position.z)),new F(x.normal.x+C*(_.normal.x-x.normal.x),x.normal.y+C*(_.normal.y-x.normal.y),x.normal.z+C*(_.normal.z-x.normal.z)))}}}class lb{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const ax=new WeakMap;class AW extends Mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new tr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(ax.has(e)){const l=ax.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,h)=>{r._callbacks[s]={resolve:c,reject:h},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),ax.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ut;e.index&&t.setIndex(new Dt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Dt(o,a))}return t}_loadLibrary(e,t){const i=new tr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=_W.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function _W(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(h=>{const d=h.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(d,p,m,c),x=v.attributes.map(_=>_.array.buffer);v.index&&x.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},x)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const h=c.attributeIDs,d=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const _ in h){const g=self[d[_]];let A,M;if(c.useUniqueIDs)M=h[_],A=a.GetAttributeByUniqueId(p,M);else{if(M=a.GetAttributeId(p,o[h[_]]),M===-1)continue;A=a.GetAttribute(p,M)}x.attributes.push(r(o,a,p,_,g,A))}return v===o.TRIANGULAR_MESH&&(x.index=i(o,a,p)),o.destroy(p),x}function i(o,a,l){const h=l.num_faces()*3,d=h*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,h).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,h,d){const p=d.num_components(),v=l.num_points()*p,x=v*h.BYTES_PER_ELEMENT,_=s(o,h),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,d,_,x,g);const A=new h(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let wm;const lx=()=>{if(wm)return wm;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const x=d.charCodeAt(v);p[v]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,x,_){const g=s.exports.sbrk,A=m+3&-4,M=g(A*v),E=g(x.length),C=new Uint8Array(s.exports.memory.buffer);C.set(x,E);const R=d(M,m,v,E,x.length);if(R===0&&_&&_(M,A,v),p.set(C.subarray(M,M+m*v)),g(M-g(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return wm={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,x){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[c[x]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,x,_){l(s.exports[h[x]],d,p,m,v,s.exports[c[_]])}},wm},cb=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function GS(n,e){const t=ji(r=>r.gl),i=ga(dd,cb(n)?Object.values(n):n);if(N.useLayoutEffect(()=>{e==null||e(i)},[e]),N.useEffect(()=>{(Array.isArray(i)?i:[i]).forEach(t.initTexture)},[t,i]),cb(n)){const r=Object.keys(n),s={};return r.forEach(o=>Object.assign(s,{[o]:i[r.indexOf(o)]})),s}else return i}GS.preload=n=>ga.preload(dd,n);GS.clear=n=>ga.clear(dd,n);function MW(n){return Array.isArray(n)}function cx(n=[0,0,0]){return MW(n)?n:n instanceof F||n instanceof wl?[n.x,n.y,n.z]:[n,n,n]}const SW=N.forwardRef(function({debug:e,mesh:t,children:i,position:r,rotation:s,scale:o,...a},l){const c=N.useRef(null);N.useImperativeHandle(l,()=>c.current);const h=N.useRef(null);return N.useLayoutEffect(()=>{const d=(t==null?void 0:t.current)||c.current.parent,p=c.current;if(!(d instanceof Ln))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const m={position:new F,rotation:new wl,scale:new F(1,1,1)};if(d){ps(m,{position:r,scale:o});const v=d.matrixWorld.clone();if(d.matrixWorld.identity(),!s||typeof s=="number"){const x=new Ct;x.position.copy(m.position),x.lookAt(d.position),typeof s=="number"&&x.rotateZ(s),ps(m,{rotation:x.rotation})}else ps(m,{rotation:s});return p.geometry=new xW(d,m.position,m.rotation,m.scale),h.current&&ps(h.current,m),d.matrixWorld=v,()=>{p.geometry.dispose()}}},[t,...cx(r),...cx(o),...cx(s)]),N.createElement("mesh",{ref:c},i||N.createElement("meshStandardMaterial",la({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},a)),e&&N.createElement("mesh",{ref:h},N.createElement("boxGeometry",null),N.createElement("meshNormalMaterial",{wireframe:!0}),N.createElement("axesHelper",null)))});let Cm=null;function N2(n,e,t){return i=>{t&&t(i),n&&(Cm||(Cm=new AW),Cm.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(Cm)),e&&i.setMeshoptDecoder(typeof lx=="function"?lx():lx)}}function HS(n,e=!0,t=!0,i){return ga(zS,n,N2(e,t,i))}HS.preload=(n,e=!0,t=!0,i)=>ga.preload(zS,n,N2(e,t,i));HS.clear=n=>ga.clear(zS,n);const O2=N.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const h=ji(C=>C.invalidate),d=ji(C=>C.camera),p=ji(C=>C.gl),m=ji(C=>C.events),v=ji(C=>C.setEvents),x=ji(C=>C.set),_=ji(C=>C.get),g=ji(C=>C.performance),A=e||d,M=i||m.connected||p.domElement,E=N.useMemo(()=>new G8(A),[A]);return OS(()=>{E.enabled&&E.update()},-1),N.useEffect(()=>(E.connect(M),()=>void E.dispose()),[M,t,E,h]),N.useEffect(()=>{const C=P=>{h(),t&&g.regress(),s&&s(P)},R=P=>{o&&o(P)},B=P=>{a&&a(P)};return E.addEventListener("change",C),E.addEventListener("start",R),E.addEventListener("end",B),()=>{E.removeEventListener("start",R),E.removeEventListener("end",B),E.removeEventListener("change",C)}},[s,o,a,E,h,v]),N.useEffect(()=>{if(n){const C=_().controls;return x({controls:E}),()=>x({controls:C})}},[n,E]),N.createElement("primitive",la({ref:c,object:E,enableDamping:r},l))}),EW=N.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=N.useRef(null),c=N.useRef(Math.random()*1e4);return OS(h=>{var d,p;if(!e||t===0)return;const m=c.current+h.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*i,l.current.rotation.y=Math.sin(m/4*t)/8*i,l.current.rotation.z=Math.sin(m/4*t)/20*i;let v=Math.sin(m/4*t)/10;v=$M.mapLinear(v,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=v*r,l.current.updateMatrix()}),N.createElement("group",o,N.createElement("group",{ref:U8([l,a]),matrixAutoUpdate:!1},n))});var U2={exports:{}},wW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CW=wW,TW=CW;function k2(){}function z2(){}z2.resetWarningCache=k2;var bW=function(){function n(i,r,s,o,a,l){if(l!==TW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:z2,resetWarningCache:k2};return t.PropTypes=t,t};U2.exports=bW();var G2=U2.exports;function H2({all:n,scene:e,camera:t}){const i=ji(({gl:o})=>o),r=ji(({camera:o})=>o),s=ji(({scene:o})=>o);return N.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new sS(128);new rS(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const V2=()=>{const{progress:n}=O8();return q.jsxs(N8,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[q.jsx("span",{className:"canvas-loader"}),q.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},RW=n=>{const[e]=GS([n.imgUrl]);return q.jsxs(EW,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[q.jsx("ambientLight",{intensity:.25}),q.jsx("directionalLight",{position:[0,0,.05]}),q.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[q.jsx("icosahedronGeometry",{args:[1,1]}),q.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),q.jsx(SW,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},PW=({icon:n})=>q.jsxs(I2,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[q.jsxs(N.Suspense,{fallback:q.jsx(V2,{}),children:[q.jsx(O2,{enableZoom:!1}),q.jsx(RW,{imgUrl:n})]}),q.jsx(H2,{all:!0})]}),BW=({isMobile:n})=>{const e=HS("./valheim_black_forest/scene.gltf");return q.jsxs("mesh",{children:[q.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),q.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:.5,castShadow:!0,"shadow-mapSize":1024}),q.jsx("pointLight",{intensity:.5}),q.jsx("primitive",{object:e.scene,scale:n?.4:.5,position:n?[0,-3,0]:[0,-3.5,0],rotation:[-.01,-.15,-.01]})]})},IW=()=>{const[n,e]=N.useState(!1);return N.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),q.jsxs(I2,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[q.jsxs(N.Suspense,{fallback:q.jsx(V2,{}),children:[q.jsx(O2,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),q.jsx(BW,{isMobile:n})]}),q.jsx(H2,{all:!0})]})},W2=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Ey=N.createContext({}),VS=N.createContext(null),wy=typeof document<"u",ub=wy?N.useLayoutEffect:N.useEffect,j2=N.createContext({strict:!1});function LW(n,e,t,i){const{visualElement:r}=N.useContext(Ey),s=N.useContext(j2),o=N.useContext(VS),a=N.useContext(W2).reducedMotion,l=N.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return N.useInsertionEffect(()=>{c&&c.update(t,o)}),ub(()=>{c&&c.render()}),N.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?ub:N.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Oc(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function DW(n,e,t){return N.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Oc(t)&&(t.current=i))},[e])}function Dh(n){return typeof n=="string"||Array.isArray(n)}function Cy(n){return typeof n=="object"&&typeof n.start=="function"}const WS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jS=["initial",...WS];function Ty(n){return Cy(n.animate)||jS.some(e=>Dh(n[e]))}function J2(n){return!!(Ty(n)||n.variants)}function FW(n,e){if(Ty(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Dh(t)?t:void 0,animate:Dh(i)?i:void 0}}return n.inherit!==!1?e:{}}function NW(n){const{initial:e,animate:t}=FW(n,N.useContext(Ey));return N.useMemo(()=>({initial:e,animate:t}),[fb(e),fb(t)])}function fb(n){return Array.isArray(n)?n.join(" "):n}const hb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fh={};for(const n in hb)Fh[n]={isEnabled:e=>hb[n].some(t=>!!e[t])};function OW(n){for(const e in n)Fh[e]={...Fh[e],...n[e]}}const X2=N.createContext({}),K2=N.createContext({}),UW=Symbol.for("motionComponentSymbol");function kW({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&OW(n);function s(a,l){let c;const h={...N.useContext(W2),...a,layoutId:zW(a)},{isStatic:d}=h,p=NW(a),m=i(a,d);if(!d&&wy){p.visualElement=LW(r,m,h,e);const v=N.useContext(K2),x=N.useContext(j2).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,x,n,v))}return N.createElement(Ey.Provider,{value:p},c&&p.visualElement?N.createElement(c,{visualElement:p.visualElement,...h}):null,t(r,a,DW(m,p.visualElement,l),m,d,p.visualElement))}const o=N.forwardRef(s);return o[UW]=r,o}function zW({layoutId:n}){const e=N.useContext(X2).id;return e&&n!==void 0?e+"-"+n:n}function GW(n){function e(i,r={}){return kW(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const HW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JS(n){return typeof n!="string"||n.includes("-")?!1:!!(HW.indexOf(n)>-1||/[A-Z]/.test(n))}const Lg={};function VW(n){Object.assign(Lg,n)}const gd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(gd);function Y2(n,{layout:e,layoutId:t}){return Pl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Lg[n]||n==="opacity")}const Fi=n=>!!(n&&n.getVelocity),WW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jW=gd.length;function JW(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<jW;o++){const a=gd[o];if(n[a]!==void 0){const l=WW[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const Q2=n=>e=>typeof e=="string"&&e.startsWith(n),q2=Q2("--"),A_=Q2("var(--"),XW=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,KW=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Al=(n,e,t)=>Math.min(Math.max(t,n),e),Bl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},qf={...Bl,transform:n=>Al(0,1,n)},Tm={...Bl,default:1},Zf=n=>Math.round(n*1e5)/1e5,by=/(-)?([\d]*\.?[\d])+/g,Z2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,YW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function yd(n){return typeof n=="string"}const vd=n=>({test:e=>yd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Bo=vd("deg"),xs=vd("%"),rt=vd("px"),QW=vd("vh"),qW=vd("vw"),db={...xs,parse:n=>xs.parse(n)/100,transform:n=>xs.transform(n*100)},pb={...Bl,transform:Math.round},$2={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,size:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,rotate:Bo,rotateX:Bo,rotateY:Bo,rotateZ:Bo,scale:Tm,scaleX:Tm,scaleY:Tm,scaleZ:Tm,skew:Bo,skewX:Bo,skewY:Bo,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:qf,originX:db,originY:db,originZ:rt,zIndex:pb,fillOpacity:qf,strokeOpacity:qf,numOctaves:pb};function XS(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(q2(d)){s[d]=p;continue}const m=$2[d],v=KW(p,m);if(Pl.has(d)){if(l=!0,o[d]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=v):r[d]=v}if(e.transform||(l||i?r.transform=JW(n.transform,t,h,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const KS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eD(n,e,t){for(const i in e)!Fi(e[i])&&!Y2(i,t)&&(n[i]=e[i])}function ZW({transformTemplate:n},e,t){return N.useMemo(()=>{const i=KS();return XS(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function $W(n,e,t){const i=n.style||{},r={};return eD(r,i,n),Object.assign(r,ZW(n,e,t)),n.transformValues?n.transformValues(r):r}function e6(n,e,t){const i={},r=$W(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const t6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Dg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||t6.has(n)}let tD=n=>!Dg(n);function n6(n){n&&(tD=e=>e.startsWith("on")?!Dg(e):n(e))}try{n6(require("@emotion/is-prop-valid").default)}catch{}function i6(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(tD(r)||t===!0&&Dg(r)||!e&&!Dg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function mb(n,e,t){return typeof n=="string"?n:rt.transform(e+t*n)}function r6(n,e,t){const i=mb(e,n.x,n.width),r=mb(t,n.y,n.height);return`${i} ${r}`}const s6={offset:"stroke-dashoffset",array:"stroke-dasharray"},o6={offset:"strokeDashoffset",array:"strokeDasharray"};function a6(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?s6:o6;n[s.offset]=rt.transform(-i);const o=rt.transform(e),a=rt.transform(t);n[s.array]=`${o} ${a}`}function YS(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(XS(n,c,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:x}=n;m.transform&&(x&&(v.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=r6(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&a6(m,o,a,l,!1)}const nD=()=>({...KS(),attrs:{}}),QS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function l6(n,e,t,i){const r=N.useMemo(()=>{const s=nD();return YS(s,e,{enableHardwareAcceleration:!1},QS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};eD(s,n.style,n),r.style={...s,...r.style}}return r}function c6(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(JS(t)?l6:e6)(i,s,o,t),h={...i6(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=N.useMemo(()=>Fi(d)?d.get():d,[d]);return N.createElement(t,{...h,children:p})}}const qS=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function iD(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const rD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sD(n,e,t,i){iD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(rD.has(r)?r:qS(r),e.attrs[r])}function ZS(n,e){const{style:t}=n,i={};for(const r in t)(Fi(t[r])||e.style&&Fi(e.style[r])||Y2(r,n))&&(i[r]=t[r]);return i}function oD(n,e){const t=ZS(n,e);for(const i in n)if(Fi(n[i])||Fi(e[i])){const r=gd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function $S(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function u6(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const Fg=n=>Array.isArray(n),f6=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),h6=n=>Fg(n)?n[n.length-1]||0:n;function $m(n){const e=Fi(n)?n.get():n;return f6(e)?e.toValue():e}function d6({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:p6(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const aD=n=>(e,t)=>{const i=N.useContext(Ey),r=N.useContext(VS),s=()=>d6(n,e,i,r);return t?s():u6(s)};function p6(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=$m(s[p]);let{initial:o,animate:a}=n;const l=Ty(n),c=J2(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!Cy(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=$S(n,m);if(!v)return;const{transitionEnd:x,transition:_,...g}=v;for(const A in g){let M=g[A];if(Array.isArray(M)){const E=h?M.length-1:0;M=M[E]}M!==null&&(r[A]=M)}for(const A in x)r[A]=x[A]}),r}const m6={useVisualState:aD({scrapeMotionValuesFromProps:oD,createRenderState:nD,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}YS(t,i,{enableHardwareAcceleration:!1},QS(e.tagName),n.transformTemplate),sD(e,t)}})},g6={useVisualState:aD({scrapeMotionValuesFromProps:ZS,createRenderState:KS})};function y6(n,{forwardMotionProps:e=!1},t,i){return{...JS(n)?m6:g6,preloadedFeatures:t,useRender:c6(e),createVisualElement:i,Component:n}}function Ys(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const lD=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Ry(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const v6=n=>e=>lD(e)&&n(e,Ry(e));function Zs(n,e,t,i){return Ys(n,e,v6(t),i)}const x6=(n,e)=>t=>e(n(t)),Zo=(...n)=>n.reduce(x6);function cD(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const gb=cD("dragHorizontal"),yb=cD("dragVertical");function uD(n){let e=!1;if(n==="y")e=yb();else if(n==="x")e=gb();else{const t=gb(),i=yb();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function fD(){const n=uD(!0);return n?(n(),!1):!0}class ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}function A6(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&r,p=d?e:t;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let c=0;c<i;c++){const h=e[c];h(l),o.has(h)&&(a.schedule(h),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const Hn={delta:0,timestamp:0,isProcessing:!1},_6=40;let __=!0,Nh=!1;const Py=["read","update","preRender","render","postRender"],qc=Py.reduce((n,e)=>(n[e]=A6(()=>Nh=!0),n),{}),M6=n=>qc[n].process(Hn),hD=n=>{Nh=!1,Hn.delta=__?1e3/60:Math.max(Math.min(n-Hn.timestamp,_6),1),Hn.timestamp=n,Hn.isProcessing=!0,Py.forEach(M6),Hn.isProcessing=!1,Nh&&(__=!1,requestAnimationFrame(hD))},S6=()=>{Nh=!0,__=!0,Hn.isProcessing||requestAnimationFrame(hD)},cn=Py.reduce((n,e)=>{const t=qc[e];return n[e]=(i,r=!1,s=!1)=>(Nh||S6(),t.schedule(i,r,s)),n},{});function oo(n){Py.forEach(e=>qc[e].cancel(n))}function vb(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||fD())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&cn.update(()=>a[i](s,o))};return Zs(n.current,t,r,{passive:!n.getProps()[i]})}class E6 extends ya{mount(){this.unmount=Zo(vb(this.node,!0),vb(this.node,!1))}unmount(){}}class w6 extends ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zo(Ys(this.node.current,"focus",()=>this.onFocus()),Ys(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dD=(n,e)=>e?n===e?!0:dD(n,e.parentElement):!1,Bn=n=>n;function ux(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Ry(t))}class C6 extends ya{constructor(){super(...arguments),this.removeStartListeners=Bn,this.removeEndListeners=Bn,this.removeAccessibleListeners=Bn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Zs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h}=this.node.getProps();cn.update(()=>{dD(this.node.current,a.target)?c&&c(a,l):h&&h(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=Zs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Zo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ux("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&cn.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ys(this.node.current,"keyup",o),ux("down",(a,l)=>{this.startPress(a,l)})},t=Ys(this.node.current,"keydown",e),i=()=>{this.isPressing&&ux("cancel",(s,o)=>this.cancelPress(s,o))},r=Ys(this.node.current,"blur",i);this.removeAccessibleListeners=Zo(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&cn.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fD()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&cn.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Zs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Ys(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Zo(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const M_=new WeakMap,fx=new WeakMap,T6=n=>{const e=M_.get(n.target);e&&e(n)},b6=n=>{n.forEach(T6)};function R6({root:n,...e}){const t=n||document;fx.has(t)||fx.set(t,{});const i=fx.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(b6,{root:n,...e})),i[r]}function P6(n,e,t){const i=R6(e);return M_.set(n,t),i.observe(n),()=>{M_.delete(n),i.unobserve(n)}}const B6={some:0,all:1};class I6 extends ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:B6[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return P6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(L6(e,t))&&this.startObserver()}unmount(){}}function L6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const D6={inView:{Feature:I6},tap:{Feature:C6},focus:{Feature:w6},hover:{Feature:E6}};function pD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function F6(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function N6(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function By(n,e,t){const i=n.getProps();return $S(i,e,t!==void 0?t:i.custom,F6(n),N6(n))}const O6="framerAppearId",U6="data-"+qS(O6);let k6=Bn,e1=Bn;const $o=n=>n*1e3,$s=n=>n/1e3,z6={current:!1},mD=n=>Array.isArray(n)&&typeof n[0]=="number";function gD(n){return!!(!n||typeof n=="string"&&yD[n]||mD(n)||Array.isArray(n)&&n.every(gD))}const Df=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,yD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Df([0,.65,.55,1]),circOut:Df([.55,0,1,.45]),backIn:Df([.31,.01,.66,-.59]),backOut:Df([.33,1.53,.69,.99])};function vD(n){if(n)return mD(n)?Df(n):Array.isArray(n)?n.map(vD):yD[n]}function G6(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const h=vD(a);return Array.isArray(h)&&(c.easing=h),n.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const xb={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},hx={},xD={};for(const n in xb)xD[n]=()=>(hx[n]===void 0&&(hx[n]=xb[n]()),hx[n]);function H6(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const AD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,V6=1e-7,W6=12;function j6(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=AD(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>V6&&++a<W6);return o}function xd(n,e,t,i){if(n===e&&t===i)return Bn;const r=s=>j6(s,0,1,n,t);return s=>s===0||s===1?s:AD(r(s),e,i)}const J6=xd(.42,0,1,1),X6=xd(0,0,.58,1),_D=xd(.42,0,.58,1),K6=n=>Array.isArray(n)&&typeof n[0]!="number",MD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,SD=n=>e=>1-n(1-e),ED=n=>1-Math.sin(Math.acos(n)),t1=SD(ED),Y6=MD(t1),wD=xd(.33,1.53,.69,.99),n1=SD(wD),Q6=MD(n1),q6=n=>(n*=2)<1?.5*n1(n):.5*(2-Math.pow(2,-10*(n-1))),Z6={linear:Bn,easeIn:J6,easeInOut:_D,easeOut:X6,circIn:ED,circInOut:Y6,circOut:t1,backIn:n1,backInOut:Q6,backOut:wD,anticipate:q6},Ab=n=>{if(Array.isArray(n)){e1(n.length===4);const[e,t,i,r]=n;return xd(e,t,i,r)}else if(typeof n=="string")return Z6[n];return n},i1=(n,e)=>t=>!!(yd(t)&&YW.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),CD=(n,e,t)=>i=>{if(!yd(i))return i;const[r,s,o,a]=i.match(by);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$6=n=>Al(0,255,n),dx={...Bl,transform:n=>Math.round($6(n))},nl={test:i1("rgb","red"),parse:CD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+dx.transform(n)+", "+dx.transform(e)+", "+dx.transform(t)+", "+Zf(qf.transform(i))+")"};function ej(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const S_={test:i1("#"),parse:ej,transform:nl.transform},Uc={test:i1("hsl","hue"),parse:CD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+xs.transform(Zf(e))+", "+xs.transform(Zf(t))+", "+Zf(qf.transform(i))+")"},gi={test:n=>nl.test(n)||S_.test(n)||Uc.test(n),parse:n=>nl.test(n)?nl.parse(n):Uc.test(n)?Uc.parse(n):S_.parse(n),transform:n=>yd(n)?n:n.hasOwnProperty("red")?nl.transform(n):Uc.transform(n)},ln=(n,e,t)=>-t*n+t*e+n;function px(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function tj({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=px(l,a,n+1/3),s=px(l,a,n),o=px(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const mx=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},nj=[S_,nl,Uc],ij=n=>nj.find(e=>e.test(n));function _b(n){const e=ij(n);let t=e.parse(n);return e===Uc&&(t=tj(t)),t}const TD=(n,e)=>{const t=_b(n),i=_b(e),r={...t};return s=>(r.red=mx(t.red,i.red,s),r.green=mx(t.green,i.green,s),r.blue=mx(t.blue,i.blue,s),r.alpha=ln(t.alpha,i.alpha,s),nl.transform(r))};function rj(n){var e,t;return isNaN(n)&&yd(n)&&(((e=n.match(by))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Z2))===null||t===void 0?void 0:t.length)||0)>0}const bD={regex:XW,countKey:"Vars",token:"${v}",parse:Bn},RD={regex:Z2,countKey:"Colors",token:"${c}",parse:gi.parse},PD={regex:by,countKey:"Numbers",token:"${n}",parse:Bl.parse};function gx(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function Ng(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&gx(t,bD),gx(t,RD),gx(t,PD),t}function BD(n){return Ng(n).values}function ID(n){const{values:e,numColors:t,numVars:i,tokenised:r}=Ng(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(bD.token,o[l]):l<i+t?a=a.replace(RD.token,gi.transform(o[l])):a=a.replace(PD.token,Zf(o[l]));return a}}const sj=n=>typeof n=="number"?0:n;function oj(n){const e=BD(n);return ID(n)(e.map(sj))}const ca={test:rj,parse:BD,createTransformer:ID,getAnimatableNone:oj},LD=(n,e)=>t=>`${t>0?e:n}`;function DD(n,e){return typeof n=="number"?t=>ln(n,e,t):gi.test(n)?TD(n,e):n.startsWith("var(")?LD(n,e):ND(n,e)}const FD=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>DD(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},aj=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=DD(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},ND=(n,e)=>{const t=ca.createTransformer(e),i=Ng(n),r=Ng(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Zo(FD(i.values,r.values),t):LD(n,e)},Oh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Mb=(n,e)=>t=>ln(n,e,t);function lj(n){return typeof n=="number"?Mb:typeof n=="string"?gi.test(n)?TD:ND:Array.isArray(n)?FD:typeof n=="object"?aj:Mb}function cj(n,e,t){const i=[],r=t||lj(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Bn:e;a=Zo(l,a)}i.push(a)}return i}function OD(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(e1(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=cj(e,i,r),a=o.length,l=c=>{let h=0;if(a>1)for(;h<n.length-2&&!(c<n[h+1]);h++);const d=Oh(n[h],n[h+1],c);return o[h](d)};return t?c=>l(Al(n[0],n[s-1],c)):l}function uj(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Oh(0,e,i);n.push(ln(t,1,r))}}function fj(n){const e=[0];return uj(e,n.length-1),e}function hj(n,e){return n.map(t=>t*e)}function dj(n,e){return n.map(()=>e||_D).splice(0,n.length-1)}function Og({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=K6(i)?i.map(Ab):Ab(i),s={done:!1,value:e[0]},o=hj(t&&t.length===e.length?t:fj(e),n),a=OD(o,e,{ease:Array.isArray(r)?r:dj(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function UD(n,e){return e?n*(1e3/e):0}const pj=5;function kD(n,e,t){const i=Math.max(e-pj,0);return UD(t-n(i),e-i)}const yx=.001,mj=.01,Sb=10,gj=.05,yj=1;function vj({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;k6(n<=$o(Sb));let o=1-e;o=Al(gj,yj,o),n=Al(mj,Sb,$s(n)),o<1?(r=c=>{const h=c*o,d=h*n,p=h-t,m=E_(c,o),v=Math.exp(-d);return yx-p/m*v},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-d),x=E_(Math.pow(c,2),o);return(-r(c)+yx>0?-1:1)*((p-m)*v)/x}):(r=c=>{const h=Math.exp(-c*n),d=(c-t)*n+1;return-yx+h*d},s=c=>{const h=Math.exp(-c*n),d=(t-c)*(n*n);return h*d});const a=5/n,l=Aj(r,s,a);if(n=$o(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const xj=12;function Aj(n,e,t){let i=t;for(let r=1;r<xj;r++)i=i-n(i)/e(i);return i}function E_(n,e){return n*Math.sqrt(1-e*e)}const _j=["duration","bounce"],Mj=["stiffness","damping","mass"];function Eb(n,e){return e.some(t=>n[t]!==void 0)}function Sj(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Eb(n,Mj)&&Eb(n,_j)){const t=vj(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function zD({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:h,duration:d,isResolvedFromDuration:p}=Sj(i),m=h?-$s(h):0,v=l/(2*Math.sqrt(a*c)),x=s-r,_=$s(Math.sqrt(a/c)),g=Math.abs(x)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let A;if(v<1){const M=E_(_,v);A=E=>{const C=Math.exp(-v*_*E);return s-C*((m+v*_*x)/M*Math.sin(M*E)+x*Math.cos(M*E))}}else if(v===1)A=M=>s-Math.exp(-_*M)*(x+(m+_*x)*M);else{const M=_*Math.sqrt(v*v-1);A=E=>{const C=Math.exp(-v*_*E),R=Math.min(M*E,300);return s-C*((m+v*_*x)*Math.sinh(R)+M*x*Math.cosh(R))/M}}return{calculatedDuration:p&&d||null,next:M=>{const E=A(M);if(p)o.done=M>=d;else{let C=m;M!==0&&(v<1?C=kD(A,M,E):C=0);const R=Math.abs(C)<=t,B=Math.abs(s-E)<=e;o.done=R&&B}return o.value=o.done?s:E,o}}}function wb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],p={done:!1,value:d},m=P=>a!==void 0&&P<a||l!==void 0&&P>l,v=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let x=t*e;const _=d+x,g=o===void 0?_:o(_);g!==_&&(x=g-d);const A=P=>-x*Math.exp(-P/i),M=P=>g+A(P),E=P=>{const b=A(P),I=M(P);p.done=Math.abs(b)<=c,p.value=p.done?g:I};let C,R;const B=P=>{m(p.value)&&(C=P,R=zD({keyframes:[p.value,v(p.value)],velocity:kD(M,P,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return B(0),{calculatedDuration:null,next:P=>{let b=!1;return!R&&C===void 0&&(b=!0,E(P),B(P)),C!==void 0&&P>C?R.next(P-C):(!b&&E(P),p)}}}const Ej=n=>{const e=({timestamp:t})=>n(t);return{start:()=>cn.update(e,!0),stop:()=>oo(e),now:()=>Hn.isProcessing?Hn.timestamp:performance.now()}},Cb=2e4;function Tb(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Cb;)e+=t,i=n.next(e);return e>=Cb?1/0:e}const wj={decay:wb,inertia:wb,tween:Og,keyframes:Og,spring:zD};function Ug({autoplay:n=!0,delay:e=0,driver:t=Ej,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...p}){let m=1,v=!1,x,_;const g=()=>{x&&x(),_=new Promise(ee=>{x=ee})};g();let A;const M=wj[r]||Og;let E;M!==Og&&typeof i[0]!="number"&&(E=OD([0,100],i,{clamp:!1}),i=[0,100]);const C=M({...p,keyframes:i});let R;a==="mirror"&&(R=M({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let B="idle",P=null,b=null,I=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=Tb(C));const{calculatedDuration:G}=C;let J=1/0,W=1/0;G!==null&&(J=G+o,W=J*(s+1)-o);let K=0;const X=ee=>{if(b===null)return;m>0&&(b=Math.min(b,ee)),P!==null?K=P:K=(ee-b)*m;const Z=K-e,ne=Z<0;K=Math.max(Z,0),B==="finished"&&P===null&&(K=W);let ie=K,Ee=C;if(s){const Xe=K/J;let Me=Math.floor(Xe),_e=Xe%1;!_e&&Xe>=1&&(_e=1),_e===1&&Me--,Me=Math.min(Me,s+1);const de=!!(Me%2);de&&(a==="reverse"?(_e=1-_e,o&&(_e-=o/J)):a==="mirror"&&(Ee=R));let ae=Al(0,1,_e);K>W&&(ae=a==="reverse"&&de?1:0),ie=ae*J}const pe=ne?{done:!1,value:i[0]}:Ee.next(ie);E&&(pe.value=E(pe.value));let{done:j}=pe;!ne&&G!==null&&(j=K>=W);const ke=P===null&&(B==="finished"||B==="running"&&j||m<0&&K<=0);return d&&d(pe.value),ke&&L(),pe},oe=()=>{A&&A.stop(),A=void 0},te=()=>{B="idle",oe(),g(),b=I=null},L=()=>{B="finished",h&&h(),oe(),g()},V=()=>{if(v)return;A||(A=t(X));const ee=A.now();l&&l(),P!==null?b=ee-P:(!b||B==="finished")&&(b=ee),I=b,P=null,B="running",A.start()};n&&V();const H={then(ee,Z){return _.then(ee,Z)},get time(){return $s(K)},set time(ee){ee=$o(ee),K=ee,P!==null||!A||m===0?P=ee:b=A.now()-ee/m},get duration(){const ee=C.calculatedDuration===null?Tb(C):C.calculatedDuration;return $s(ee)},get speed(){return m},set speed(ee){ee===m||!A||(m=ee,H.time=$s(K))},get state(){return B},play:V,pause:()=>{B="paused",P=K},stop:()=>{v=!0,B!=="idle"&&(B="idle",c&&c(),te())},cancel:()=>{I!==null&&X(I),te()},complete:()=>{B="finished"},sample:ee=>(b=0,X(ee))};return H}const Cj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bm=10,Tj=2e4,bj=(n,e)=>e.type==="spring"||n==="backgroundColor"||!gD(e.ease);function Rj(n,e,{onUpdate:t,onComplete:i,...r}){if(!(xD.waapi()&&Cj.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(g=>{a=g})};c();let{keyframes:h,duration:d=300,ease:p,times:m}=r;if(bj(e,r)){const g=Ug({...r,repeat:0,delay:0});let A={done:!1,value:h[0]};const M=[];let E=0;for(;!A.done&&E<Tj;)A=g.sample(E),M.push(A.value),E+=bm;m=void 0,h=M,d=E-bm,p="linear"}const v=G6(n.owner.current,e,h,{...r,duration:d,ease:p,times:m}),x=()=>v.cancel(),_=()=>{cn.update(x),a(),c()};return v.onfinish=()=>{n.set(H6(h,r)),i&&i(),_()},{then(g,A){return l.then(g,A)},get time(){return $s(v.currentTime||0)},set time(g){v.currentTime=$o(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return $s(d)},play:()=>{o||(v.play(),oo(x))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const A=Ug({...r,autoplay:!1});n.setWithVelocity(A.sample(g-bm).value,A.sample(g).value,bm)}_()},complete:()=>v.finish(),cancel:_}}function Pj({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Bn,pause:Bn,stop:Bn,then:s=>(s(),Promise.resolve()),cancel:Bn,complete:Bn});return e?Ug({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const Bj={type:"spring",stiffness:500,damping:25,restSpeed:10},Ij=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Lj={type:"keyframes",duration:.8},Dj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fj=(n,{keyframes:e})=>e.length>2?Lj:Pl.has(n)?n.startsWith("scale")?Ij(e[1]):Bj:Dj,w_=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ca.test(e)||e==="0")&&!e.startsWith("url(")),Nj=new Set(["brightness","contrast","saturate","opacity"]);function Oj(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(by)||[];if(!i)return n;const r=t.replace(i,"");let s=Nj.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const Uj=/([a-z-]*)\(.*?\)/g,C_={...ca,getAnimatableNone:n=>{const e=n.match(Uj);return e?e.map(Oj).join(" "):n}},kj={...$2,color:gi,backgroundColor:gi,outlineColor:gi,fill:gi,stroke:gi,borderColor:gi,borderTopColor:gi,borderRightColor:gi,borderBottomColor:gi,borderLeftColor:gi,filter:C_,WebkitFilter:C_},r1=n=>kj[n];function GD(n,e){let t=r1(n);return t!==C_&&(t=ca),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const HD=n=>/^0[^.\s]+$/.test(n);function zj(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||HD(n)}function Gj(n,e,t,i){const r=w_(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),zj(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];s[h]=GD(e,a)}return s}function Hj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function VD(n,e){return n[e]||n.default||n}const s1=(n,e,t,i={})=>r=>{const s=VD(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-$o(o);const l=Gj(e,n,t,s),c=l[0],h=l[l.length-1],d=w_(n,c),p=w_(n,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(Hj(s)||(m={...m,...Fj(n,m)}),m.duration&&(m.duration=$o(m.duration)),m.repeatDelay&&(m.repeatDelay=$o(m.repeatDelay)),!d||!p||z6.current||s.type===!1)return Pj(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=Rj(e,n,m);if(v)return v}return Ug(m)};function kg(n){return!!(Fi(n)&&n.add)}const Vj=n=>/^\-?\d*\.?\d+$/.test(n);function o1(n,e){n.indexOf(e)===-1&&n.push(e)}function a1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class l1{constructor(){this.subscriptions=[]}add(e){return o1(this.subscriptions,e),()=>a1(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wj=n=>!isNaN(parseFloat(n));class jj{constructor(e,t={}){this.version="10.12.12",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Hn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,cn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>cn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Wj(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new l1);const i=this.events[e].add(t);return e==="change"?()=>{i(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?UD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xu(n,e){return new jj(n,e)}const WD=n=>e=>e.test(n),Jj={test:n=>n==="auto",parse:n=>n},jD=[Bl,rt,xs,Bo,qW,QW,Jj],Mf=n=>jD.find(WD(n)),Xj=[...jD,gi,ca],Kj=n=>Xj.find(WD(n));function Yj(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,xu(t))}function Qj(n,e){const t=By(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=h6(s[o]);Yj(n,o,a)}}function qj(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),h!=null&&(typeof h=="string"&&(Vj(h)||HD(h))?h=parseFloat(h):!Kj(h)&&ca.test(c)&&(h=GD(l,c)),n.addValue(l,xu(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function Zj(n,e){return e?(e[n]||e.default||e).from:void 0}function $j(n,e,t){const i={};for(const r in n){const s=Zj(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function eJ({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function JD(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||h&&eJ(h,d))continue;const v={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const _=n.getProps()[U6];_&&(v.elapsed=window.HandoffAppearAnimations(_,d,p,cn))}p.start(s1(d,p,m,n.shouldReduceMotion&&Pl.has(d)?{type:!1}:v));const x=p.animation;kg(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&Qj(n,o)}),c}function T_(n,e,t={}){const i=By(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(JD(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=r;return tJ(n,e,c+l,h,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function tJ(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(nJ).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(T_(c,e,{...s,delay:t+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function nJ(n,e){return n.sortNodePosition(e)}function iJ(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>T_(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=T_(n,e,t);else{const r=typeof e=="function"?By(n,e,t.custom):e;i=Promise.all(JD(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const rJ=[...WS].reverse(),sJ=WS.length;function oJ(n){return e=>Promise.all(e.map(({animation:t,options:i})=>iJ(n,t,i)))}function aJ(n){let e=oJ(n);const t=cJ();let i=!0;const r=(l,c)=>{const h=By(n,c);if(h){const{transition:d,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const h=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},x=1/0;for(let g=0;g<sJ;g++){const A=rJ[g],M=t[A],E=h[A]!==void 0?h[A]:d[A],C=Dh(E),R=A===c?M.isActive:null;R===!1&&(x=g);let B=E===d[A]&&E!==h[A]&&C;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),M.protectedKeys={...v},!M.isActive&&R===null||!E&&!M.prevProp||Cy(E)||typeof E=="boolean")continue;const P=lJ(M.prevProp,E);let b=P||A===c&&M.isActive&&!B&&C||g>x&&C;const I=Array.isArray(E)?E:[E];let G=I.reduce(r,{});R===!1&&(G={});const{prevResolvedValues:J={}}=M,W={...J,...G},K=X=>{b=!0,m.delete(X),M.needsAnimating[X]=!0};for(const X in W){const oe=G[X],te=J[X];v.hasOwnProperty(X)||(oe!==te?Fg(oe)&&Fg(te)?!pD(oe,te)||P?K(X):M.protectedKeys[X]=!0:oe!==void 0?K(X):m.add(X):oe!==void 0&&m.has(X)?K(X):M.protectedKeys[X]=!0)}M.prevProp=E,M.prevResolvedValues=G,M.isActive&&(v={...v,...G}),i&&n.blockInitialAnimation&&(b=!1),b&&!B&&p.push(...I.map(X=>({animation:X,options:{type:A,...l}})))}if(m.size){const g={};m.forEach(A=>{const M=n.getBaseTarget(A);M!==void 0&&(g[A]=M)}),p.push({animation:g})}let _=!!p.length;return i&&h.initial===!1&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(p):Promise.resolve()}function a(l,c,h){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const p=o(h,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function lJ(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!pD(e,n):!1}function Na(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cJ(){return{animate:Na(!0),whileInView:Na(),whileHover:Na(),whileTap:Na(),whileDrag:Na(),whileFocus:Na(),exit:Na()}}class uJ extends ya{constructor(e){super(e),e.animationState||(e.animationState=aJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Cy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let fJ=0;class hJ extends ya{constructor(){super(...arguments),this.id=fJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const dJ={animation:{Feature:uJ},exit:{Feature:hJ}},bb=(n,e)=>Math.abs(n-e);function pJ(n,e){const t=bb(n.x,e.x),i=bb(n.y,e.y);return Math.sqrt(t**2+i**2)}class XD{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=xx(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=pJ(c.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=c,{timestamp:m}=Hn;this.history.push({...p,timestamp:m});const{onStart:v,onMove:x}=this.handlers;h||(v&&v(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=vx(h,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=xx(c.type==="pointercancel"?this.lastMoveEventInfo:vx(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),p&&p(c,m)},!lD(e))return;this.handlers=t,this.transformPagePoint=i;const r=Ry(e),s=vx(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=Hn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,xx(s,this.history)),this.removeListeners=Zo(Zs(window,"pointermove",this.handlePointerMove),Zs(window,"pointerup",this.handlePointerUp),Zs(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oo(this.updatePoint)}}function vx(n,e){return e?{point:e(n.point)}:n}function Rb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function xx({point:n},e){return{point:n,delta:Rb(n,KD(e)),offset:Rb(n,mJ(e)),velocity:gJ(e,.1)}}function mJ(n){return n[0]}function KD(n){return n[n.length-1]}function gJ(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=KD(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>$o(e)));)t--;if(!i)return{x:0,y:0};const s=$s(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nr(n){return n.max-n.min}function b_(n,e=0,t=.01){return Math.abs(n-e)<=t}function Pb(n,e,t,i=.5){n.origin=i,n.originPoint=ln(e.min,e.max,n.origin),n.scale=nr(t)/nr(e),(b_(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ln(t.min,t.max,n.origin)-n.originPoint,(b_(n.translate)||isNaN(n.translate))&&(n.translate=0)}function $f(n,e,t,i){Pb(n.x,e.x,t.x,i?i.originX:void 0),Pb(n.y,e.y,t.y,i?i.originY:void 0)}function Bb(n,e,t){n.min=t.min+e.min,n.max=n.min+nr(e)}function yJ(n,e,t){Bb(n.x,e.x,t.x),Bb(n.y,e.y,t.y)}function Ib(n,e,t){n.min=e.min-t.min,n.max=n.min+nr(e)}function eh(n,e,t){Ib(n.x,e.x,t.x),Ib(n.y,e.y,t.y)}function vJ(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ln(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ln(t,n,i.max):Math.min(n,t)),n}function Lb(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function xJ(n,{top:e,left:t,bottom:i,right:r}){return{x:Lb(n.x,t,r),y:Lb(n.y,e,i)}}function Db(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function AJ(n,e){return{x:Db(n.x,e.x),y:Db(n.y,e.y)}}function _J(n,e){let t=.5;const i=nr(n),r=nr(e);return r>i?t=Oh(e.min,e.max-i,n.min):i>r&&(t=Oh(n.min,n.max-r,e.min)),Al(0,1,t)}function MJ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const R_=.35;function SJ(n=R_){return n===!1?n=0:n===!0&&(n=R_),{x:Fb(n,"left","right"),y:Fb(n,"top","bottom")}}function Fb(n,e,t){return{min:Nb(n,e),max:Nb(n,t)}}function Nb(n,e){return typeof n=="number"?n:n[e]||0}const Ob=()=>({translate:0,scale:1,origin:0,originPoint:0}),th=()=>({x:Ob(),y:Ob()}),Ub=()=>({min:0,max:0}),Cn=()=>({x:Ub(),y:Ub()});function ds(n){return[n("x"),n("y")]}function YD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function EJ({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function wJ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Ax(n){return n===void 0||n===1}function P_({scale:n,scaleX:e,scaleY:t}){return!Ax(n)||!Ax(e)||!Ax(t)}function Ha(n){return P_(n)||QD(n)||n.z||n.rotate||n.rotateX||n.rotateY}function QD(n){return kb(n.x)||kb(n.y)}function kb(n){return n&&n!=="0%"}function zg(n,e,t){const i=n-t,r=e*i;return t+r}function zb(n,e,t,i,r){return r!==void 0&&(n=zg(n,r,i)),zg(n,t,i)+e}function B_(n,e=0,t=1,i,r){n.min=zb(n.min,e,t,i,r),n.max=zb(n.max,e,t,i,r)}function qD(n,{x:e,y:t}){B_(n.x,e.translate,e.scale,e.originPoint),B_(n.y,t.translate,t.scale,t.originPoint)}function CJ(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&kc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,qD(n,o)),i&&Ha(s.latestValues)&&kc(n,s.latestValues))}e.x=Gb(e.x),e.y=Gb(e.y)}function Gb(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function No(n,e){n.min=n.min+e,n.max=n.max+e}function Hb(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=ln(n.min,n.max,s);B_(n,e[t],e[i],o,e.scale)}const TJ=["x","scaleX","originX"],bJ=["y","scaleY","originY"];function kc(n,e){Hb(n.x,e,TJ),Hb(n.y,e,bJ)}function ZD(n,e){return YD(wJ(n.getBoundingClientRect(),e))}function RJ(n,e,t){const i=ZD(n,t),{scroll:r}=e;return r&&(No(i.x,r.offset.x),No(i.y,r.offset.y)),i}const PJ=new WeakMap;class BJ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(Ry(l,"page").point)},s=(l,c)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uD(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(v=>{let x=this.getAxisMotionValue(v).get()||0;if(xs.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const g=_.layout.layoutBox[v];g&&(x=nr(g)*(parseFloat(x)/100))}}this.originPoint[v]=x}),p&&cn.update(()=>p(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=c;if(d&&this.currentDirection===null){this.currentDirection=IJ(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,v),this.updateAxis("y",c.point,v),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new XD(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&cn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Rm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=vJ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Oc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=xJ(i.layoutBox,e):this.constraints=!1,this.elastic=SJ(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ds(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=MJ(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Oc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=RJ(i,r.root,this.visualElement.getTransformPagePoint());let o=AJ(r.layout.layoutBox,s);if(t){const a=t(EJ(o));this.hasMutatedConstraints=!!a,a&&(o=YD(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ds(h=>{if(!Rm(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(s1(e,i,0,t))}stopAnimation(){ds(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ds(t=>{const{drag:i}=this.getProps();if(!Rm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-ln(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Oc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ds(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=_J({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ds(o=>{if(!Rm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ln(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;PJ.set(this.visualElement,this);const e=this.visualElement.current,t=Zs(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Oc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Ys(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ds(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=R_,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Rm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function IJ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class LJ extends ya{constructor(e){super(e),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new BJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vb=n=>(e,t)=>{n&&cn.update(()=>n(e,t))};class DJ extends ya{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(e){this.session=new XD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Vb(e),onStart:Vb(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&cn.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=Zs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function FJ(){const n=N.useContext(VS);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=N.useId();return N.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wb(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Sf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rt.test(n))n=parseFloat(n);else return n;const t=Wb(n,e.target.x),i=Wb(n,e.target.y);return`${t}% ${i}%`}},NJ={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ca.parse(n);if(r.length>5)return i;const s=ca.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=ln(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class OJ extends yn.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;VW(UJ),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||cn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $D(n){const[e,t]=FJ(),i=N.useContext(X2);return yn.createElement(OJ,{...n,layoutGroup:i,switchLayoutGroup:N.useContext(K2),isPresent:e,safeToRemove:t})}const UJ={borderRadius:{...Sf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sf,borderTopRightRadius:Sf,borderBottomLeftRadius:Sf,borderBottomRightRadius:Sf,boxShadow:NJ},eF=["TopLeft","TopRight","BottomLeft","BottomRight"],kJ=eF.length,jb=n=>typeof n=="string"?parseFloat(n):n,Jb=n=>typeof n=="number"||rt.test(n);function zJ(n,e,t,i,r,s){r?(n.opacity=ln(0,t.opacity!==void 0?t.opacity:1,GJ(i)),n.opacityExit=ln(e.opacity!==void 0?e.opacity:1,0,HJ(i))):s&&(n.opacity=ln(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<kJ;o++){const a=`border${eF[o]}Radius`;let l=Xb(e,a),c=Xb(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Jb(l)===Jb(c)?(n[a]=Math.max(ln(jb(l),jb(c),i),0),(xs.test(c)||xs.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=ln(e.rotate||0,t.rotate||0,i))}function Xb(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const GJ=tF(0,.5,t1),HJ=tF(.5,.95,Bn);function tF(n,e,t){return i=>i<n?0:i>e?1:t(Oh(n,e,i))}function Kb(n,e){n.min=e.min,n.max=e.max}function mr(n,e){Kb(n.x,e.x),Kb(n.y,e.y)}function Yb(n,e,t,i,r){return n-=e,n=zg(n,1/t,i),r!==void 0&&(n=zg(n,1/r,i)),n}function VJ(n,e=0,t=1,i=.5,r,s=n,o=n){if(xs.test(e)&&(e=parseFloat(e),e=ln(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ln(s.min,s.max,i);n===s&&(a-=e),n.min=Yb(n.min,e,t,a,r),n.max=Yb(n.max,e,t,a,r)}function Qb(n,e,[t,i,r],s,o){VJ(n,e[t],e[i],e[r],e.scale,s,o)}const WJ=["x","scaleX","originX"],jJ=["y","scaleY","originY"];function qb(n,e,t,i){Qb(n.x,e,WJ,t?t.x:void 0,i?i.x:void 0),Qb(n.y,e,jJ,t?t.y:void 0,i?i.y:void 0)}function Zb(n){return n.translate===0&&n.scale===1}function nF(n){return Zb(n.x)&&Zb(n.y)}function I_(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function $b(n){return nr(n.x)/nr(n.y)}class JJ{constructor(){this.members=[]}add(e){o1(this.members,e),e.scheduleRender()}remove(e){if(a1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eR(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:h}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const XJ=(n,e)=>n.depth-e.depth;class KJ{constructor(){this.children=[],this.isDirty=!1}add(e){o1(this.children,e),this.isDirty=!0}remove(e){a1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XJ),this.isDirty=!1,this.children.forEach(e)}}function YJ(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(oo(i),n(s-e))};return cn.read(i,!0),()=>oo(i)}function QJ(n){window.MotionDebug&&window.MotionDebug.record(n)}function qJ(n){return n instanceof SVGElement&&n.tagName!=="svg"}function ZJ(n,e,t){const i=Fi(n)?n:xu(n);return i.start(s1("",i,e,t)),i.animation}const tR=["","X","Y","Z"],nR=1e3;let $J=0;const Va={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function iF({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$J++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Va.totalNodes=Va.resolvedTargetDeltas=Va.recalculatedProjection=0,this.nodes.forEach(nX),this.nodes.forEach(oX),this.nodes.forEach(aX),this.nodes.forEach(iX),QJ(Va)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new KJ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new l1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qJ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=YJ(p,250),eg.hasAnimatedSinceResize&&(eg.hasAnimatedSinceResize=!1,this.nodes.forEach(rR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||hX,{onLayoutAnimationStart:_,onLayoutAnimationComplete:g}=h.getProps(),A=!this.targetLayout||!I_(this.targetLayout,v)||m,M=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,M);const E={...VD(x,"layout"),onPlay:_,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||rR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iR);return}this.isUpdating&&(this.isUpdating=!1,this.nodes.forEach(sX),this.nodes.forEach(eX),this.nodes.forEach(tX),this.clearAllSnapshots(),qc.update.process(Hn),qc.preRender.process(Hn),qc.render.process(Hn))}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rX),this.sharedNodes.forEach(cX)}scheduleUpdateProjection(){cn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!nF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Ha(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),dX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Cn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(No(a.x,l.offset.x),No(a.y,l.offset.y)),a}removeElementScroll(o){const a=Cn();mr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){mr(a,o);const{scroll:p}=this.root;p&&(No(a.x,-p.offset.x),No(a.y,-p.offset.y))}No(a.x,h.offset.x),No(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Cn();mr(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&kc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ha(h.latestValues)&&kc(l,h.latestValues)}return Ha(this.latestValues)&&kc(l,this.latestValues),l}removeTransform(o){const a=Cn();mr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ha(c.latestValues))continue;P_(c.latestValues)&&c.updateSnapshot();const h=Cn(),d=c.measurePageBox();mr(h,d),qb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ha(this.latestValues)&&qb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),eh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cn(),this.targetWithTransforms=Cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mr(this.target,this.layout.layoutBox),qD(this.target,this.targetDelta)):mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),eh(this.relativeTargetOrigin,this.target,m.target),mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Va.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||P_(this.parent.latestValues)||QD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;mr(this.layoutCorrected,this.layout.layoutBox),CJ(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=th(),this.projectionDeltaWithTransform=th());const m=this.treeScale.x,v=this.treeScale.y,x=this.projectionTransform;$f(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=eR(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Va.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=th();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Cn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,_=this.getStack(),g=!_||_.members.length<=1,A=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(fX));this.animationProgress=0;let M;this.mixTargetDelta=E=>{const C=E/1e3;sR(d.x,o.x,C),sR(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uX(this.relativeTarget,this.relativeTargetOrigin,p,C),M&&I_(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Cn()),mr(M,this.relativeTarget)),x&&(this.animationValues=h,zJ(h,c,this.latestValues,C,A,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{eg.hasAnimatedSinceResize=!0,this.currentAnimation=ZJ(0,nR,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&rF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Cn();const d=nr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=nr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}mr(a,l),kc(a,h),$f(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JJ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<tR.length;h++){const d="rotate"+tR[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=$m(o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=$m(o.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=eR(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Lg){if(p[x]===void 0)continue;const{correct:_,applyTo:g}=Lg[x],A=c.transform==="none"?p[x]:_(p[x],d);if(g){const M=g.length;for(let E=0;E<M;E++)c[g[E]]=A}else c[x]=A}return this.options.layoutId&&(c.pointerEvents=d===this?$m(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(iR),this.root.sharedNodes.clear()}}}function eX(n){n.updateLayout()}function tX(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ds(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=nr(p);p.min=i[d].min,p.max=p.min+m}):rF(s,t.layoutBox,i)&&ds(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=nr(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=th();$f(a,i,t.layoutBox);const l=th();o?$f(l,n.applyTransform(r,!0),t.measuredBox):$f(l,i,t.layoutBox);const c=!nF(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=Cn();eh(v,t.layoutBox,p.layoutBox);const x=Cn();eh(x,i,m.layoutBox),I_(v,x)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=v,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function nX(n){Va.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function iX(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function rX(n){n.clearSnapshot()}function iR(n){n.clearMeasurements()}function sX(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function rR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function oX(n){n.resolveTargetDelta()}function aX(n){n.calcProjection()}function lX(n){n.resetRotation()}function cX(n){n.removeLeadSnapshot()}function sR(n,e,t){n.translate=ln(e.translate,0,t),n.scale=ln(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function oR(n,e,t,i){n.min=ln(e.min,t.min,i),n.max=ln(e.max,t.max,i)}function uX(n,e,t,i){oR(n.x,e.x,t.x,i),oR(n.y,e.y,t.y,i)}function fX(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const hX={duration:.45,ease:[.4,0,.1,1]};function aR(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function dX(n){aR(n.x),aR(n.y)}function rF(n,e,t){return n==="position"||n==="preserve-aspect"&&!b_($b(e),$b(t),.2)}const pX=iF({attachResizeListener:(n,e)=>Ys(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_x={current:void 0},sF=iF({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!_x.current){const n=new pX({});n.mount(window),n.setOptions({layoutScroll:!0}),_x.current=n}return _x.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mX={pan:{Feature:DJ},drag:{Feature:LJ,ProjectionNode:sF,MeasureLayout:$D}},gX=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function yX(n){const e=gX.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function L_(n,e,t=1){const[i,r]=yX(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():A_(r)?L_(r,e,t+1):r}function vX(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!A_(s))return;const o=L_(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!A_(s))continue;const o=L_(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const xX=new Set(["width","height","top","left","right","bottom","x","y"]),oF=n=>xX.has(n),AX=n=>Object.keys(n).some(oF),lR=n=>n===Bl||n===rt,cR=(n,e)=>parseFloat(n.split(", ")[e]),uR=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return cR(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?cR(s[1],n):0}},_X=new Set(["x","y","z"]),MX=gd.filter(n=>!_X.has(n));function SX(n){const e=[];return MX.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const fR={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:uR(4,13),y:uR(5,14)},EX=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=fR[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),n[c]=fR[c](l,s)}),n},wX=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(oF);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],d=Mf(h);const p=e[l];let m;if(Fg(p)){const v=p.length,x=p[0]===null?1:0;h=p[x],d=Mf(h);for(let _=x;_<v&&p[_]!==null;_++)m?e1(Mf(p[_])===m):m=Mf(p[_])}else m=Mf(p);if(d!==m)if(lR(d)&&lR(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===rt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?c.set(m.transform(h)):e[l]=d.transform(p):(o||(s=SX(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=EX(e,n,a);return s.length&&s.forEach(([h,d])=>{n.getValue(h).set(d)}),n.render(),wy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function CX(n,e,t,i){return AX(e)?wX(n,e,t,i):{target:e,transitionEnd:i}}const TX=(n,e,t,i)=>{const r=vX(n,e,i);return e=r.target,i=r.transitionEnd,CX(n,e,t,i)},D_={current:null},aF={current:!1};function bX(){if(aF.current=!0,!!wy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>D_.current=n.matches;n.addListener(e),e()}else D_.current=!1}function RX(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Fi(s))n.addValue(r,s),kg(i)&&i.add(r);else if(Fi(o))n.addValue(r,xu(s,{owner:n})),kg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,xu(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const hR=new WeakMap,lF=Object.keys(Fh),PX=lF.length,dR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],BX=jS.length;class IX{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>cn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Ty(t),this.isVariantNode=J2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{});for(const d in h){const p=h[d];a[d]!==void 0&&Fi(p)&&(p.set(a[d],!1),kg(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,hR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),aF.current||bX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:D_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hR.delete(this.current),this.projection&&this.projection.unmount(),oo(this.notifyUpdate),oo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Pl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&cn.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<PX;l++){const c=lF[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:m}=Fh[c];p&&(o=p),h(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Oc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<dR.length;i++){const r=dR[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=RX(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<BX;i++){const r=jS[i],s=this.props[r];(Dh(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=xu(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=$S(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Fi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new l1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class cF extends IX{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=$j(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){qj(this,i,o);const a=TX(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function LX(n){return window.getComputedStyle(n)}class DX extends cF{readValueFromInstance(e,t){if(Pl.has(t)){const i=r1(t);return i&&i.default||0}else{const i=LX(e),r=(q2(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ZD(e,t)}build(e,t,i,r){XS(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return ZS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){iD(e,t,i,r)}}class FX extends cF{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Pl.has(t)){const i=r1(t);return i&&i.default||0}return t=rD.has(t)?t:qS(t),e.getAttribute(t)}measureInstanceViewportBox(){return Cn()}scrapeMotionValuesFromProps(e,t){return oD(e,t)}build(e,t,i,r){YS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){sD(e,t,i,r)}mount(e){this.isSVGTag=QS(e.tagName),super.mount(e)}}const NX=(n,e)=>JS(n)?new FX(e,{enableHardwareAcceleration:!1}):new DX(e,{enableHardwareAcceleration:!0}),OX={layout:{ProjectionNode:sF,MeasureLayout:$D}},UX={...dJ,...D6,...mX,...OX},Yi=GW((n,e)=>y6(n,e,UX,NX)),$i={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#b6e1bc] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},kX=()=>q.jsx(q.Fragment,{children:q.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[q.jsxs("div",{className:`${$i.paddingX} absolute inset-0 
top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:[q.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[q.jsx("div",{className:"w-5 h-5 rounded-full bg-[#10a93d]"}),q.jsx("div",{className:"w-1 sm:h-80 h-40 green-gradient"})]}),q.jsxs("div",{children:[q.jsxs("h1",{className:`${$i.heroHeadText}text-green`,children:["Hi, I'm",q.jsx("span",{className:"text-[#10a93d]",children:"Shufan"})]}),q.jsxs("p",{className:`${$i.heroSubText} mt-2 text-white-100`,children:["I'm a current CS sophomore at UW-Madison.",q.jsx("br",{className:"sm:block hidden"}),"My academic interests lay in",q.jsx("br",{className:"sm:block hidden"})," computer vision, optimization, VR, real time rendering and animation."]})]})]}),q.jsx(IW,{}),q.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:q.jsx("a",{href:"#about",children:q.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:q.jsx(Yi.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]})}),zX="/assets/logo-0ad83366.svg",GX="/assets/backend-21458545.png",HX="/assets/creator-fbcd2f5a.png",VX="/assets/mobile-4737ac47.png",WX="/assets/web-ab2fe085.png",jX="/assets/github-3b4e1609.png",JX="/assets/youtube-1e0bbf1e.png",XX="/assets/itch-e7ea6a43.svg",KX="/assets/menu-242d80a8.svg",YX="/assets/close-ad0e0ca6.svg",QX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAyVBMVEUAFyH///8Ayf8AAAAAz/8Axf9h1v8ACxQAW3Xk+f8Ayv8AvvHC/f+79P+/+f8AAAYA0P+y6vir4e8ACxcAAA0ABBO28P4AEBtpkZwZMjsrR1BNbHY7Vl8IISpYfIYABQ4AcpEAgqYArt4Ai7LR8/8/0f8AGSS87f8AYHwAaIUAS2EAqdec5f8ALDsAlL0Anciu6f903P+I4P8AOUoAVG0AJjQARFgANUYAdZYA1/+GtMDh9/+l5/8QKDGRwc2cztt5oaxxmaQlPkYtL4OHAAALUklEQVR4nO3da1ebSBgA4JgB4w6GsG4UbbW51lysidGo0W017f//UQsJAwMMwwzMBfbk/eTpscDj3GEujaP/ezR0P4D0OAjrHwdh/eMgrH8chPWPg7D+cRDWPw7C+sdBWP84CGMxfnhcHWuO1ePD+C8pwskKmmazEmGacDURLByvqqJDYZrHjEgW4cSoGG8fZvOHGOEYVtK3DwZjrvC4wj4vHeG4pHCim5Ab5qqU8DGVgNDQHDBlhPTGgypM5FBoOM5wMZhNTzTFdDZYDA0nqTSpOZUm/J7wwcVJB4BOr6Utet79wcvAcow4kdZwUIQxIHSsPgCtRgXC7YCnhWGwErOFx/gljOYM9HTTonBBaxAzUjJqphCvZKAzqpJvF+B26WDl0fyXVzjBgc050A0iBFg38SqHV4gBDatRifKXip47xHLqMZ8Qq2WMO+DqtmSECxZOlE8feIRYHvWAuiGUACOMyCOM8rcxrDIwTiTnU6LwZ5iE0Ko20CMuw7JIrk+JQqwQ3le1DIYBhpCaiCRhVAqdWdWT0KtubiCkJSJJGFaksNK1DIrOLCyKpJEUQfhXlITPlc+jfkT5lFSdEoQ/wkI4qkMSevn0CSUiqQdOEKJMCo1qdmXSAZYoEQl1DUFo1iwJY4nIIhwjYU1KoR9hSSSMotJCVAzrUZHuo9dHzf5PBiEa+Rqzqg0JKXGLsmm6vUgL0V/DqU0ebWDZ9DuDMCiGsOJd7niAEUoYdmF9alI/ejMjqzJNCVGPxpjVpTX0w30JCqKZej2cKXSexJdDtwv86Moo4QWEwmtSF/y6/Dg7+/y4bIgvAIBfCEU/Rffm49QO4v38XPDVAeQVCh/cg69227Y/t9v3T++Hiy8dwZfXLgTfTtv2b3dXDm+23s/XYonahT7w7z/Ba0kXXLdFE3ULd8CbqOx1v4gmahbugf9g/yKcqFeYBoonahWSgMKJOoVkoGiiRmEWUDBRnzAbKJaoTUgDCiXqEtKBIomahHlAgUQ9wnygOKIWIQtQGFGHkA0oiqhByAoURFQvZAeKISoX8gCFEFUL+YAiiIqFvEABRLVCfmB5olJhEWBpokphMWBZokJhUWBJojphcWA5ojJhGWApoiphOWAZoiJhWWAJohpheWBxohJhAui6brQUhP2baEGiCmEyBe+f5ut1sJxn/QqYl6MUIyoQJoDgzdnFfjmW94O1nAG2KfGFiPKFyRQE8ZVJ+0Vvi2emixYhShemKpmU0A/DGcgiyhama1GisNl02OYh8RMlCwnNRIawabBdl5soV0hqB5EwWHMaTjZvGkspRKlCYkMfCOFy05/N+oNlM1xo5kyZmg1OokwhuScTCI0+6HnRAeDEQqnKeGU+okRhRlctFKKpVa1wcQtjIvIR5Qmz+qIpofdPdzDIuYx/PB6iNGFmZ5sgdIOJvLAZv7Tb26+fTnd4OIiyhNmjCYIwXDTgYIupXABeZoPRaLCZvoDUUlx2oiQhZbhEEqL55s46LIjgdQGDvqu/2L/fLUqUI6SNB0nC1nqfTQ1U1fhrQPHtA+DbbfI6rEQpQuqAlyREE3nRKgC3YSV6Pk5KyEqUIaSP6IlpOI+nIUgCSUJGogRhzisLonAWK4fR/HqqkI0oXpj3ToZYlwYk59WvS93nYOKyv6GIP1b2+q5EYUBMVkKShZ2vOS+diMJgh4D9BOvOIOi6WrNnAG7n/SV0yMI98Qv1FZdooXtl57xVI/VpNgFpv6AqWObi3Wg3d9/tATCzyMId8YKaT0ULwWfbvqL/TVNCENQz6N+CFDX60ZP3Mu/ZuT61t9QnEit0v5zalznlNC5sAbAJxk8wWAWAfoNtARl4b9u0kihYCLZ2O6+qRc+/m7vemg/ClsEZ7BMtSEPGRYDu1an9jbKEQbTw0/5gE3rX8QI6UdclvDCwgl7qiOklIziz32mPJFh4Yf/Oa59QkkE/mmFAiLrdYIHGi8N7lj7wu/2pUNi2L+nNU9abKAifUK8b9VJ3G/y4+X3Ed/usmmkY8znWczS+R9nUL67GqJV3QbVpyF4OcZ8BB3iRc1+xbZAM2KcXR8XlcGtfcAkh9IZ/1ibR3nXWGBE6w1vK+xv3l00tGYKF/3jt4Tem9tB7cD+s4aJ/D1IPCObQwP8ML9lNI9i2TxuURJbQp2nf0DNV0B6uQRA90q+3bu/wZDSeslLx3Pub0jKp+H7pn9P22TmNiIR5bw7BiRUZYTMjH55fXbTbtCQUP7bwB09UIqvQ68/NooFwxvJqH3h6TV2UKWF8eEknMgv9/vYA9XggceWqD7S/5jyPhDE+ncgh9H75HjWN2Gs4LqCc9zRUIpew4aLW39ikSiITUNK7NhqRTxi9pBoluza7MpgLlPW+lELMF7qxxg8gYeK2jEBp77yziblCd77BXuK79w4xl7IC5X23yCTmClsnb5Y3PO76H2TcXvhJ4yT2+8xAid+esoj5Qq9TahjLzfq5C56naBNLJ5aE7ECZ3w8ziCzCJvauNGjxY58WOYBSvwGTiYzCRODf3RibCfnCDGIhodPHbsoFlDwXg0RkqGmSQhibMcUHlD2fhkDMby2e4vurQ8daJ4CsZVC+kEQEb7vvum+UFr/Tv4t9/8WnZ/IC5c9rSxG7g328UkZYPQCeppvRaDHanLixb/jcQAVzE9PEzi5yXva6rd3GSt14SvMDVcwvzRkv8kQBoJI5wsKIRYBq5nkLInI2E+juSubqCyEWA6pabyGAWBCobM1MaWKhMri7tap1TyWJhYEK166VIhYHqlx/WIJYAqh0DWlhYhmg2nXABYmlgIrXchciFm0m0E3VrscvQCwJVL6nAjexLFD9vhicxHJlcHdH5XubcBHLA3XsT8NBFADUsscQM1EEUM8+UYxEIUBNe30xEcUAde3XxkAs3Uyge2nacy+XKAqob9/EHKIwoMa9L6lEQWVwdyN9+5dSiAKBWvegzSSKBOrdRziDKBSoeS9oIlEsUPd+3gSiYKD2PdlTRHHNBLqFXmFAjJYRCQdqF+6JN+iS4I9ooH7hjti+BKDTBeB8awstg7vraxc2wDe7bbc/tpfbD9tut69FX97QLmx0rsJzZk7fb4WfM8N9kk5y4wMB4YKr3x9nZ2cfl7+En6EcLrnlOQ1JuFDmeU/hDCseIW2eSOUiPB6QQRieu8Y4f7kaES71Yzh3LRQOBJ/IJDWidXAMQrRgqU6nA4YVDdP5h+gMS6dGadjboGU3LGdYonNI63Q8IAjPPP7BIERnydbopFX3NTwtl+Us2fA84PqclhvWpGznAYdnOtfonM5w8Rvbmc7Rudy6H5wxsCR8YBKGZ6sbi1okIlpvQ86kJGGYTaWcRSo+ooqU0FaQhROUiOKHUBIC9KMkTNekZOER+h91qGxar9Fy8HSHJkv4EyVi05lWndiNdmYgJiFZeITtdUBZI1+FAMMoCQlNRaYwLIn+GvkqE8FdBEwPDSnCqDr1iC+VzagunoJmuktKE4ZdN3+5TlXLYu8W39KOWM1QhFE+9aqbBet+6koDrPGtfdJD3xzh0SNGNKy58LdjZaPbWWBbamTUo1RhOBLe59TlfaXSsQv6TXx/GHOS6cgWYrXN3jhn3vxfcrRAZ2PhCUjscTMI40R/geDIQ/r74eoLf0Pe1nQZX7pIBVKFR8dm3Gg4xnAxmE1PdMW0P1haTpxHzaJ5wlh1g5SaA8LUI5Fbejbh0SR5ucqFSe6rMQtTObVyQc2hTMKjMayuMaunxif0sqpRSaPZfGR4eCahl44rs2JI0/xOayK4hV5MVkZVlN5zrB7oFWgRoR/jh8fVseZYPf4cM+u4hbWMg7D+cRDWPw7C+sdBWP84COsfB2H94yCsfxyE9Y+DsP7xH8ERfTAhrxkdAAAAAElFTkSuQmCC",qX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",ZX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",$X="/assets/greenbird-1ae52d24.jpg",pR="/assets/girl1-09ac3c5e.jpg",e7="/assets/girl2-3e70d3c8.jpg",t7="/assets/mural1-200ab960.jpg",n7="/assets/mural3-377583e8.jpg",i7="/assets/gb1-f6898e46.jpg",r7="/assets/gb2-477944c7.jpg",s7="/assets/Venus-4fc1f221.png",o7="/assets/puddle-c4f6e918.jpg",a7="/assets/fox-6b2de270.jpg",l7="/assets/mango-0cd8eb34.jpg",c7="/assets/7-8d06ddd3.jpg",u7="/assets/1-76e0fd7a.png",f7="/assets/4-1019dd09.jpg",h7="/assets/5-f9ed542b.jpg",d7="/assets/6-062f6608.jpg",p7="/assets/venus1-1775c2ac.jpg",m7="/assets/venus2-7458b18b.jpg",g7="/assets/venus3-69e88190.jpg",y7="/assets/venus4-5498d70b.jpg",v7="/assets/vanita-2af0a05d.png",x7="/assets/deer-6523ae9f.jpg",A7="/assets/forest-fcd53d51.jpg",_7="/assets/forest2-f20b6c26.jpg",mR="/assets/wall-107986f3.jpg",M7="/assets/reactjs-966214a8.png",S7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOUAAADcCAMAAAC4YpZBAAAA4VBMVEX///82aZT/wzExZpL/0WP/9Nf/wi1njq7M2eP7/P3/xTX/xz0+b5n/+/H/3Yz/+u6huMz//ff/5qzh6O5Jd5+/zt3Z2dlubm51dXXu7u7/2oVfh6n19fVnZ2d8fHz/78b/1HG6urqNjY2GpL7/z1tfX1+wsLDT09OgoKDp6enAwMCVlpbKysqEhIT/+OXe5u1SfqP/ykh2l7WPq8P/8c7/5KP/yUf/7L7/02qYssixxdX/5ab/4Jb/2n6cnJxchayestVIdaM4b4toirnR2e6ou9aLpsdzlLvb4fS2xuCtueb54nqfAAAL9UlEQVR4nO2de3uquhLGrVUEpSpeoYI3LIoFxVurVu3Ze6/LWef7f6CTgFa0rQQIBN28f9XiWk9+ncnMJE5iIhErVqxYNyqGEUWxXC6PoWgo86dxuSyABwzp4fkXIwrlMV1dF1eyPM003g2jAmUYRiOTmcqzVXFdpcdlkblaVkYEgOuZnDEqd9+LNRrTWbFKl6/RqACRLsqNCnsB0IZaeZ+uquMrA2VEujg10Ag/VMnM6PL1cALG2btLxL33TtfXwgkY3ZrRZtDr4GTKxYZnRmjPikyLpCGcxNDTSxEVifP9P2XSGJfFVDN+DLnHNGaRxmTohm9GqIocYUyGzmCBjDamIPt31wPmKqohiKnaAs8925jKcsZzKDKqEU0odlOymRUNlyFV2SMnOx2T5vlSDG0D+l0VTFuA9OkRs7KOpDHF4tGUjaO/CV4xp5EMQOLsQMn+9dMWO8ZTb5TRnJnHafn3Pz9svxd/eou8lV9RDLM2yl/2yMH8MTxRsr+j6LK2EFu0W8FzrZCJOOVKsD8Yeyz7MlHMJUfK+5P67CTD3BJlhrb93p5h3FFG3GMr9ok59lrCR53SXhWUV15L+MhT3r3/2Vd445Xngj36lPfGzKzW11Pvi7HoU96xbKWRyXjfzLsOSgyKKYkppowpY8roKaa8HUpxVkEU4l8jkpTMuIqmFeIOSSQpYcsLihLVxv01UyKKjin/nZRcunWqeboQ0jiZstVp5k1FwwXlw6Z3qlQ7X5pzgROK42pxNs00wPLRm1AXnSZl4TFJnSk7WW6C5WTK1Rnsj7j3IzTIA2U2eS6KSqYW6eAgAaNxhzpKv/qWEoLmtq2HYBgZGjWhB04J1CsFEobEaiY0OyJQUpO3EX7IcjFMQzpTQkzsTisUK2EaEoEySfVeMYdazx+cB0iZpJYtrJDMOmR3RaJMZh9xTk2GzoTsrmiUyZcFxqn531+h+ysaJZXC57Piz78w73Zgo8xtsBmThL+iUWI0puj5I8gQKHN5TNmEjCnRKJPJJZ66nSFjSlTKlwUWY2Lr7Q2GMrvFkTOZ0Es7d5RUD0f8KctEGO/upgIaJRaXRd2Mwi4ZjRK4rP+FJjGHvTNb10dbJ0iQMv1HWRH3hzyoYtcmZduZsvfqm9Jz65VfGTTsGEqnKEfKif+JWUXcPcUt1gw+ideeI2Uyl/ddy5KalqzVnV+aOFNm234zpjgjsOaCalh9o5ucIySYmH7DD/ZPmBHFWoeDCs7BB0ddUCZV3lmmnCNMSxB+/AZZQjXB/swMh+KwoPp580tJJMRWZlbnO0K2hMptfFKuSVB+HEwsvSA4LNzK80kZ/jYsqAfkfV/+qO1YxFpq+6T03qrsHfJwYJhDNGWS8ks5CzuRVDJ/DqdRWik0S14bJVtprMaHxv7RFiXA4qBkwlxCs8a0OP44o/GAlEUwUXq1JetOFSMjF2nbfSkFdEj/lJ4OT8LOfHm2WhVRtV6v6bFgvxNm5AISA6XrdMkacrE6Nu9hQpbZuWYT12q7gAyfkm0Uab93L3HpTQ8xUZKhNFa037uIRq1Nz40hQ6dk/6kKZ//BA7oKhdFo/rppT3JJtGKADCUr0zY7cqN0q7TY5JH1uG23e5OXrEtEHJQu8iUrj22JoLV4TIEx51wom83Cviz3CpGSlT/OvnLp0rb3AofsZczhU6JXeOzxAO2o1J5kQwIMmfLjRgyutZ24DR+kKVE/u2TlfXR9KKU8xA/ClKir6Pe9vxbeeiEjQm19UiLuiLAzay1RWEwIQPreEUH7AOHeqJrv5kokIP3vbiHuVE4tU85JuGuSein5pBwj9YdUiuabC1tXRTY2St+7zmWUBea9YcYe7pWIvyap3twnpYiUMK0DLoRMmaRSfj/zYn4ipBJWNqflnIwpk7lH340F/zP+dnTYygrWPdyCkCkxNIn8cL6d595Yw3cWUHfCcVPi6CtwDj/7bJkm5LA4OvEQws99A1JyrRcykDj6fRBqvPsGTCRcyeVuDSaBaekfEqFv1KJ8IBV8MPXhObnsnjJPhhJPT6Xz4suiLJChpCZ+i1hL9LuDyxKlxNbr7BRlSVLiiT1QVQdjEqVs4zpu6tQHTJASzEpsB9ocjEmQEudBr/LlHgqClBgPQIGS/f3+QgQiRonTXxPwoNel4/ekKKncBu+Z4fKlBlJClBTe05cJeK3NhTqPDCWVe8R+ZwFT/f0tJhnKySaAixmYH1P2m3xCgJLK9oI4xw9PDcvftLCHTkklX7atgG4SYcYr40tzhksJr0tpB2NIS2J1+tU1IiFSUsncJPX4GiBjAl4Js54aFZb1RTlJedeyvXlNB3RNil1idSVPGycypq4o82nvGoVAeAA9u6mpan5rEyolhWtBGLzOLn+DQqb0+2EjUcWUZx7LoYk00VdCjj7tEpqCyvu+hEyZRWxYw7Q5h1fYqwLfJ/GCUEwZU8aU0VNMGVNaMm8TvXFKKtvbPm7PDljcHGVq0UqP0vPF0s55Y5TZw1YVN3+0Yd4WZXZ5bBZM21r5bovypO+zdbyg4LYoT5qSRvmI29L5VqUvlT25apJ7+5iZ0aT02B2bPbkE1tZJHE1Kjx57XZTcm0fKtxPKUrQ9NuG1p/Kkwyzq0SdRQL1E4UwTu8u2jvdsYbgaLQBxC4+to7ZtLHtVgKPtNQClvZ6Z2c6tZMKlbdkoi+/+W6wCxvR2Wi/bW8xHo1H6zV6tTyLpsAkXN9V8Uq63XC5PVl5RNSVsXfd+zgseira/jGbsMYXvzB7erizMeijhObU3CeYLK3AJYGLY5OqVojop9+JaW4+R9iAquwzqG1bwiUsv/Jlzkk9HeE5+qDDf9Dye5aeoyTbgPhd8ApxL13eegPdne/nX0TUYcq+CecmGi2tBKFAZtDeta7HjQdyo9fbYhvXM523zEx+FD3OT1HYRSr8SfpmX32y27VRvksuef/mYiZfNTSa95Tb/9joPsWEJv7hCOj1/LW3y2227vUylUtb3yKWWy3Z7+5jflF7hV+dFsyHEtbiHAlh0pOfzufWdgHOz36xQuA26WLFixYoVK1asr8SIfu/qvAbVBrsa6TEErw6v/xso624or865RdUcsitKVav1xdr5hbTRFaN1B+ZoXVGKmtrpd9TARoVboiJ13VMyfVXrKFdEOfBCmVAFtV8Tnd8Xqr6/mPsiJXOWQo+vGQbkV5wj9C1BU3a7wX4WCX1t72hqRxMSQkeXeKUDzGJSQj88PAdvGDw/K8NDjFGHg+fuTtGiBbeXMHxu8k2d57tDOL6h3rVMxmh8V2Vqel2S+LoiQMqO0tX5etOqDpj+M1/nwcuBSS10uk29q9fruhJBTEHh+YHWr2nPUlMD/qZIet98wAyfmir8G0jNzrDGAMq6DiynKbwE/w6A/6k77PeVpgQxwX+jd/q12rD5xGvRS5Y1MErT52q69Kx+ogQxtn6Yl9IAxhMR4CoA69mETYhDvt4R4b9WIBzwAGkXPWPWeDhmKIDRZy5RNq0HalfaMUy/Llk2E3ZSV030m/WO+RTSR5myxj+BKXWBch9j1YH0zIDQy++jUKfO922Ug2hTqs0n4LvOlAKkFLqSvg+uWlPSrodS0J/AxESl1D9gQBga3ipl90opPzx2ny8vUx6DTL8pXREliD6dC9FHOaEERXxzH32G/DVFn46ZG5Q6r1mvtUuUjFavW5mEUU4zSVQpBwIcLkiDYLSJDi9ZJZrY2VNKumm0E0oxASamVdrVuhJwgchTPtUHfVWtDaQ6LGRr3afmUAWvO7pJCY02VMVPlLDIUVRBUHd1WANFnlICJbcOinJeMT1TAxV3U9ebzaZJCYbN88+wKPqgVMwaTuw0QWELKv0uKHITfZ0/UNYjSVkfaIOPJQn8DVh5dHedmraPLyJ4DJ5pz5aHgte7DnRxsabofLPbMbeFVGVnBS1xuIvgogRGH0YUVPW4IAYv4dd0HSjBihg+s62QDz+BNwrHn89/iJKOMfZM+0xyG/qWUt2BpUfIgwlM31GKw/o+ntyCvqEEa39zUX0j+opSHQ5AOrmi7VRHCcPuJ0pNb3aV/vXs/yNIVD/hCLWaGsV8ECtWrFgh6v/xSdTOlRcbmAAAAABJRU5ErkJggg==",E7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAk1BMVEX///8xgqLc5+z1+Pr/jgAnfqDr8fT/lyVOj6z/kABFi6n7/P0Acpgee54Od5sAdJn/lR3j7PDU4ejC1d9km7T/9/G0zNhclrGCrMCrxtOhv87/7+P/8un/z6l1pbvM3OT/07H/4sz/28D/p1X/nDj/6dmRtsf/voj/o0z/tHP/q2D/wpH/yJ3/t3v/sWv/oET/hgDwLfJDAAAErUlEQVR4nO1Ya3ekKBAVEd8gihExCXRezkySTfL/f90WaHcyOzPJnLNB5ux6v0irfe61qqgHUbRjx44dO3bs2LHjv4Gz0AIO56EFfAkt4GtgAZf8IqyAb0XgICiysBa4Sm6C8kf3xUNQ/kOSBPXAoSgeQ/Jfch40Czwk/DakA+4Tzu+OP7ZPBhcZ59lKe7jfPhKuC85vXSm+eEietq/JD0XGbxztY5Zcbk5/dpNkyZNdnT8n/Gpz/ouEZ4lrAw7J6odNcZbxrHD8lwXPArRkfxVZ4ex/B/twe/tH5xB/i92feZBKdIAAPNjFdZIF6QUuwQLOAN84D9ILXCf83i1uoBSFmArO+UlAVgSIQduGPrsPf+IZfw4h4CJJXBGyQRimIXtc0uDZLc+y5O6jt33glp9MEGYjnCdLGEJOzF6CzCXXawn+Chth+2Js8fjiNsIVlMXrIAKip2MuKEKdUHxx4X//EsgAK84DRcAJD2++H8ddjL0zYjMNryxnb6pxKtRIyskrezvnWrz7xlhrf/Qir/Pq54+w6ZZFldPBF/9YE5SLNq1WERVO0zbuxDRKVE5Ht/TUmwm6sUSkoSiXsu+llHmJEG0YJfko2tNbknj0QYTbzogBoJSyF2G6Nv3+jZL6DcOPMFP0izD5LGDxHoFgpPPLH5fjD/de04JhyDN/VBKkThGHWzNMoy71KmGodfqrP34WFKO0qWvGWF3XDewBQNPklhf3uv3w//8eeNB9XhLKLCgqpZ46Z4BWef/6VxGQgBZAWtqM9c/BFIfll83cYmf4CqpBbNTkvwd4i4oQYsuBA5QD2AWl2jQQWkmpFeEAC8rktMX2A+BuqXrpMPc5IozBJhyV79R3Ih/1FFevtq4sfnxv8uSNIWfqd97D0k9EKobo+72gQzf3nqJhbAhiaJzET9tu3MZCTRrVvRNpfCgwoyTNUnuQ7PVooXW/VAVbnMp+Xoi73lOegpwj1Kx7u/lPyHNQMysRp4tlsOl98b8FZMAF328DqJNl6cX+bxCreRDxmopXXkjH0JbkdaO3KMgV7tSoZYlsQ2J7EtsSQFAos2lFsDNJ2gLggvH/oiVotfY58HyMGMpeWAFQencBf4YAo8ZxVi7diu649ytj7B0BU9I8+KmHRwFQeyyIHcF7ejwMGRibogq5RxR5Gc+PAiSBvAfzIQNqQUm/PJWIYSuulBKe1T7qwVHAchQ0UGQPixCqnQ9gj9qRWTjHTBT5yBj/CEKEytRyOVdEI2GvNRgjlHsoCycBVTdrKRcBLXKGwIjkC7eZe/vMp4BYUkbtTGAFRBo18OkDWYLR5HZcRl4FtIyw2cRxuQgwzDofAtMyxg2i8MyUPgVoQl13vgqo7DWt6WzX/dI4p14FwCxmw61aXRBNhIqZEJt7UoSovdd6dQGQqKhqNVkF4AbJ9WTSChBRFffEjwCyugDRHjJgvgqIgA4xNw1UsCR9z4gfF3QU2ayXEkZog4Sq0SLA1KxZE0QM24PWZTzXyIMAyDk20iKsxtlUUWq6tRHsuu5YfdJptMNJaj5/Xq46cHDAg5lqpMjfIfzvYGbNjwe0W6ILfTC2Y8eOHTt27Nixwxf+BiSvR8KHi25+AAAAAElFTkSuQmCC",w7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAe1BMVEX///8AAACAgIBMTEw+Pj5JSUlubm57e3uoqKjPz896enpZWVm2tragoKAkJCSEhIRFRUWKiop0dHRBQUH5+fn09PTV1dWZmZlpaWk4ODje3t7p6elfX1/BwcGvr6/r6+u8vLyQkJBbW1sxMTEeHh4tLS0WFhYMDAwcHBxhkAukAAALPElEQVR4nO2d6ZriOAxFTcgCATo7a7FUVVd3v/8TjlMrJI4l2XIS5uP+nGFIzmBFV7LiEqIfzZfNfzJb93TpXrRO8hbhKt8chrgXFzpvci9qE0ZRfCqHuB92zeLIUxJ6XhzPh7gjXh1zSdJFKBmz/RB3xad1FnuejtDz8lU1xJ3xqA5ADyL0orj17+5Fs/wLQksol2p0l5ljHv8gAIRyqT7fXebYfwUgjlAu1dldhWO1uuWDCeUnvOMQt2qk8hQ27h5DKMMxuZPMMfda944jrDPHHYTj/rm5QAmEXhQtR27k2gFII6wzx5iNXHnJ1bdNIJSMz6MNx3nS8QPSCGU4jjNzdASgCWEdjkMgaFWt8u4bJhOOz8iVl1h7v3RCuVTH1ALQBaAxoRflY2kBHLQBaE5YL9UxGLkSCEAbwlEYOTAA7QhrI3cegutLaw+xQO0IZea4DED2IVQAWhPKpeoNY+TKWYjmsyOsWwADhOMlItyhLaH8Hfs2cms4A/IS9hyO52dUhmAlrMOxr6Vansh8LIS1keslcxxVTYp+CL0+9nL21ABkJXTfAjhsDBYoK6HbvZxqibRoTgkdtgCOaIvmmNBR5mi26YckrDMHdwvgbByAbgi5WwClRQC6IqwzB1s4ziOrBfqu9i6oLWEdjjwtANMMeAsYtR7xyu0N6tcyZA6oS4hSlJ8UX12erNc+QwvAPgA9jZ00NxA/spsCmOccC1T3YN8zhHgUm2YOywz4eXkoORMraaXMWgAsAejl8BO9InVDuq5DN3LYLqH+uhkqK+8zhnAkGrk1SwAm6PhYc2RcgpHbMzziZLIj7VdzPLSxRq6adW7kUq5GnVY7M8Q9rgXAEoBGG9Ucz+4YHMrBt+mtLtMhqwr06+J6I7fhyIC5+cCITRfhRyvNFbYLL7H8esu6zdrIZcmu0Hx/mKZPVoiKGoIqcjv9Wkk2nUwCHWEwDdLcmJGpYDsaG7lsO5mAhNNpuojNGEOuolsmLCO++HWCIpQ/40tCZ0RaNJwO9MyRZMVkgiSsGbdERPbmF7F1kmRPkwmBUC7VKSUcnQyjUzJHFv6bEAnrcIywjI6a0BU2c2TRbjKhE8qliswcxjU2qCNmpSZZMJkYEdaMIYYxdwUoKgzfdjIxJqzDEZE5cmf7lnvwN8zyX01AGqFkfEEYOUezkifoUZMkfouPTIjKHPwbJaIu/AHAJFso+OiEkjGAMwf7xMsenIbItn+VgAaEKCPH+9IL7Nu+LBoT4XvmgBnZZiXBZJ9kaRefIaFkLBDhyDO6vI6BR+i1ReMjxBk5hokXuAbO8t86QHNClJFTbzPhBW9IZd5Oy2dFiDJyUW4Rjkc4AKcAnx1hnTlgI2e8bwn3E9sWjZ0QZ+SM3l6Ge8JZ/IYAtCZEGTl6wVieQAuTFDAdDyEuc9AOE5ibWjQ3hOxGDhGA4R8sIA8hrgWANHLVDOTzOi2aO0KkkbvAgAiLFsBYDghxLQBwmxRh0TAZwg0h1shp+qjwxLiqiO+RsA5HROaYdWxGlXCNpCzieyVEtQA66qojtNlMyBAOCZFGrv0OGrwZ21nE902I28tpDKDBA6uaIr5/QtReThRf1VVgjaQt4gcgxBm5KPw0cnM4ALVF/CCEuMwRP++rag2+1JeF+iJ+IEKckcu9BAxAsIgfjBC/l6MRpogfjhC9l6Pho1q0vgmpW6sNGVg0fsJ0t0uBT5gO5aCLeKeEqXeuPF//MfoUwDsfxqLFS0SatCIMpvXH1luIEdECaCgLYYtWyEqsck24+PjgZVroP0gcykFZtMv7peFIZSEU5QYIR0wL4GeBItZe9lmC9UUovXMMLVWEkfvgQ1i0xbdv749Q2ssnX/9pVObAZIjdVWeyT0Ihlj6YOQAjl3mIIn52fc1+CUX5vIMyh87IoSxafHvJngmFOOQgY6eRw1i0RbM50DuhEMcFGI7KzJHl8D7Lr0vrcgMQyor9Dcoc7RYAKkOoJrYHIRRVQjRySfYC822VO+bDEAqxh4zcTebA7LNMO5rlQxHKcISN3GfmaAxLKvWrc/9xOEIhVigjh8oQWfcrG0MSijNcV4WYDLHVbcoNSoioq1LYwhT6zeOBCaWRC/ThCBJC8ziDE8q6SmtWAUJNAI6GUBo5XV2lJZwiXtkYA6Gsq146jZyG8A01TDUOQmnkujJHN+EM/tYxEYoqUy/VLsIQ+8WjIZRGLtyhCaf4SbgREUojl7a/T0X4jzIiNipCcWg/cBSEHuk7x0UoTq303yb8TfvKkREeWz9imxD5DB0p4fxB+CB8ED4IH4QPwgfhg/BB+CB8ED4IVYTT/zlh+kZ8Q9QBIQhoQRj4CfW1QgeEInFFGPhb+pvaLgjFAZgwMiQsgguZzxGhEEftFJwRYepvjI6Zc0QoxIyXMPBjw9fsnRGKymMk9J+M/+KCO0Ih1l0Tt1TC1Lc4Q8AloQxHDsLAh/csNXJLKMTGljDwQ7tjZ1wTirNi8IFAWExtz2NxTigv0RrOQROmu43dtUUvhEIszQgD32M4wqsXQiE8A0KLDHGtngjFfkEkTH2m88n6IpSZ4zeBMPWfoQxReQHqIcRGWK7ANbXBEgZ+DmaI5S4NdphEwkV4kZ97gp4L5xxFWCzAH+dzWkaaAbBc5CGcf54akeE+qCUsdl2nA3zrHH+PrqcBdHcchFX881nw//4SINx60K9Sbl6vc2Yx1YcHA+GtMXsFQyOb6E67Bv/zS3PyMNjFulk0a8JLa54/hn6EA22240bK6dG00BTHloR75bw7T3pRqHMgvyguXf+NFWGZq/ik/rn5C4Ezzdio/9LRpLIhPHXw1Xri/wuBwIsxwU7tYs0J58Arl6ApoemQA+PbMhxT1QsupoRn+JXEP3bHF94IfEHtQ0XRzlaGhBnIVyvlOvj2kgIvGX5rt22GhxFhs97rVshxRvMaelH0WsGuYeQMCOekg72si3Tw3fum0vQmPMiEZUjhk/pllzlWwGt3KvnXRo5KqOydAUrNMwf4rpZa0sh9X5NGqN+O6BZc4yi1D4kL9Ec/Ro5CuDc62Otdfw2MXNeoPVJFuiQSXtdIBvpNzBylzqLh5D/V19y0vqaDULeXhFNI+hMp1aawJZThmKyzdiC3CV/MA/BWtCfOwUP5GK1S1UJQzOrvDE4ObIue/WWqtz9xCEXIoTejlLE0yxYDEBq78Oq2KTNaQptKar+1D0fXhFNL+z1nXqrchK/2HY1yZp853BHq/hIgXueIcamyEiZsrYz1C1vmYCQkvLSIEFvmYCNUHOxip2rD8zNyEa54e23vOrBkDh5ClgaNQseF/VLlIAwY/9JiUzN0380d4ZujvxD2qXNiaeSsCZ+d8tXaL6weOZaE6pOVuGWVOawIX539pcWGqo35U9WGkHGnAtQhNGU0J7QakjSQac1hSmhbI5loFphkDjPCNze7vpDOmcFSNSLkqZFMtKd3qwwI854D8FbggcLWhK3DL/tWSWweEwm7z97rUYeYEo40Qhc1kokomYNC6KpGMhE+c+AJ2QYReFRlyJoDS8jepLAXcqQBSdi3RcPpkiLCEUWoPfxySGEyB4LQH8ai4XQAm8cwYZ81konmwNnXEKHF+GtvOmkzh55wcIuG0/nZ8HRP3OGXo5Dm7GsNobPpZic6dh2220m4HWUG1KhcqTNHB+GdBOCtzsqaQ0nouI3tTvMp6uxL+yHRAdXe52gT5iOqkQxUNTNHkzAds0XDqTGwckv4934yoE43meOGcJw1kolWP+F4RQi+MnlPOiRfS/WbcNQ1konWnzXHF+F9WTSclu9L9YMwGvpm3Og9c/j3atFw2oc7f4xdNE7Ng76bFP8B3EY3Hl+ZifMAAAAASUVORK5CYII=",C7="/assets/matlab-ec5b60c6.png",T7="/assets/springboot-e421cc20.png",b7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAADuCAMAAAB24dnhAAAA5FBMVEX///9lmtIARIIAWZxUkc5hmNFalNAAVZoASpUASJQAPn9imNEAQoEAV5tdltBYk8/i6fEAM3oATZYALHcAKXYAMXkALXcAN3wAT5fC0OC2x9sAO31qntYAU5piiLXy9vne6PRyotWxyeaAqtkdY6K+0uqnw+PK2u6JsNufveHf6fWWrcvL0995ptfu8/mlweM/Y5RUcp0nVIuhr8XP3u+Vt95JgrwLSoY6YJJhfKPV3OWIm7dwiKsoVYuotcpMbJl+k7I/c6lTfrArbKpxk7wAOI6GocSXrcs2Z5+Vpr9Vh767xtVYjfoyAAANlElEQVR4nNWde1/aShCGQUKUJAQil4iJDaAoWsR7LWix2nN6qnz/73MSAkggl5nZ3YS+fxX5GfK4O7vz7kxoLpeCLnrnx518vnN83mun8XniNbzSK3oxP1PR/efVMOs7YteVpOcD0qWrrO+JUT15DWmGJfeyvi8GtTvyJpInudPO+t6IGvYlNZwpn1el/l8ZWqdSMQpptmZIp1nfIVpnekgwrYWWfpb1XaJ00ZEjZ97KHJQ7F1nfKVjOg5RM5Et6cLK+W5i66ztT7ByUulnfL0D3KgJphqVue2hVLyuAYApKrVxWs77vGLnBhEaaYW1xaHUryJn3Kb2ynaF1n4/IiYBY+fusCTY0PKbNvE+p0vGWZU7n8TkRFOs8a44VhRoMirbHlEQaDIpku501Ty7eYFC0DaYkwWBQlLUpARgMinQ9u9BqgwwGRWpWfh9hMCiS+hlkTiiDQVH6puSsKBhphpWqKaEYDIpcU5KW36caDBJWSqaEwWBQlIYpuc+nijTDEmxKhsfpBFNQakWkKTlPL5jWsISZEm4GgyIxpuTe5mgwKJJt3qHF22BQxNuUXPE3GBQVORYhe2IMBkW8TIk4g0ERF1Pi9IUaDIqYTcmpaINBkc7k91MxGBTpRaopuUjJYFBENCVpGgySCKYkZYNBEdbvZ2AwKMKYkmwMBkWuKQEWIXkbDDVf1Jcq5jlfHGRKejyDSdfliqRe9h+uTruuTq8e+peqVJF55l16JSlz4mcwinpFujzv3Yck1sP73nlHWjYBMivelLCXA32pekXu9xI2knav7w4Zn8+LKULyMRiqLnVO2wkzYgF2aktcuKJMCR+DoVfyXZSVq54WKzz+lmGmxOFRDnQH6QE4Rqu673NJm+XOWopxwcEzqbLeJZoCp6tzmIVqJRDGbfYFQpXzTKa0V2THUqX25wWH7Ex6kdlncwhqVfqMZ5sZiU8tiUPNy15c65zxUvxKEw7zSZw+z5qqjKcQer7NB8kTsz+Yh9Ux0x+H+zE3Uz5tf5RfvYu0mQZKL7b5Mrk3RF4wbP1kt1Aau9d4YNnP5T5vJE99UiJg53/tFgqF3S/uFVgGSlQBvUu4KftbuVzwVHIjk54eqRVhJb52BYv0cbJb8LXfyp2SV5tiXmB9b5jHRIVd/LVAKhSOfuf6VCa9Iw7JUwfx137dLS+ZCrtvuQ6V6Vgsk7vVAKnsb4UVpEKhfJKjMglZ9oLqQ6hWgmkpIlQaTBAqW/21gUSFEj/3YFR2IJjYoPTLdJhyucs4qvVgYoOyk++GlzqRiaCXE4UzUaBUOcX2QifCD4cHEx1q1TOL10VoxmR/ixolGlTiKS9n9Tap7I9C9DBRoPSHdJlcG7G2WMQEExFKTXGRWKgTQMrHBBMRSsrgobThygRcGgyOUHImz251F/YoKZhoUIIz8yhdztb1gMHgB5XF5PPkT8DwnIgVSs/smyROdVAwEaBUneG2nOGQJREJMRh8oGRS74xz333oyNJMcuehe09gG74dwJFwUIRVotrtSLJeXOZvalGXpUtcWS6X+11CDBMOCn921OuEn/jrUgeRax0eoIYJBaViTdRpXJlah+5441/7SCQMFHKgEpubQE3ZzhfkzENCoSLqAtKPIdtJ7W1fS0d4JAQUauk7hVUu1PgWy8MyNpiQUKoKR3JiTxaCf6rLyAW+/boH3m2JUDo8kx1i+nOKenjm5fxDCSYklATeMpGVfjX0dOC/PVIw4aCK4MNLdPdCCFWrsE+deRgo8DJRJRQ313L/6luJCQkMJQGZok60YhU8c8PmRGSoIvS0JfrsMZbqcw+cHLAEEwoKOvuoHRmL7ofBCVswoaCAa989uX4seTnYkDmYUFDAXLZI7oDw/CeHYMJAAXdeevnY1T/UnIgKJbchTEN684JdOeGwPuCgYAv6+vEwHAlw6MofCuQ6HOpAxVcwREHpoJYqYkRFlgNFQ4EOFEhMyRWM8r6v8GXkaP5ucPpCoEDrBKUdCBBM5d2Wr8MwqqPf83ffAteBQIG2XsIyAQmm8u78+sNSyLv7h/N3v6ChQAez6IGCVTDKR/PrVzlDQRa/C2Tb16zfECBRUCCD2EPOvl/AZVwUFGhFR4UUooIhDAqS+SGMVFiLVPpQkG0KnE7EdnUEbnjPU6m0gPp39nrPX9mP/Bf/LqDeSv4PymAogEOE50jQcuB+u+pr8RHzl7P96uj30H+12GzmL4cnZSCUDDhEr8IWP0ROVIrYHFteveDov4j74ArVhmxTrsGAB1M81Nc0oABJEri2/hdB2a+PCKStgEqafva3HW1n5y+Dis+S7I9bZceVhhgs0QsFYEmPO5+w838sbccXHKsU8UkDPlCMm6/9qiyQZgJilXd9Hcw/oFqa/6C88u7eMqM48H/g/y6vNCnqOX/74zGA5AlI5eszTZr/YPXdzzTpaPVNCBSkeacfWmizdT+YgsKElqjcT4VUB7ohWfpqMFGxhJlEyKFzyJpuv2rhSIg5KA6qCIDaWCncYAqZeSuDBcMSBgU6oA0GVXgwEebg8uCFN1QF8hVFZytBFR1MaCwXypmpuhfy7sGh/yblNAlUcvucf/a3uGBChla55CuMyaWav4s/zNRBX/21OKXwggnMhFrewYJAqaAHi/znF2z1jwUmEoXFsZQze7L7FTFKS/HGAkGBVgp3qOy3HQKSpwLX0gesPArrozyO35nipO2ckNuriFDAJp5hjcq0s1N3qq/hC5woqHwFBJW7M6hMxrv764e7nGrZwOYQYKvpNXH+Kd/93//Kp+sABgUrkOZyjklbKIzloSSpZ5YGBX52YFynMNUHK1cgdDfToPKVNpBqQqCqTwKXODxi7akAQsEf2rtDL4G19/VrsDb0QNtNgeufR4Ucq/oGE3MfI7gxGP4cA24Grs29hVosTXLgvnREr/3AAK/sijGIusqE3hsMhsI8sux8B+7CxnVMNwO9ixsMBe939vReBwyWUruLv0qV2G8Pf9ZDQj30NLypJezDSu0m+YqtAiVzgkNhH8UeXDdjRkupXY9Bl/lKCC3EQ2G4oXI1HtXD0ybFrI9gSDnS00YIKFxU+Tc0ua4Z1uoxjKZYRu1lgnoucfwHaUowzyRKpG/znj69mM2GYZqmYTSa5stTC/+k5eERasHAQNlfCFA+2XgwdTWokp+KFQRlf9zWwnf/FDQxMIczUKjZoatmZPU/1Jo7GuIoDQg1Lwcqo2yYRv5ZIleozwpGc5oF02BpZ7hBBSoYZhYT8LPaAJuDiVBrFQzlJX2mm9WDbAhWEtRGOdAI8XRidddYS0gYocLKgXVwgsNHm2c5iYMVB2Wrt2EVjHTDygkr3yVgRUPZURUM5TZNqB8RqX4cViRUTDnQukmPaRRd7UJDxZcDzee0mH6akTcRMwdDobxyYKxvNZ7SYXpaX/hgWGFQ6y1SIWqmQvXeTLiNiNDahPL7DZOUBhWAaSc0tNa/AH7Rb7gFVE8gps05WD4JfrE4tKvDkyF4tXiOj6cVqjWs8mvgIWpAMK3IFLqy38Sse5taxTr6vdJ+E9ZvGCvrVlhu4fxAdmOsUB0cLrtfIS1S61LMyJNwNo1N9L18zsHScP41c5hgWlVYHYZd73XKvcyxZt/XfyYn9RvGyXjhPgWdF3KR34Py2+XspH7DWCkmZ4c/hReCNjTrjJxd5ewRGZRrao44DpZzA9udIrHMeV8jtfthIaXB7TzwrsF6L4vjBqdBDKiFNOMHl2VwcGuw3kljOWtapO6HwMVqN8xfpzl+aTIiuatx6/N6+D6BDSn1ERPW+AZSfExQsDSJ7RMIxardkCfh4KXGjqTV18qt0wbbEuhjNW8pS4Zz98i6PniyGhubizMibeNr0szaM3K4WqMasU0r+Mm10J1l/IO8k69KMayfYK7ps8mw166o8SPqOHJicZiDriyjeXOXeOY5vnvxaqdcPtCKm/ZPHJagmRSz0Xh5mo5Dkw1nPPl53WxYvD6rnuDCk/sf4NIss1HTrp+f3ifT1sDTdPL+NLpWag2TzwjNPgXSj+Fu67w+z/9QxbK8IrYn07QsSuN6jIxbWABPTD6hlYIsA76H/OQVWmKl1H+CkVxVOeRhoqU1X7CJWeuRx5YoTpr52Eqm2NAdj8xJlKxGQltdlJznbQ0trf5Md9vVa1b/KEJaA9hWF6WphjopTUOmxn7U817bqtBSNtvYKeJjSvhIq3M7uhp/Zz0Q4SPNiDQYFE2tLQgty+LdGfXE4RCBSUpNQJmPpynBC2QwKOJtShCCGgyKMjIllim2zzUDU4I0GBSlbUoIBoOiQYqmxDUY4oIpqDsjpdAiGwyK0jElCovBoKh6LTq0XIOR/n+2Nt0RGVqu48mkWzz33hQWWhYfg0GRG1pCBoujwaBo/J2/39eM7yk3VG9oqnA2JaaSTTAFxdWUCDEYFA1HvEyJVhuJMRgUjfmYEpEGg6KJyRxaog0GRYymJAWDQVH1hp45aU32jhlBopqSFA0GRSRTkqrBoMhBh1bqBoMinCnRmhkYDIrgpiQzg0ER0JRYzcwMBkUQU8JUDsxGSaZEa2RuMCiKNSXbYTAoeo/6QpStMRgUhZuSrTIYFI1/rBchOZcDs9H0trnsHNMUs3n7twZTUNW7kf9klvY4uksjf/gfjZXHvK2glNsAAAAASUVORK5CYII=",R7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAA51BMVEX///+VPaz+/v5oIXqCLJiOKKfp3e59HpS8lceUOqteAHKPLKiBKZeTOauSNqqQL6hlGXf8+v1/I5VmG3jx5vR8GpNiEXX79/yaR7CaSq93AJCVTqhgCXThzOf27vjTtNyIN52ZXKpoJHmUVaa5hMjFm9Gze8OvccCnYrrm1OvJotSrab3Xu9+hVbXbxuKTR6ewgr2dZa6ncrZ6OIuVa6F4PIixlLnCrcjbzd+6ocGFU5OqirRxMoKASo7MqNe+jsy1isG+mMmDPJWnd7bUxNieeKjf1uKIRZmsjLWhfavNu9KOYJq/qMa4NTfQAAAJ8ElEQVR4nO2deVviOh+GAwhMd9aWHVxAUKCDO4gwC/KOjt//87xpEWhKUgJ4mjBX7j9G5xysuUmeLD8KA4BAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCwZHSmbZ7vfZFN826If8R3Yiia5Kk6YrStFg35j+g2lOkyBJDq0dZN+iLybUULeJBUnpV1m36StJNQ4/40JTLHOt2fRldyfD7OejxfySOnXZcwgk6cSzUWbfucGoXmwPUG8d2h3ULD+QqyG8Rx1aNdSMPoF/ABtAfx6tjjWPiWiEF0BfHYpd1W/fBmm4boGtgHBOs27szE4Xaz0GLH1kc+z1lFz8H3Zgcz4Y8cYlu0SgxekcSR2u62wBdox1HHOs6xQpBQo9PeY8jckbaB0Ob8Hyuyl0a+wQQAZ6r+qw9SFjN+J4BRNGUaz7PVfXIAQFEgXHkbyNXbR8YQBQjwtm5qtY6PIAoMI4cnau+KoAoWpybMkeX5oy0D7rBRZmj87UBROGgzFFr0W5BJU3TDcXFMHSN8llhHcf0FWUAdSNe6F03692+Q/eq1S4qik5lyfRc1S1SBVBXjMurjq+ZVqJ7UaB7fnSdUZmj1qYZoJIRv+y6DYwiuJadqUI1yI0ii41cl+aMJBkR9/mPYnEv06O6TnwaviCxzIs89xOLpLeSrF7TXEq5CFkwEd/eKF252uL3KdmnybMyCdewtz0+7glhq5+rmG7GKeIY6pTa31po0ow6nd/CMbGtGwt28nuYhq1ts4PeS1D7uY7WRdCTVrAbqpoJ8fCfLm6ZG4zr6E6CTjdOyNGGficnJ/kQdze5LV3oTHy7CboTDmFOLdqOHzQMsdiYCI6h0txd0HGsGhjFgn2yEDzJhzibBq8VynQvQUfRf12psBigLslvnBgarT0FoWLfd+Hi2o8fQ/16b0GoOPGO/2UA+TKUCtb+gnC6uViti+sA8mUY7xwg6KyLRW0jgFwZwmn0EEGouLh2ccOPE0Otd0AIPxWbhj+APBkqgWN0fYHAB/U2Byg3hvoFue3wx3L9ycXl5UWzmyBLwq0NtgM5MTRy5IbnmhFDMXSI82XawTrCS5/mCYI8GBK7EP5EK45syfR4u7rhCID1vZQh+HFhGCd0IYji7k10qoS+h9VPkkQ/Hgz1FkGw1sbfm6hVPT8AQNUmDlBODONVrCFI6ITDlhSvg5VfblBa+qmZzOLbzPIbPgylYho7eeRwZ6Llk7JQhAH8ll8FMHM+GJy7ZoPBwLNwMDfUp1hBqxBUZHL7HYB6I7/uq3wNgG7eMYW/6pwjQ+yOFIDrwHqAJEGdTtkbQLVhAfAj+Wl0wo8h/lAB6lsKq3qrdlNCJpjMKfwNAzhm83WYTs/kytpQu8YJWtteYCrYee8KqKpq/juMZSOjqiW4K6iWVG7O+MYEZ3gVXAb1nwHVRrlsw66z7DL8Bo7Wul1ezTWsDZX+piEAwYIbZyRc1fd7khND3J40uDaOOSNxbahjttJBtfGNIgViGAVgedrixVCK4AZpjzTPYIoULo2yPYC/oNxoNNQJnEobMIeczDRaG2NIrI3jihSfc03+B/wFcAZVS0/wrOiZSlkb4rbdoINfDIu4AbrEqd0nSo5QDoCfnq0Oc0PM2RBUMRONhA2gxxCugn0opjqLxW/vWsnaEFNkw0ylUqRMHKAn7qmilHa6LpNJwq1N1E5mjs3Qvo39apAFz29ubuD1f5yfnp7/BCAN/9rgxhBzsgAd1FAq3p7FYrGzX6RuxL1+ZvOya8PONMjjpML/HD+H8S+CIeYuNm4MtR7GsFZYrYcwgOPYmlvsUIWGaWedTzvAr1H4JzeGcE+zYRj13LJh32ZjXs4IcSwlllMpWJyh1rA3xHRi0/AGEGWMi6Oat5ypVFWTzowDj1Ac1WkMzM0Xi5fDPQFEud2Mo1qGo/Mms3hJO11C/h9rQ9zpyRmmTgCzWEE3jr5uzPwGi9pMvg9AJ8+VoYF7XQ304/4AosA4IkXg5E/ngA8NS7VFHjkyxG294bx4GuTnxvFb3uOo2ufnbnlNhV9950fWhlKkhlOcy8GC8hBYvz2lmlU1WEWqwTwY4oMYBQ+BiubIuV7nPLiez4kh/pUnAO4qZMHUmVuCBKDbyPNvGNGxd2EA8EJUTJmfxR2nrB/wuhovhkodZ+j0ImGgmvfr6AJQG+SDHdkb4rami8YP5dSmX1a+QzodgGo5MI7sDYn30gAwf5H9q4acfdy4fz9aTwa8RMqBoY4r7H86zu7lSmppmTXlyjC9uZENfpmbA8OIgn+N1G07mD+8jGWX7MvrDODvxgAgd0rqRh4MpUHArTLw56z5fDabz91b0skP+02oVLE3hGck+XHbuytAkJ37mFyFUAJgbbg4I8m4rdtOgFGKUAJgayhFbLdIkRodeufe0F08cdUqtob27XIRGB529+V8uQHaLAEwNIQB9KxzT4fcQZu+X+8Nxr94OT2hRYpsdv8oAjAyvZdC48jKsGD7ihSp8b73QQPw6tukI3FkZGjfxvyY99hbhygEnze36B5Hp8IRmqGyGqAbTXIV9+lFAN6wZ5BVRS7Md5TUIlIkoEoYM8e7Z5F8yFqujvkw3yrr1rLtMaFFMIvZXWdUUBuRawGLoZoP8wOIpoaECaCHLFwXd3AE4GlsBl0PbuTURoiCIKdjA+hFHtWoHQH4s3F+9HN7Eu7HK+AnBYSU/Ej3JkTYgfcUlxuH+2Fn1hhTl9joxpfZ9m6EA+IOV+TwkYV7pXDJxQJzs+zGkdOuID2Qe61QXCkrv4csCFeM0dbouI73H6SPHID/OT27kyn8YpVY2D3o8hELqPV6nn3z7n3xRnNEDo70p7cxxfh0nqY3Rp9TU3ujamDMlLMvz+9z70yRmw1HY9mkGAXwKRrN2fg5JKiGqtMNpiyb5u3d6/Pz291LKlXxVN6CqYzDTyDCO8VEv+6OlOlAp+ZipobMPxEzPTRp5oq9yMqvXHyMYu2VLo67+90zDCAKpmh/OJXxI2svL+/jHeJIg2k+MA8gSvqBaummJCXfcRFAlBrN9pIKGEAmW5jtfFEcK2dcBRDlcUyzkQvElP/w8FGCRKwD45iV//LycZBEDokjvwFEedo3jpXYB+u2UxJ9pDpX+UjJzxyuECSs512HKjwjcR9AlNzfXYYqDOCMdYt3Z/ZCvZEzs+zPSPsQ/aA7V6XktyMKIIpFUebIyi/H8M8FEElsi6N8z7hIcTizoDKHWTnOAKJEh6SNHJ9npH2wsGUOGEBuihSHM9+sOnJWpDic9zNkI2fKD1yfkfYh/WdV4s6a8t9/JIAoteexXDHNihy7O+oVMIj0/OPP8/Dpn+w/gUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBC7/BzkoEl3tnL6LAAAAAElFTkSuQmCC",P7="/assets/mathematica-c89e9e65.jpg",B7="/assets/wentai-22f0fb39.png",Mx="/assets/SSEC-ac3385f4.png",I7="/assets/carrent-cf04ed5a.png",L7="/assets/lane-221c7695.png",D7="/assets/baking2-c0364fa9.jpg",F7="/assets/jobit-5e409ccf.png",N7="/assets/eyes-382a0097.png",O7="/assets/tripguide-d4b278fa.png",U7="/assets/corn-7c5388a2.jpg",k7="/assets/dogs-10099755.jpg",z7="/assets/maya-3e188d28.png",G7="/assets/haunted-1eb7ca0d.jpg",H7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEUMAgH++PgAAAD////38vKNiImooaH//PwJAAD8+vgNAQFxbW2Mion///799/cGAAC8t7cmISJSTU3l39/x6+vTzc1BOzstKSl7dXaGgYFGQkLJxcXc2NhjXVyXkpKwqqsaExRvZ2chHB1VUFGqpqagmZq3s7PEvr5HFiyDAAACkUlEQVR4nO3da1PiMBSA4fYEWhrkLsilCOqK//8fbkoH1l7G3R3Zref4Ph/8nHeSNo62aRQBAAAAAAAAAAAAAG5PSl0P458ReVgnSbLZGm30stq5Ur6XQdfDub2BPLo0LqVuam8avRxcFl+5XCZdD+nGwgxm7wpjtxPf9ZhuSuYurshc39Q69bJMa4VZbOpuI9vaFBbrdGNpnYarsFGYLg0VepmmjcK4Z+hCpNAAObUU3psq3LTcaXamCo9xVi90T5YKwzIdNS9DSzt+NJFx9UrM3N7UFIa7ae23GvdqaL8/87KPU8uBgcxyV16MI9cbGgws/kyzf+uNg/xOTAZG5z+1HY/H8NPUXbTKTyYTw3kAAAAAAAAAAFgwKEhV12P6JGnxPJvNnl/m8/lLP9joTpTtjyRJDtNguQjuC64iU144LCJG6cWvf+BfKX9iKBQ2nxGqP4zR9SA/hUIKv77yTlPea7LGE18mCs+7Rdgvlss8dq3zqbywsuNvk55rzqP2wnd8iHxtTqOhwqh4cu+pkWirMKzafn2hWiv0skhtF0aydsYLB2K90EtuvDCqv91FoT6SOAqVo1A/CvWjUD8K9aNQPwr1o1A/CvWjUD8K9aNQPwr1o1A/CvWjUD8K9aNQPwr1o1A/CvWjUD8K9aNQPwr1o1C/b1B4MP+svv23EWqFY2uHXnvpxdXCyNhnuxoftXJzW8u0+VGr0clSoS/eBK69Q5q5ofITXCoHt6x2LW+su9OD5gNrZPXYLyXTt8Wo5WNBITFdTE/9C23XpawvB9F8cK5CnKaj64E1d9oKf38yRm1CKfxqKDRQuHZ/SV3hdbf4U9p2i9YT2z7W9YgBAAAAAAAAAAAAAAAAAAAAAP/FT8aWH8zuMjJNAAAAAElFTkSuQmCC",gR=[{id:"about",title:"About"},{id:"work",title:"Experience"},{id:"experience",title:"Projects"},{id:"gallery",title:"Art Gallery"},{id:"contact",title:"Contact"}],V7=[{title:"Animator",icon:WX},{title:"Graphics",icon:VX},{title:"VR",icon:GX},{title:"Painter",icon:HX}],W7=[{name:"JavaScript",icon:ZX},{name:"Python",icon:S7},{title:"Maya",icon:z7},{name:"Mathematica",icon:P7},{name:"git",icon:qX},{name:"C++",icon:b7},{name:"c#",icon:R7},{name:"Matlab",icon:C7},{name:"Photoshop",icon:QX},{name:"Java",icon:E7},{name:"React JS",icon:M7},{name:"Unity",icon:w7},{name:"Springboot",icon:T7}],j7=[{title:"Website creation and design assistant",company_name:"Part-Time Student Job",icon:Mx,iconBg:"#ffffff",date:"December 2023 - Present",points:["Used SquareSpace to help an Anthropology professor with her website for UX UI and marketing"]},{title:"Virtual Environment Group",company_name:"Under the Guidance of Professor Kevin Ponto and Bryce Sprecher",icon:Mx,iconBg:"#ffffff",date:"August 2023 - Present",points:["Optimized the game asset models and created the workflow for rendering and retopology","Worked with Zbrush and Maya to decimate the size of the models down while maintaining similar looks","3D normal map generations"]},{title:"Java Developing Engineer",company_name:"Wentai Technology - Shanghai",icon:B7,iconBg:"#ffffff",date:"May 2023 - August 2023",points:["Developing and maintaining web applications using java for Springboot API server and postman for testing.","Collaborating with cross-functional teams including frontends, OAs, and verification to provide high-quality to-B IT service.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"Undergraduate Research Scholar",company_name:"Space Science and Engineering Center, UW-Madison",icon:Mx,iconBg:"#FFFFFF",date:"Sep 2022 - May 2023",points:["Performed data analysis using Jupyter Notebook to read and process local files.","Interpolated Venus occultation data in different dimensions and generated graphs.","Did independent research activities under Dr. Sanjay Limaye's mentoring.","Presented the poster at 2023 Undergraduate Symposium."]},{title:"Journal Contributer",company_name:"Illumination Journal",icon:H7,iconBg:"#000000",date:"May 2023",points:["Selected as one of finalists to be published in the Visual Art category for Illumination Journal 2023 edition.","Contributed oil painting 'Autumn in Leaves' and watercolor painting'Green Bird in Cherry Blossom'","Attended distribution party and received a first print copy"]}],Ef=[{image:s7,name:"Astrobiology Magazine Front Cover - Life on Venus?",description:"Original artwork by Shufan Sun, with concept guided by Dr. Sanjay Limaye.",isCarousel:!0,carouselImages:[p7,m7,g7,y7],tags:[{name:"Oil Painting",color:"blue-text-gradient"},{name:"Affinity Photo 2",color:"green-text-gradient"},{name:"Feb 2024",color:"pink-text-gradient"}]},{image:pR,isCarousel:!0,carouselImages:[e7,pR],name:"Peaceful Sunset",description:"A painting that reflects my mood at the moment.",tags:[{name:"Gouache",color:"blue-text-gradient"},{name:"Lighting",color:"green-text-gradient"},{name:"December 2023",color:"pink-text-gradient"}]},{image:c7,name:"My First Game Character",description:"This is my attempt of modeling a whole human that matches anatomy and topology principles ground up from a square",isCarousel:!0,carouselImages:[u7,f7,h7,d7],tags:[{name:"Maya",color:"blue-text-gradient"},{name:"Human Topology & Anatomy",color:"green-text-gradient"},{name:"Cloth Simulation",color:"pink-text-gradient"},{name:"Rigging",color:"blue-text-gradient"},{name:"Dec 2023",color:"pink-text-gradient"}]},{image:v7,name:"Skull Vanita",description:"This is my first modeling attempt for human anatomy",isCarousel:!1,tags:[{name:"Maya Modeling",color:"blue-text-gradient"},{name:"Arnold Rendering",color:"green-text-gradient"},{name:"November 2023",color:"pink-text-gradient"}]},{image:mR,isCarousel:!0,carouselImages:[t7,n7,mR],name:"My dad's office wall",description:"This is a piece of mural of approximately 3m*2m in size. It took me 25h of work in total(finished within 4 days).",tags:[{name:"Acrylic",color:"blue-text-gradient"},{name:"Mural",color:"green-text-gradient"},{name:"August 2023",color:"pink-text-gradient"}]},{image:a7,isCarousel:!1,name:"Autumn in Leaves",description:"Published on Illumination Art Journel May 2023",tags:[{name:"Oil Painting",color:"blue-text-gradient"},{name:"Canvas",color:"green-text-gradient"},{name:"Jan 2023",color:"pink-text-gradient"}]},{image:l7,isCarousel:!1,name:"Mango",description:"He's my pet lovebird Mango, as the name indicates.",tags:[{name:"Sketching",color:"blue-text-gradient"},{name:"Pet",color:"green-text-gradient"},{name:"Jan 2023",color:"pink-text-gradient"}]},{image:_7,isCarousel:!1,name:"Sound of Forest",description:"Concept of a forest scene.",tags:[{name:"Gouache",color:"green-text-gradient"},{name:"Jan 2023",color:"pink-text-gradient"}]},{image:$X,name:"Green Bird in Cherry Blossoms",description:"This is a painting selected to be published on Illumination Magazine for visual art genre.",isCarousel:!0,carouselImages:[r7,i7],tags:[{name:"Watercolor",color:"blue-text-gradient"},{name:"design",color:"green-text-gradient"},{name:"Dec 2022",color:"pink-text-gradient"}]},{image:A7,isCarousel:!1,name:"Forest Mural",description:"My dad's office again, free labor",tags:[{name:"Acrylic",color:"blue-text-gradient"},{name:"Mural",color:"green-text-gradient"},{name:"Summer 2022",color:"pink-text-gradient"}]},{image:x7,isCarousel:!1,name:"Deer in Forest",description:"Concept work",tags:[{name:"Gouache",color:"blue-text-gradient"},{name:"Jan 2023",color:"pink-text-gradient"}]},{image:o7,isCarousel:!1,name:"Underneath the Roof",description:"A puddle that looks like ocean",tags:[{name:"Photography",color:"blue-text-gradient"},{name:"Photoshop",color:"green-text-gradient"},{name:"Feb 2021",color:"pink-text-gradient"}]}],J7=[{name:"Eyes",description:"My first attempt of creating Maya animation. The story was inspired by the lining-up deadlines those few days.",tags:[{name:"Maya Keyframe",color:"blue-text-gradient"},{name:"Motion Paths",color:"green-text-gradient"},{name:"Fluid simulation",color:"blue-text-gradient"},{name:"Arnold CPU Rendering",color:"green-text-gradient"},{name:"Feb 2024",color:"pink-text-gradient"}],image:N7,youtube_link:"https://youtu.be/10SJ6G6IUjg"},{name:"3D Game Asset Model Optimization",description:"This project showcases a workflow to reduce the size of the photogrammetry model from 30M polygons to 100 polygons with realistic depths.",tags:[{name:"Maya baking",color:"blue-text-gradient"},{name:"Normal & Displacement maps",color:"green-text-gradient"},{name:"Photogrammetry",color:"blue-text-gradient"},{name:"Dec 2023",color:"pink-text-gradient"}],image:D7},{name:"Lane Detector",description:"The project utilizes a self-trained deep learning model trained by Roboflow to perform real-time lane detection on video feeds.",tags:[{name:"python",color:"blue-text-gradient"},{name:"opencv",color:"green-text-gradient"},{name:"MadHacks 2023",color:"pink-text-gradient"},{name:"Yolo v8",color:"blue-text-gradient"},{name:"Roboflow",color:"green-text-gradient"}],image:L7,youtube_link:"https://www.youtube.com/watch?v=3T2vT78VVpU",source_code_link:"https://github.com/ShufanSun/TrafficDetection"},{name:"My Personal Website",description:"My github personal website that lists my coding projects and artworks, it's like a resume but better looking:)",tags:[{name:"react",color:"blue-text-gradient"},{name:"javascript",color:"green-text-gradient"},{name:"html/css",color:"pink-text-gradient"}],image:F7},{name:"Corn Processing",description:"A project for Image Processing ECE 533. Recognized different patterns of corns.",tags:[{name:"Mathematica",color:"blue-text-gradient"},{name:"Image Processing",color:"green-text-gradient"},{name:"Filters",color:"pink-text-gradient"}],image:U7,source_code_link:"https://github.com/ShufanSun/Corn-Processing"},{name:"Dog Search Gallery",description:"This is a frontend project that uses React framework to implement a searching eng for dog images by breeds with pretty user interface.",tags:[{name:"React",color:"blue-text-gradient"},{name:"Fetching",color:"green-text-gradient"},{name:"User Interface",color:"pink-text-gradient"}],image:k7,source_code_link:"https://github.com/ShufanSun/DogSearchGallery"},{name:"Finding Maggie",description:"This is an adventure game that mixes 2D and 3D levels for the user to interact with the self-designed virtual environments.",tags:[{name:"unity",color:"blue-text-gradient"},{name:"c#",color:"green-text-gradient"},{name:"2D & 3D platform game design",color:"pink-text-gradient"}],image:O7,youtube_link:"https://www.youtube.com/watch?v=UtZiMp_eG90"},{name:"Haunted Housekeeping",description:"This is a 2D top-down game that make you the house that helps the builder clean without getting killed by the monsters.",tags:[{name:"unity",color:"blue-text-gradient"},{name:"Photoshop",color:"green-text-gradient"},{name:"2D game design",color:"pink-text-gradient"}],image:G7,itch_link:"https://savagebananas7405.itch.io/haunted-housekeeping"},{name:"Alpaca Run!",description:"This is a 2d shooter unity game in c#, the player is able to control the alpaca to spit at different enemies. You can download or play the game online here: https://sofine.itch.io/alpaca-run",tags:[{name:"c#",color:"blue-text-gradient"},{name:"unity",color:"green-text-gradient"},{name:"graphic design",color:"pink-text-gradient"}],image:I7,source_code_link:"https://github.com/ShufanSun/alpaca_run_2d_game"}],X7=()=>{const[n,e]=N.useState(""),[t,i]=N.useState(!1),[r,s]=N.useState(!1);return N.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),q.jsx("nav",{className:`${$i.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:q.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[q.jsxs(F3,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[q.jsx("img",{src:zX,alt:"logo",className:"w-9 h-9 object-contain"}),q.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["Sofine Sun ",q.jsx("span",{className:"sm:block hidden",children:" "})]})]}),q.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:gR.map(o=>q.jsx("li",{className:`${n===o.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:q.jsx("a",{href:`#${o.id}`,children:o.title})},o.id))}),q.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[q.jsx("img",{src:t?YX:KX,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!t)}),q.jsx("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:q.jsx("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:gR.map(o=>q.jsx("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${n===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!t),e(o.title)},children:q.jsx("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})},uF=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),Ad=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),K7=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}});var Y7=Object.defineProperty,Q7=Object.defineProperties,q7=Object.getOwnPropertyDescriptors,yR=Object.getOwnPropertySymbols,Z7=Object.prototype.hasOwnProperty,$7=Object.prototype.propertyIsEnumerable,vR=(n,e,t)=>e in n?Y7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wf=(n,e)=>{for(var t in e||(e={}))Z7.call(e,t)&&vR(n,t,e[t]);if(yR)for(var t of yR(e))$7.call(e,t)&&vR(n,t,e[t]);return n},Cf=(n,e)=>Q7(n,q7(e)),fF=class extends N.Component{constructor(n){super(n),this.ref=yn.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:Cf(wf({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:Cf(wf({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:Cf(wf({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:Cf(wf({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,i=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-i*this.settings.max)).toFixed(2),o=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),a=i*100,l=r*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:Cf(wf({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return q.jsx("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const _d=(n,e)=>function(){return q.jsxs(Yi.section,{variants:K7(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${$i.padding} max-w-7xl mx-auto relative z-0`,children:[q.jsx("span",{className:"hash-span",id:e,children:""}),q.jsx(n,{})]})},eK=({index:n,title:e,icon:t})=>q.jsx(fF,{className:"xs:w-[250px] w-full",children:q.jsx(Yi.div,{variants:Ad("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:q.jsxs("div",{options:{max:45,scale:1,speed:450},className:"green rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[q.jsx("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),q.jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),tK=()=>q.jsxs(q.Fragment,{children:[q.jsxs(Yi.div,{children:[q.jsx("p",{className:$i.sectionSubText,children:"Introduction"}),q.jsx("h2",{className:$i.sectionHeadText,children:"Overview."})]}),q.jsx(Yi.p,{variants:Ad("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Applying multimedia to create contents is one of my greatest interests. I enjoy art crafting, coding, and the cross-section of both. I'm on my way getting more expertise in more visualization tools such as Maya, python, js, etc. Let's work together to bring ideas to life:D"}),q.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:V7.map((n,e)=>q.jsx(eK,{index:e,...n},n.title))})]}),nK=_d(tK,"about"),iK=()=>q.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:W7.map(n=>q.jsx("div",{className:"w-28 h-28",children:q.jsx(PW,{icon:n.icon})},n.name))}),rK=_d(iK,"");var Iy={},hF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(hF);var c1=hF.exports;const ul=zh(c1);Iy.__esModule=!0;Iy.default=void 0;var sK=u1(N),Ro=u1(G2),oK=u1(c1);function u1(n){return n&&n.__esModule?n:{default:n}}const dF=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),sK.default.createElement("div",{className:(0,oK.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));dF.propTypes={children:Ro.default.oneOfType([Ro.default.arrayOf(Ro.default.node),Ro.default.node]).isRequired,className:Ro.default.string,animate:Ro.default.bool,layout:Ro.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Ro.default.string};var aK=dF;Iy.default=aK;var Ly={};function F_(){return F_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},F_.apply(this,arguments)}function lK(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,N_(n,e)}function N_(n,e){return N_=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},N_(n,e)}function cK(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var O_=new Map,Pm=new WeakMap,xR=0,pF=void 0;function uK(n){pF=n}function fK(n){return n?(Pm.has(n)||(xR+=1,Pm.set(n,xR.toString())),Pm.get(n)):"0"}function hK(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?fK(n.root):n[e])}).toString()}function dK(n){var e=hK(n),t=O_.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(h){h(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},O_.set(e,t)}return t}function f1(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=pF),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=dK(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),O_.delete(o))}}var pK=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function AR(n){return typeof n.children!="function"}var Gg=function(n){lK(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),AR(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,h=r.fallbackInView;this._unobserveCb=f1(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},h)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!AR(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,h=cK(a,pK);return N.createElement(c||"div",F_({ref:this.handleNode},h),l)},e}(N.Component);Gg.displayName="InView";Gg.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function mK(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,h=e.fallbackInView,d=N.useRef(),p=N.useState({inView:!!c}),m=p[0],v=p[1],x=N.useCallback(function(g){d.current!==void 0&&(d.current(),d.current=void 0),!l&&g&&(d.current=f1(g,function(A,M){v({inView:A,entry:M}),M.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},h))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,h,i]);N.useEffect(function(){!d.current&&m.entry&&!a&&!l&&v({inView:!!c})});var _=[x,m.inView,m.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}const gK=Object.freeze(Object.defineProperty({__proto__:null,InView:Gg,default:Gg,defaultFallbackInView:uK,observe:f1,useInView:mK},Symbol.toStringTag,{value:"Module"})),yK=ON(gK);Ly.__esModule=!0;Ly.default=void 0;var Po=h1(N),$t=h1(G2),Bm=h1(c1),vK=yK;function h1(n){return n&&n.__esModule?n:{default:n}}const mF=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:h=null,id:d="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:x={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:_=!1})=>Po.default.createElement(vK.InView,x,({inView:g,ref:A})=>Po.default.createElement("div",{ref:A,id:d,className:(0,Bm.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Po.default.createElement(Po.default.Fragment,null,Po.default.createElement("span",{style:h,onClick:l,className:(0,Bm.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||_,"is-hidden":!(g||_)})},o),Po.default.createElement("div",{style:i,onClick:c,className:(0,Bm.default)(v,"vertical-timeline-element-content",{"bounce-in":g||_,"is-hidden":!(g||_)})},Po.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Po.default.createElement("span",{className:(0,Bm.default)(s,"vertical-timeline-element-date")},r)))));mF.propTypes={children:$t.default.oneOfType([$t.default.arrayOf($t.default.node),$t.default.node]),className:$t.default.string,contentArrowStyle:$t.default.shape({}),contentStyle:$t.default.shape({}),date:$t.default.node,dateClassName:$t.default.string,icon:$t.default.element,iconClassName:$t.default.string,iconStyle:$t.default.shape({}),iconOnClick:$t.default.func,onTimelineElementClick:$t.default.func,id:$t.default.string,position:$t.default.string,style:$t.default.shape({}),textClassName:$t.default.string,visible:$t.default.bool,intersectionObserverProps:$t.default.shape({root:$t.default.object,rootMargin:$t.default.string,threshold:$t.default.number,triggerOnce:$t.default.bool})};var xK=mF;Ly.default=xK;var gF={VerticalTimeline:Iy.default,VerticalTimelineElement:Ly.default};const AK=({experience:n})=>q.jsxs(gF.VerticalTimelineElement,{contentStyle:{background:"#1d331a",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #233225"},date:n.date,iconStyle:{background:n.iconBg},icon:q.jsx("div",{className:"flex justify-center items-center w-full h-full",children:q.jsx("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[q.jsxs("div",{children:[q.jsx("h3",{className:"text-white text-[24px] font-bold",children:n.title}),q.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),q.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>q.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),_K=()=>q.jsxs(q.Fragment,{children:[q.jsxs(Yi.div,{variants:uF(),children:[q.jsx("p",{className:`${$i.sectionSubText} text-center`,children:"What I have done so far"}),q.jsx("h2",{className:`${$i.sectionHeadText} text-center`,children:"Experience."})]}),q.jsx("div",{className:"mt-20 flex flex-col",children:q.jsx(gF.VerticalTimeline,{children:j7.map((n,e)=>q.jsx(AK,{experience:n},`experience-${e}`))})})]}),MK=_d(_K,"work"),SK=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s,youtube_link:o,itch_link:a})=>{const l=()=>{o&&window.open(o,"_blank")};return q.jsx(Yi.div,{variants:Ad("up","spring",n*.5,.75),children:q.jsxs(fF,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[q.jsxs("div",{className:"relative w-full h-[230px]",children:[q.jsx("img",{src:r,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),o&&q.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:q.jsx("div",{onClick:l,className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:q.jsx("img",{src:JX,alt:"YouTube",className:"w-1/2 h-1/2 object-contain"})})}),a&&q.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:q.jsx("div",{onClick:()=>window.open(a,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:q.jsx("img",{src:XX,alt:"Itch",className:"w-1/2 h-1/2 object-contain"})})}),s&&q.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:q.jsx("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:q.jsx("img",{src:jX,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),q.jsxs("div",{className:"mt-5",children:[q.jsx("h3",{className:"text-white font-bold text-[24px]",children:e}),q.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),q.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(c=>q.jsxs("p",{className:`text-[14px] ${c.color}`,children:["#",c.name]},`${e}-${c.name}`))})]})})},EK=()=>q.jsxs(q.Fragment,{children:[q.jsxs(Yi.div,{variants:uF(),children:[q.jsx("p",{className:`${$i.sectionSubText} `,children:"My work"}),q.jsx("h2",{className:`${$i.sectionHeadText}`,children:"Coding Projects."})]}),q.jsx("div",{className:"w-full flex",children:q.jsx(Yi.p,{variants:Ad("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcase my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it."})}),q.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:J7.map((n,e)=>q.jsx(SK,{index:e,...n},`project-${e}`))})]}),wK=_d(EK,"experience");function yF(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function _R(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function CK(n){var e=TK(n,"string");return typeof e=="symbol"?e:String(e)}function TK(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bK(n,e,t){var i=N.useRef(n!==void 0),r=N.useState(e),s=r[0],o=r[1],a=n!==void 0,l=i.current;return i.current=a,!a&&l&&s!==e&&o(e),[a?n:s,N.useCallback(function(c){for(var h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];t&&t.apply(void 0,[c].concat(d)),o(c)},[t])]}function RK(n,e){return Object.keys(e).reduce(function(t,i){var r,s=t,o=s[_R(i)],a=s[i],l=yF(s,[_R(i),i].map(CK)),c=e[i],h=bK(a,o,n[c]),d=h[0],p=h[1];return la({},l,(r={},r[i]=d,r[c]=p,r))},n)}function U_(n,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},U_(n,e)}function PK(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,U_(n,e)}const BK=["xxl","xl","lg","md","sm","xs"],IK="xs",Dy=N.createContext({prefixes:{},breakpoints:BK,minBreakpoint:IK});function Fy(n,e){const{prefixes:t}=N.useContext(Dy);return n||t[e]||e}function LK(){const{breakpoints:n}=N.useContext(Dy);return n}function DK(){const{minBreakpoint:n}=N.useContext(Dy);return n}function FK(){const{dir:n}=N.useContext(Dy);return n==="rtl"}function NK(n){return n&&n.ownerDocument||document}function OK(n){var e=NK(n);return e&&e.defaultView||window}function UK(n,e){return OK(n).getComputedStyle(n,e)}var kK=/([A-Z])/g;function zK(n){return n.replace(kK,"-$1").toLowerCase()}var GK=/^ms-/;function Im(n){return zK(n).replace(GK,"-ms-")}var HK=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function VK(n){return!!(n&&HK.test(n))}function vF(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Im(e))||UK(n).getPropertyValue(Im(e));Object.keys(e).forEach(function(r){var s=e[r];!s&&s!==0?n.style.removeProperty(Im(r)):VK(r)?i+=r+"("+s+") ":t+=Im(r)+": "+s+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}const MR={disabled:!1},xF=yn.createContext(null);var WK=function(e){return e.scrollTop},Ff="unmounted",Wa="exited",ja="entering",xc="entered",k_="exiting",fo=function(n){PK(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var o=r,a=o&&!o.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?a?(l=Wa,s.appearStatus=ja):l=xc:i.unmountOnExit||i.mountOnEnter?l=Ff:l=Wa,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===Ff?{status:Wa}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==ja&&o!==xc&&(s=ja):(o===ja||o===xc)&&(s=k_)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,o,a;return s=o=a=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===ja){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Bf.findDOMNode(this);o&&WK(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wa&&this.setState({status:Ff})},t.performEnter=function(r){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[Bf.findDOMNode(this),a],c=l[0],h=l[1],d=this.getTimeouts(),p=a?d.appear:d.enter;if(!r&&!o||MR.disabled){this.safeSetState({status:xc},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:ja},function(){s.props.onEntering(c,h),s.onTransitionEnd(p,function(){s.safeSetState({status:xc},function(){s.props.onEntered(c,h)})})})},t.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Bf.findDOMNode(this);if(!s||MR.disabled){this.safeSetState({status:Wa},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:k_},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Wa},function(){r.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Bf.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],h=l[1];this.props.addEndListener(c,h)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Ff)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=yF(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return yn.createElement(xF.Provider,{value:null},typeof o=="function"?o(r,a):yn.cloneElement(yn.Children.only(o),a))},e}(yn.Component);fo.contextType=xF;fo.propTypes={};function mc(){}fo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mc,onEntering:mc,onEntered:mc,onExit:mc,onExiting:mc,onExited:mc};fo.UNMOUNTED=Ff;fo.EXITED=Wa;fo.ENTERING=ja;fo.ENTERED=xc;fo.EXITING=k_;const jK=fo,JK=!!(typeof window<"u"&&window.document&&window.document.createElement);var z_=!1,G_=!1;try{var Sx={get passive(){return z_=!0},get once(){return G_=z_=!0}};JK&&(window.addEventListener("test",Sx,Sx),window.removeEventListener("test",Sx,!0))}catch{}function XK(n,e,t,i){if(i&&typeof i!="boolean"&&!G_){var r=i.once,s=i.capture,o=t;!G_&&r&&(o=t.__once||function a(l){this.removeEventListener(e,a,s),t.call(this,l)},t.__once=o),n.addEventListener(e,o,z_?i:s)}n.addEventListener(e,t,i)}function KK(n,e,t,i){var r=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,r),t.__once&&n.removeEventListener(e,t.__once,r)}function AF(n,e,t,i){return XK(n,e,t,i),function(){KK(n,e,t,i)}}function YK(n,e,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!0),n){var r=document.createEvent("HTMLEvents");r.initEvent(e,t,i),n.dispatchEvent(r)}}function QK(n){var e=vF(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function qK(n,e,t){t===void 0&&(t=5);var i=!1,r=setTimeout(function(){i||YK(n,"transitionend",!0)},e+t),s=AF(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),s()}}function ZK(n,e,t,i){t==null&&(t=QK(n)||0);var r=qK(n,t,i),s=AF(n,"transitionend",e);return function(){r(),s()}}function SR(n,e){const t=vF(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function $K(n,e){const t=SR(n,"transitionDuration"),i=SR(n,"transitionDelay"),r=ZK(n,s=>{s.target===n&&(r(),e(s))},t+i)}function eY(n){n.offsetHeight}const ER=n=>!n||typeof n=="function"?n:e=>{n.current=e};function tY(n,e){const t=ER(n),i=ER(e);return r=>{t&&t(r),i&&i(r)}}function nY(n,e){return N.useMemo(()=>tY(n,e),[n,e])}function iY(n){return n&&"setState"in n?Bf.findDOMNode(n):n??null}const rY=yn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:r,onExited:s,addEndListener:o,children:a,childRef:l,...c},h)=>{const d=N.useRef(null),p=nY(d,l),m=R=>{p(iY(R))},v=R=>B=>{R&&d.current&&R(d.current,B)},x=N.useCallback(v(n),[n]),_=N.useCallback(v(e),[e]),g=N.useCallback(v(t),[t]),A=N.useCallback(v(i),[i]),M=N.useCallback(v(r),[r]),E=N.useCallback(v(s),[s]),C=N.useCallback(v(o),[o]);return q.jsx(jK,{ref:h,...c,onEnter:x,onEntered:g,onEntering:_,onExit:A,onExited:E,onExiting:M,addEndListener:C,nodeRef:d,children:typeof a=="function"?(R,B)=>a(R,{...B,ref:m}):yn.cloneElement(a,{ref:m})})}),sY=rY;function _F(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n},[n]),e}function H_(n){const e=_F(n);return N.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function oY(){const n=N.useRef(!0),e=N.useRef(()=>n.current);return N.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}const aY=["as","disabled"];function lY(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function cY(n){return!n||n.trim()==="#"}function MF({tagName:n,disabled:e,href:t,target:i,rel:r,role:s,onClick:o,tabIndex:a=0,type:l}){n||(t!=null||i!=null||r!=null?n="a":n="button");const c={tagName:n};if(n==="button")return[{type:l||"button",disabled:e},c];const h=p=>{if((e||n==="a"&&cY(t))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},d=p=>{p.key===" "&&(p.preventDefault(),h(p))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?r:void 0,onClick:h,onKeyDown:d},c]}const uY=N.forwardRef((n,e)=>{let{as:t,disabled:i}=n,r=lY(n,aY);const[s,{tagName:o}]=MF(Object.assign({tagName:t,disabled:i},r));return q.jsx(o,Object.assign({},r,s,{ref:e}))});uY.displayName="Button";const fY=["onKeyDown"];function hY(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function dY(n){return!n||n.trim()==="#"}const SF=N.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=hY(n,fY);const[r]=MF(Object.assign({tagName:"a"},i)),s=H_(o=>{r.onKeyDown(o),t==null||t(o)});return dY(i.href)||i.role==="button"?q.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:s})):q.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});SF.displayName="Anchor";const wR=SF;function pY(n,e){const t=N.useRef(!0);N.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function mY(n){const e=N.useRef(n);return e.current=n,e}function gY(n){const e=mY(n);N.useEffect(()=>()=>e.current(),[])}const V_=2**31-1;function EF(n,e,t){const i=t-Date.now();n.current=i<=V_?setTimeout(e,i):setTimeout(()=>EF(n,e,t),V_)}function yY(){const n=oY(),e=N.useRef();return gY(()=>clearTimeout(e.current)),N.useMemo(()=>{const t=()=>clearTimeout(e.current);function i(r,s=0){n()&&(t(),s<=V_?e.current=setTimeout(r,s):EF(e,r,Date.now()+s))}return{set:i,clear:t}},[])}const wF=N.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},r)=>(e=Fy(e,"carousel-caption"),q.jsx(t,{ref:r,className:ul(n,e),...i})));wF.displayName="CarouselCaption";const vY=wF,CF=N.forwardRef(({as:n="div",bsPrefix:e,className:t,...i},r)=>{const s=ul(t,Fy(e,"carousel-item"));return q.jsx(n,{ref:r,...i,className:s})});CF.displayName="CarouselItem";const xY=CF;function CR(n,e){let t=0;return N.Children.map(n,i=>N.isValidElement(i)?e(i,t++):i)}function AY(n,e){let t=0;N.Children.forEach(n,i=>{N.isValidElement(i)&&e(i,t++)})}const _Y=40;function MY(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const TF=N.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:i="div",bsPrefix:r,slide:s=!0,fade:o=!1,controls:a=!0,indicators:l=!0,indicatorLabels:c=[],activeIndex:h,onSelect:d,onSlide:p,onSlid:m,interval:v=5e3,keyboard:x=!0,onKeyDown:_,pause:g="hover",onMouseOver:A,onMouseOut:M,wrap:E=!0,touch:C=!0,onTouchStart:R,onTouchMove:B,onTouchEnd:P,prevIcon:b=q.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:I="Previous",nextIcon:G=q.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:J="Next",variant:W,className:K,children:X,...oe}=RK({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),te=Fy(r,"carousel"),L=FK(),V=N.useRef(null),[H,ee]=N.useState("next"),[Z,ne]=N.useState(!1),[ie,Ee]=N.useState(!1),[pe,j]=N.useState(h||0);N.useEffect(()=>{!ie&&h!==pe&&(V.current?ee(V.current):ee((h||0)>pe?"next":"prev"),s&&Ee(!0),j(h||0))},[h,ie,pe,s]),N.useEffect(()=>{V.current&&(V.current=null)});let ke=0,Xe;AY(X,(z,se)=>{++ke,se===h&&(Xe=z.props.interval)});const Me=_F(Xe),_e=N.useCallback(z=>{if(ie)return;let se=pe-1;if(se<0){if(!E)return;se=ke-1}V.current="prev",d==null||d(se,z)},[ie,pe,d,E,ke]),de=H_(z=>{if(ie)return;let se=pe+1;if(se>=ke){if(!E)return;se=0}V.current="next",d==null||d(se,z)}),ae=N.useRef();N.useImperativeHandle(t,()=>({element:ae.current,prev:_e,next:de}));const Se=H_(()=>{!document.hidden&&MY(ae.current)&&(L?_e():de())}),Le=H==="next"?"start":"end";pY(()=>{s||(p==null||p(pe,Le),m==null||m(pe,Le))},[pe]);const Ie=`${te}-item-${H}`,We=`${te}-item-${Le}`,Ke=N.useCallback(z=>{eY(z),p==null||p(pe,Le)},[p,pe,Le]),je=N.useCallback(()=>{Ee(!1),m==null||m(pe,Le)},[m,pe,Le]),tt=N.useCallback(z=>{if(x&&!/input|textarea/i.test(z.target.tagName))switch(z.key){case"ArrowLeft":z.preventDefault(),L?de(z):_e(z);return;case"ArrowRight":z.preventDefault(),L?_e(z):de(z);return}_==null||_(z)},[x,_,_e,de,L]),mt=N.useCallback(z=>{g==="hover"&&ne(!0),A==null||A(z)},[g,A]),k=N.useCallback(z=>{ne(!1),M==null||M(z)},[M]),D=N.useRef(0),ce=N.useRef(0),Ce=yY(),Te=N.useCallback(z=>{D.current=z.touches[0].clientX,ce.current=0,g==="hover"&&ne(!0),R==null||R(z)},[g,R]),Pe=N.useCallback(z=>{z.touches&&z.touches.length>1?ce.current=0:ce.current=z.touches[0].clientX-D.current,B==null||B(z)},[B]),$e=N.useCallback(z=>{if(C){const se=ce.current;Math.abs(se)>_Y&&(se>0?_e(z):de(z))}g==="hover"&&Ce.set(()=>{ne(!1)},v||void 0),P==null||P(z)},[C,g,_e,de,Ce,v,P]),Oe=v!=null&&!Z&&!ie,ge=N.useRef();N.useEffect(()=>{var z,se;if(!Oe)return;const ve=L?_e:de;return ge.current=window.setInterval(document.visibilityState?Se:ve,(z=(se=Me.current)!=null?se:v)!=null?z:void 0),()=>{ge.current!==null&&clearInterval(ge.current)}},[Oe,_e,de,Me,v,Se,L]);const Ge=N.useMemo(()=>l&&Array.from({length:ke},(z,se)=>ve=>{d==null||d(se,ve)}),[l,ke,d]);return q.jsxs(i,{ref:ae,...oe,onKeyDown:tt,onMouseOver:mt,onMouseOut:k,onTouchStart:Te,onTouchMove:Pe,onTouchEnd:$e,className:ul(K,te,s&&"slide",o&&`${te}-fade`,W&&`${te}-${W}`),children:[l&&q.jsx("div",{className:`${te}-indicators`,children:CR(X,(z,se)=>q.jsx("button",{type:"button","data-bs-target":"","aria-label":c!=null&&c.length?c[se]:`Slide ${se+1}`,className:se===pe?"active":void 0,onClick:Ge?Ge[se]:void 0,"aria-current":se===pe},se))}),q.jsx("div",{className:`${te}-inner`,children:CR(X,(z,se)=>{const ve=se===pe;return s?q.jsx(sY,{in:ve,onEnter:ve?Ke:void 0,onEntered:ve?je:void 0,addEndListener:$K,children:(be,Ze)=>N.cloneElement(z,{...Ze,className:ul(z.props.className,ve&&be!=="entered"&&Ie,(be==="entered"||be==="exiting")&&"active",(be==="entering"||be==="exiting")&&We)})}):N.cloneElement(z,{className:ul(z.props.className,ve&&"active")})})}),a&&q.jsxs(q.Fragment,{children:[(E||h!==0)&&q.jsxs(wR,{className:`${te}-control-prev`,onClick:_e,children:[b,I&&q.jsx("span",{className:"visually-hidden",children:I})]}),(E||h!==ke-1)&&q.jsxs(wR,{className:`${te}-control-next`,onClick:de,children:[G,J&&q.jsx("span",{className:"visually-hidden",children:J})]})]})]})});TF.displayName="Carousel";const TR=Object.assign(TF,{Caption:vY,Item:xY});function SY({as:n,bsPrefix:e,className:t,...i}){e=Fy(e,"col");const r=LK(),s=DK(),o=[],a=[];return r.forEach(l=>{const c=i[l];delete i[l];let h,d,p;typeof c=="object"&&c!=null?{span:h,offset:d,order:p}=c:h=c;const m=l!==s?`-${l}`:"";h&&o.push(h===!0?`${e}${m}`:`${e}${m}-${h}`),p!=null&&a.push(`order${m}-${p}`),d!=null&&a.push(`offset${m}-${d}`)}),[{...i,className:ul(t,...o,...a)},{as:n,bsPrefix:e,spans:o}]}const bF=N.forwardRef((n,e)=>{const[{className:t,...i},{as:r="div",bsPrefix:s,spans:o}]=SY(n);return q.jsx(r,{...i,ref:e,className:ul(t,!o.length&&s)})});bF.displayName="Col";const EY=bF;function W_(){return W_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},W_.apply(this,arguments)}function wY(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,j_(n,e)}function j_(n,e){return j_=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},j_(n,e)}var d1=function(n){wY(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.getColumns=function(){var r=this.props,s=r.children,o=r.columnsCount,a=Array.from({length:o},function(){return[]});return yn.Children.forEach(s,function(l,c){l&&yn.isValidElement(l)&&a[c%o].push(l)}),a},t.renderColumns=function(){var r=this.props.gutter;return this.getColumns().map(function(s,o){return yn.createElement("div",{key:o,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:r}},s.map(function(a){return a}))})},t.render=function(){var r=this.props,s=r.gutter,o=r.className,a=r.style;return yn.createElement("div",{style:W_({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:s},a),className:o},this.renderColumns())},e}(yn.Component);d1.propTypes={};d1.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var CY=1,RF=typeof window<"u"?N.useLayoutEffect:N.useEffect,TY=function(){var e=N.useState(!1),t=e[0],i=e[1];return RF(function(){i(!0)},[]),t},bY=function(){var e=TY(),t=N.useState(0),i=t[0],r=t[1],s=N.useCallback(function(){e&&r(window.innerWidth)},[e]);return RF(function(){if(e)return window.addEventListener("resize",s),s(),function(){return window.removeEventListener("resize",s)}},[e,s]),i},PF=function(e){var t=e.columnsCountBreakPoints,i=t===void 0?{350:1,750:2,900:3}:t,r=e.children,s=e.className,o=s===void 0?null:s,a=e.style,l=a===void 0?null:a,c=bY(),h=N.useMemo(function(){var d=Object.keys(i).sort(function(m,v){return m-v}),p=d.length>0?i[d[0]]:CY;return d.forEach(function(m){m<c&&(p=i[m])}),p},[c,i]);return yn.createElement("div",{className:o,style:l},yn.Children.map(r,function(d,p){return yn.cloneElement(d,{key:p,columnsCount:h})}))};PF.propTypes={};const RY=()=>{const[n,e]=N.useState(null),t=s=>{e(s===n?null:s)},i=()=>{e(null)},r=s=>{s.stopPropagation()};return q.jsxs(q.Fragment,{children:[q.jsxs(PF,{columnsCountBreakPoints:{350:1,750:2,900:3},gutter:"16px",children:[q.jsxs(Yi.div,{children:[q.jsx("p",{className:$i.sectionSubText,children:"Artworks"}),q.jsx("h2",{className:$i.sectionHeadText,children:"Gallery"})]}),q.jsx(Yi.p,{variants:Ad("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"As an art enthusiast, I created a lot of artworks in different media."}),q.jsx(d1,{className:"gallery-row",children:Ef.map((s,o)=>q.jsx(EY,{xs:12,sm:6,md:6,lg:4,xl:3,children:q.jsxs("div",{className:`gallery-col ${n===o?"expanded":""}`,onClick:()=>t(o),children:[q.jsx("img",{src:s.image,alt:s.name,className:"gallery-image"}),q.jsx("p",{children:" "}),q.jsx("p",{className:"mt-4 flex flex-wrap gap-2",children:s.name}),q.jsx("div",{className:"image-description",children:q.jsx("p",{className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:s.description})}),q.jsx("div",{className:"mt-4 flex flex-wrap gap-2 mb-5",children:s.tags&&s.tags.map(a=>q.jsxs("p",{className:`text-[14px] ${a.color}`,children:["#",a.name]},`${a.name}`))})]})},o))})]}),n!==null&&q.jsx(Yi.div,{className:"expanded-image-overlay",onClick:i,children:q.jsxs("div",{className:"expanded-image",onClick:r,children:[Ef[n].isCarousel?q.jsxs(TR,{controls:!1,children:[" ",Ef[n].carouselImages.map((s,o)=>q.jsx(TR.Item,{full:!0,children:q.jsx("img",{src:s,alt:`Image ${o+1}`,className:"d-block w-100 h-100"})},o))]}):q.jsx(Yi.img,{src:Ef[n].image,alt:Ef[n].name,layoutId:`image-${n}`}),q.jsx("div",{className:"expanded-details",children:q.jsx("div",{className:"flex flex-wrap gap-2"})})]})})]})},PY=_d(RY,"gallery"),nh="generated",BY="pointerdown",IY="pointerup",bR="pointerleave",LY="pointerout",RR="pointermove",DY="touchstart",PR="touchend",FY="touchmove",NY="touchcancel",OY="resize",UY="visibilitychange",_l="tsParticles - Error";class Vi{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Kr(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${_l} Vector3d not initialized correctly`)}static get origin(){return Vi.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Vi.create(e.x,e.y,e.z)}static create(e,t,i){return new Vi(e,t,i)}add(e){return Vi.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Vi.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Vi.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Vi.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Vi.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return Vi.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Zc extends Vi{constructor(e,t){super(e,t,0)}static get origin(){return Zc.create(0,0)}static clone(e){return Zc.create(e.x,e.y)}static create(e,t){return new Zc(e,t)}}let kY=Math.random;function ao(){return BF(kY(),0,1-1e-16)}function BF(n,e,t){return Math.min(Math.max(n,e),t)}function $c(n){const e=m1(n);let t=p1(n);return e===t&&(t=0),ao()*(e-t)+t}function Jt(n){return Kr(n)?n:$c(n)}function p1(n){return Kr(n)?n:n.min}function m1(n){return Kr(n)?n:n.max}function Lt(n,e){if(n===e||e===void 0&&Kr(n))return n;const t=p1(n),i=m1(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:Lt(t,i)}function zY(n){const e=n.random,{enable:t,minimumValue:i}=ea(e)?{enable:e,minimumValue:0}:e;return Jt(t?Lt(n.value,i):n.value)}function GY(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function g1(n,e){return GY(n,e).distance}function HY(n,e,t){if(Kr(n))return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return ao()*Math.PI*2}}function VY(n){const e=Zc.origin;return e.length=1,e.angle=n,e}function WY(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??ao()*n.size.width,y:((t=n.position)==null?void 0:t.y)??ao()*n.size.height}}function IF(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}const jY={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Uh(){return jY}function Ny(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function JY(){return!Ny()&&typeof matchMedia<"u"}function LF(n){if(JY())return matchMedia(n)}function XY(n){if(!(Ny()||typeof MutationObserver>"u"))return new MutationObserver(n)}function KY(n,e){return n===e||_s(e)&&e.indexOf(n)>-1}function YY(n){return Math.floor(ao()*n.length)}function y1(n,e,t=!0){return n[e!==void 0&&t?e%n.length:YY(n)]}function li(n,...e){for(const t of e){if(t==null)continue;if(!Nf(t)){n=t;continue}const i=Array.isArray(t);i&&(Nf(n)||!n||!Array.isArray(n))?n=[]:!i&&(Nf(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,o=s[r],a=n;a[r]=Nf(o)&&Array.isArray(o)?o.map(l=>li(a[r],l)):li(a[r],o)}}return n}function Ml(n,e){return _s(n)?n.map((t,i)=>e(t,i)):e(n,0)}function ih(n,e,t){return _s(n)?y1(n,e,t):n}function QY(n,e){const t=n.value,i=n.animation,r={delayTime:Jt(i.delay)*1e3,enable:i.enable,value:Jt(n.value)*e,max:m1(t)*e,min:p1(t)*e,loops:0,maxLoops:Jt(i.count),time:0};if(i.enable){switch(r.decay=1-Jt(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=ao()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=$c(r),s&&(r.status=ao()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function qY(n,e){if(!(n.mode==="percent")){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/100*e.width,y:n.y/100*e.height}:{width:n.width/100*e.width,height:n.height/100*e.height}}function DF(n,e){return qY(n,e)}function ea(n){return typeof n=="boolean"}function As(n){return typeof n=="string"}function Kr(n){return typeof n=="number"}function FF(n){return typeof n=="function"}function Nf(n){return typeof n=="object"&&n!==null}function _s(n){return Array.isArray(n)}const ZY="random",Oy=new Map;function BR(n){Oy.set(n.key,n)}function Ex(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function $Y(n){for(const[,s]of Oy)if(n.startsWith(s.stringPrefix))return s.parseString(n);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=n.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(t);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function eu(n,e,t=!0){if(!n)return;const i=As(n)?{value:n}:n;if(As(i.value))return NF(i.value,e,t);if(_s(i.value))return eu({value:y1(i.value,e,t)});for(const[,r]of Oy){const s=r.handleRangeColor(i);if(s)return s}}function NF(n,e,t=!0){if(!n)return;const i=As(n)?{value:n}:n;if(As(i.value))return i.value===ZY?iQ():tQ(i.value);if(_s(i.value))return NF({value:y1(i.value,e,t)});for(const[,r]of Oy){const s=r.handleColor(i);if(s)return s}}function IR(n,e,t=!0){const i=eu(n,e,t);return i?eQ(i):void 0}function eQ(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(t-i)/(r-s):o.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function tQ(n){return $Y(n)}function J_(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=Ex(r,i,t.h+1/3),e.g=Ex(r,i,t.h),e.b=Ex(r,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function nQ(n){const e=J_(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function iQ(n){const e=n??0;return{b:Math.floor($c(Lt(e,256))),g:Math.floor($c(Lt(e,256))),r:Math.floor($c(Lt(e,256)))}}function tg(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function LR(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function DR(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function rQ(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}function sQ(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}function wx(n,e){n.clearRect(0,0,e.width,e.height)}function oQ(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:h,transform:d}=n,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),v={sin:Math.sin(m),cos:Math.cos(m)},x={a:v.cos*(d.a??1),b:v.sin*(d.b??1),c:-v.sin*(d.c??1),d:v.cos*(d.d??1)};t.setTransform(x.a,x.b,x.c,x.d,p.x,p.y),t.beginPath(),o&&(t.globalCompositeOperation=a);const _=i.shadowColor;h.enable&&_&&(t.shadowBlur=h.blur,t.shadowColor=tg(_),t.shadowOffsetX=h.offset.x,t.shadowOffsetY=h.offset.y),s.fill&&(t.fillStyle=s.fill);const g=i.strokeWidth??0;t.lineWidth=g,s.stroke&&(t.strokeStyle=s.stroke),aQ(e,t,i,l,c,r),g>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),lQ(e,t,i,l,c,r),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function aQ(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,i,r,s,n.retina.pixelRatio)}function lQ(n,e,t,i,r,s){if(!t.shape)return;const o=n.drawers.get(t.shape);!o||!o.afterEffect||o.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}function cQ(n,e,t){e.draw&&e.draw(n,t)}function uQ(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function fQ(n,e,t){return{h:n.h,s:n.s,l:n.l+(e==="darken"?-1:1)*t}}function hQ(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??1)*i)}class dQ{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:h}=l.getColorStyles(i,t,r,s);c&&(o.fill=c),h&&(o.stroke=h)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const h in c)hQ(a,c,h)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=IR(s.particleFillColor(t))),!r&&s.particleStrokeColor&&(r=IR(s.particleStrokeColor(t))),i&&r)break;return[i,r]},this._initCover=()=>{const t=this.container.actualOptions,i=t.backgroundMask.cover,r=i.color,s=eu(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=tg(o,o.a)}},this._initStyle=()=>{const t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=li({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&t.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const t=this.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=eu(r.color);if(!s)return;const o=t.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=t=>{this.draw(i=>rQ(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(r=>sQ(r,this.size,t,i))},this._repairStyle=()=>{const t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{const t=this.element,i=this._originalStyle;if(!(t&&i))return;const r=t.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{const t=this.element;if(!t)return;const i="important",r=t.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(tg(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{wx(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var M;const c=this.container,h=c.actualOptions,d=e.options.zIndex,p=(1-e.zIndexFactor)**d.opacityRate,m=e.bubble.opacity??((M=e.opacity)==null?void 0:M.value)??1,v=e.strokeOpacity??m,x=m*p,_=v*p,g={},A={fill:o?LR(o,x):void 0};A.stroke=a?LR(a,_):A.fill,this._applyPreDrawUpdaters(l,e,i,x,A,g),oQ({container:c,context:l,particle:e,delta:t,colorStyles:A,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**d.sizeRate,opacity:x,shadow:e.options.shadow,transform:g}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>uQ(r,e,t,i))}drawPlugin(e,t){this.draw(i=>cQ(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=XY(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){Uh().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=eu(t.color);r.backgroundColor=s?tg(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&nh in e.dataset?e.dataset[nh]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=li({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(wx(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>wx(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function gr(n,e,t,i,r){if(i){let s={passive:!0};ea(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class pQ{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;Ml(a.mode,l=>this.container.handleClickMode(l))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const t=this.container.canvas;t&&await t.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(gr(a,RR,r.mouseMove,i),gr(a,DY,r.touchStart,i),gr(a,FY,r.touchMove,i),o.interactivity.events.onClick.enable?(gr(a,PR,r.touchEndClick,i),gr(a,IY,r.mouseUp,i),gr(a,BY,r.mouseDown,i)):gr(a,PR,r.touchEnd,i),gr(a,t,r.mouseLeave,i),gr(a,NY,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=bR;o==="window"?(r.interactivity.element=window,l=LY):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(l,t),document&&gr(document,UY,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=LF("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){gr(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){gr(window,OY,i.resize,t);return}const o=r.canvas.element;this._resizeObserver&&!t?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=bR,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(t.type.startsWith("pointer")){this._canPush=!0;const c=t;if(s.element===window){if(o){const h=o.getBoundingClientRect();a={x:c.clientX-h.left,y:c.clientY-h.top}}}else if(r.interactivity.detectsOn==="parent"){const h=c.target,d=c.currentTarget;if(h&&d&&o){const p=h.getBoundingClientRect(),m=d.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+v.left),y:c.offsetY+2*p.top-(m.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=t.type!=="touchmove",o){const c=t,h=c.touches[c.touches.length-1],d=o.getBoundingClientRect();a={x:h.clientX-(d.left??0),y:h.clientY-(d.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=RR},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class ws{constructor(){this.value=""}static create(e,t){const i=new ws;return i.load(e),t!==void 0&&(As(t)||_s(t)?i.load({value:t}):i.load(t)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class mQ{constructor(){this.color=new ws,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ws.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class gQ{constructor(){this.color=new ws,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ws.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class yQ{constructor(){this.composite="destination-out",this.cover=new gQ,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=As(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class vQ{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class xQ{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class FR{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Ml(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Ml(e,t=>`#${t}`)}load(e){if(!e)return;const t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class AQ{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class _Q{constructor(){this.enable=!1,this.mode=[],this.parallax=new AQ}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class MQ{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class SQ{constructor(){this.onClick=new xQ,this.onDiv=new FR,this.onHover=new _Q,this.resize=new MQ}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=Ml(t,i=>{const r=new FR;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),ea(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class EQ{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class OF{constructor(e,t){this.detectsOn="window",this.events=new SQ,this.modes=new EQ(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class wQ{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=li({},e.options)))}}class CQ{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=li({},e.options)))}}class TQ{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class bQ{constructor(){this.name="",this.default=new TQ}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=li({},e.options)))}}class Cx{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Lt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Lt(e.offset)),e.speed!==void 0&&(this.speed=Lt(e.speed)),e.decay!==void 0&&(this.decay=Lt(e.decay)),e.delay!==void 0&&(this.delay=Lt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class RQ{constructor(){this.h=new Cx,this.s=new Cx,this.l=new Cx}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class kh extends ws{constructor(){super(),this.animation=new RQ}static create(e,t){const i=new kh;return i.load(e),t!==void 0&&(As(t)||_s(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}class PQ{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class BQ{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class IQ{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Lt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Lt(e.speed)),e.decay!==void 0&&(this.decay=Lt(e.decay)),e.delay!==void 0&&(this.delay=Lt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class UF extends IQ{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class LQ{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Md{constructor(){this.random=new LQ,this.value=0}load(e){e&&(ea(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Lt(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class NR extends Md{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class kF{constructor(){this.horizontal=new NR,this.vertical=new NR}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class DQ{constructor(){this.absorb=new PQ,this.bounce=new kF,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new BQ}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Lt(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class FQ{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Lt(e.offset)),e.value!==void 0&&(this.value=Lt(e.value)))}}class NQ{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=Lt(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const t=((r=e.rotate)==null?void 0:r.x)??e.rotateX;t!==void 0&&(this.rotate.x=t);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class OQ{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class UQ{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Lt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Lt(e.maxSpeed)))}}class kQ{constructor(){this.clamp=!0,this.delay=new Md,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=li(this.options,e.options)))}}class zQ{load(e){e&&(e.color!==void 0&&(this.color=ws.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class GQ{constructor(){this.enable=!1,this.length=10,this.fill=new zQ}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class HQ{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class VQ{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Lt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=li({},e.position)))}}class WQ{constructor(){this.angle=new FQ,this.attract=new NQ,this.center=new OQ,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new UQ,this.path=new kQ,this.outModes=new HQ,this.random=!1,this.size=!1,this.speed=2,this.spin=new VQ,this.straight=!1,this.trail=new GQ,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Kr(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Lt(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Kr(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Lt(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(Nf(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Lt(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class jQ extends UF{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class JQ extends Md{constructor(){super(),this.animation=new jQ,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Lt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class XQ{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class KQ{constructor(){this.density=new XQ,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}}class YQ{constructor(){this.blur=0,this.color=new ws,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ws.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Tx="character",bx="char",Rx="image",Px="images",Bx="polygon",Ix="star";class QQ{constructor(){this.loadShape=(e,t,i,r)=>{if(!e)return;const s=_s(e),o=s?[]:{},a=s!==_s(this.options[t]),l=s!==_s(this.options[i]);a&&(this.options[t]=o),l&&r&&(this.options[i]=o),this.options[t]=li(this.options[t]??o,e),(!this.options[i]||r)&&(this.options[i]=li(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Tx]??this.options[bx]}set character(e){this.options[bx]=this.options[Tx]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Rx]??this.options[Px]}set image(e){this.options[Px]=this.options[Rx]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Bx]??this.options[Ix]}set polygon(e){this.options[Ix]=this.options[Bx]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const t=e.options??e.custom;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=li(this.options[i]??{},r))}this.loadShape(e.character,Tx,bx,!0),this.loadShape(e.polygon,Bx,Ix,!1),this.loadShape(e.image??e.images,Rx,Px,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class qQ extends UF{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class ZQ extends Md{constructor(){super(),this.animation=new qQ,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=Lt(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class OR{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=kh.create(this.color,e.color)),e.width!==void 0&&(this.width=Lt(e.width)),e.opacity!==void 0&&(this.opacity=Lt(e.opacity)))}}class $Q extends Md{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class eq{constructor(e,t){this._engine=e,this._container=t,this.bounce=new kF,this.collisions=new DQ,this.color=new kh,this.color.value="#fff",this.groups={},this.move=new WQ,this.number=new KQ,this.opacity=new JQ,this.reduceDuplicates=!1,this.shadow=new YQ,this.shape=new QQ,this.size=new ZQ,this.stroke=new OR,this.zIndex=new $Q}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(kh.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=li(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const t=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=li({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=Ml(i,a=>{const l=new OR;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function zF(n,...e){for(const t of e)n.load(t)}function GF(n,e,...t){const i=new eq(n,e);return zF(i,...t),i}class tq{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new mQ,this.backgroundMask=new yQ,this.defaultThemes={},this.delay=0,this.fullScreen=new vQ,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new OF(e,t),this.manualParticles=[],this.particles=GF(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&Ml(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Lt(e.delay));const t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=Lt(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;ea(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new wQ;return c.load(l),c})),this.particles.load(e.particles),this.style=li(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new CQ;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(h=>h.name===l.name);if(c)c.load(l);else{const h=new bQ;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=LF("(prefers-color-scheme: dark)"),i=t&&t.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class nq{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const UR=n=>{if(!KY(n.outMode,n.checkModes))return;const e=n.radius*2;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)};class iq{constructor(e,t,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,h=0)=>{for(const[,A]of a.plugins){const M=A.particlePosition!==void 0?A.particlePosition(l,this):void 0;if(M)return Vi.create(M.x,M.y,c)}const d=a.canvas.size,p=WY({size:d,position:l}),m=Vi.create(p.x,p.y,c),v=this.getRadius(),x=this.options.move.outModes,_=A=>{UR({outMode:A,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:M=>m.x+=M,radius:v})},g=A=>{UR({outMode:A,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:M=>m.y+=M,radius:v})};return _(x.left??x.default),_(x.right??x.default),g(x.top??x.default),g(x.bottom??x.default),this._checkOverlap(m,h)?this._calcPosition(a,void 0,c,h+1):m},this._calculateVelocity=()=>{const a=VY(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const h=Math.PI/180*Jt(c.angle.value),d=Math.PI/180*Jt(c.angle.offset),p={left:d-h/2,right:d+h/2};return c.straight||(l.angle+=$c(Lt(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=ao()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,h=this.getRadius();if(!c.enable)return!1;const d=c.overlap;if(d.enable)return!1;const p=d.retries;if(p>=0&&l>p)throw new Error(`${_l} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>g1(a,m.position)<h+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?fQ(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=Jt(this.options.zIndex.value);this.position=this._calcPosition(l,a,BF(c,0,l.zLayers)),this.initialPosition=this.position.copy();const h=l.canvas.size;switch(this.moveCenter={...DF(this.options.move.center,h),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=HY(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Zc.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return li({close:a.close,fill:a.fill},ih(c,this.id,l))},this._engine=e,this.init(t,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??DR(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??DR(this.strokeColor))}init(e,t,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=GF(this._engine,s,l.particles),h=c.shape.type,{reduceDuplicates:d}=c;this.shape=ih(h,this.id,d);const p=c.shape;if(i&&i.shape&&i.shape.type){const M=i.shape.type,E=ih(M,this.id,d);E&&(this.shape=E,p.load(i.shape))}this.shapeData=this._loadShapeData(p,d),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const v=new OF(o,s);v.load(s.actualOptions.interactivity),v.load(c.interactivity),this.interactivity=v,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const x=this.options.move.path;this.pathDelay=zY(x.delay)*1e3,x.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(x.generator),this.pathGenerator&&s.addPath(x.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=QY(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Jt(this.options.move.decay);const _=s.particles;_.needsSort=_.needsSort||_.lastZIndex<this.position.z,_.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let g=s.drawers.get(this.shape);g||(g=this._engine.plugins.getShapeDrawer(this.shape),g&&s.drawers.set(this.shape,g)),g&&g.loadShape&&g.loadShape(this);const A=g==null?void 0:g.getSidesCount;A&&(this.sides=A(this)),this.spawning=!1,this.shadowColor=eu(this.options.shadow.color);for(const M of s.particles.updaters)M.init(this);for(const M of s.particles.movers)M.init&&M.init(this);g&&g.particleInit&&g.particleInit(s,this);for(const[,M]of s.plugins)M.particleCreated&&M.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class rq{constructor(e,t){this.position=e,this.particle=t}}class HF{constructor(e,t){this.position={x:e,y:t}}}class Au extends HF{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof Uy&&e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Au?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+t&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class Uy extends HF{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return g1(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof Uy){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Au){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class Hg{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new Hg(new Au(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&g1(e.position,s.position)>s.particle.getRadius()&&(!t||t(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,t,r);return r}queryCircle(e,t,i){return this.query(new Uy(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Au(e.x,e.y,t.width,t.height),i)}}const kR=4,zR=n=>new Au(-n.width/4,-n.height/4,n.width*3/2,n.height*3/2);let sq=class{constructor(e,t){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,h=a.limit>0?a.limit:c,d=Math.min(c,h)*l+s,p=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,p<d?this.push(Math.abs(d-p),void 0,r,o):p>d&&this.removeQuantity(p-d,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new iq(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){Uh().warning(`${_l} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new nq(e,t);const i=t.canvas.size;this.quadTree=new Hg(zR(i),kR),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(i.position?DF(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in t.particles.groups){const o=t.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<t.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<t.particles.number.value;s++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,i=new Set;this.quadTree=new Hg(zR(t.canvas.size),kR);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const s=t.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new rq(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class oq{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Ny()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=t.particles,s=r.move;this.attractDistance=Jt(s.attract.distance)*i,this.maxSpeed=Jt(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Jt(r.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,o=e.retina;o.attractDistance=Jt(r.attract.distance)*i,o.moveDrift=Jt(r.drift)*i,o.moveSpeed=Jt(r.speed)*i,o.sizeAnimationSpeed=Jt(t.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=Jt(r.gravity.maxSpeed)*i}}function rn(n){return n&&!n.destroyed}function aq(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}function gc(n,e,...t){const i=new tq(n,e);return zF(i,...t),i}const lq="default",GR={generate:n=>n.velocity,init:()=>{},update:()=>{},reset:()=>{}};class cq{constructor(e,t,i){this.id=t,this._intersectionManager=r=>{if(!(!rn(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=aq(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){Uh().error(`${_l} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new oq(this),this.canvas=new dQ(this),this.particles=new sq(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=gc(this._engine,this),this.actualOptions=gc(this._engine,this),this._eventListeners=new pQ(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!rn(this))return;const t=this.interactivity.element;if(!t)return;const i=(d,p,m)=>{if(!rn(this))return;const v=this.retina.pixelRatio,x={x:p.x*v,y:p.y*v},_=this.particles.quadTree.queryCircle(x,m*v);e(d,_)},r=d=>{if(!rn(this))return;const p=d,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(d,m,1)},s=()=>{rn(this)&&(c=!0,h=!1)},o=()=>{rn(this)&&(h=!0)},a=d=>{if(rn(this)){if(c&&!h){const p=d;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const v=this.canvas.element,x=v?v.getBoundingClientRect():void 0,_={x:m.clientX-(x?x.left:0),y:m.clientY-(x?x.top:0)};i(d,_,Math.max(m.radiusX,m.radiusY))}c=!1,h=!1}},l=()=>{rn(this)&&(c=!1,h=!1)};let c=!1,h=!1;t.addEventListener("click",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",o),t.addEventListener("touchend",a),t.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!rn(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??GR),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!rn(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!rn(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(i)})}async export(e,t={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}Uh().error(`${_l} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&rn(this)}handleClickMode(e){if(rn(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!rn(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=gc(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=gc(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Jt(this.actualOptions.duration)*1e3,this._delay=Jt(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){rn(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(rn(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!rn(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}async refresh(){if(rn(this))return this.stop(),this.start()}async reset(){if(rn(this))return this._initialSourceOptions=void 0,this._options=gc(this._engine,this),this.actualOptions=gc(this._engine,this,this._options),this.refresh()}setNoise(e,t,i){rn(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!rn(this))return;const r={...GR};if(FF(e))r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(lq,r,!0)}async start(){!rn(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,t]of this.plugins)t.start&&await t.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!rn(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class uq{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i&&i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function Lx(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(s=>s(n)),e.set(n,r)),r}class fq{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Ml(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return Lx(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return Lx(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return Lx(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(t,...i)}}async function hq(n){const e=ih(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?t.json():(Uh().error(`${_l} ${t.status} while retrieving config file`),n.fallback)}function dq(n){return!n.id&&!n.element&&!n.url&&!n.options}function pq(n){return!dq(n)}class mq{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new uq,this._initialized=!1,this.plugins=new fq(this)}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){As(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this.plugins.addInteractor(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this.plugins.addParticleMover(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this.plugins.addParticleUpdater(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.plugins.addPathGenerator(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){this.plugins.addPreset(e,t,i),await this.refresh(r)}async addShape(e,t,i,r,s,o=!0){let a,l=o,c,h,d;ea(i)?(l=i,c=void 0):c=i,ea(r)?(l=r,h=void 0):h=r,ea(s)?(l=s,d=void 0):d=s,FF(t)?a={afterEffect:h,destroy:d,draw:t,init:c}:a=t,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,i){let r;return pq(e)?r=e:(r={},As(e)?r.id=e:r.options=e,Kr(t)?r.index=t:r.options=t??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,t,i){let r,s;return Kr(t)||t===void 0?r=e:(s=e,r=t),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(t=>t.refresh())}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,i,r){const s={index:r};return As(e)?s.id=e:s.element=e,t instanceof HTMLElement?s.element=t:s.options=t,Kr(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,t,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=t,s.index=i):(s.id=e,s.element=t,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error(`${_l} can only set click handlers after calling tsParticles.load()`);for(const i of t)i.addClickHandler(e)}async _loadParams(e){const t=e.id??`tsparticles${Math.floor(ao()*1e4)}`,{index:i,url:r}=e,s=r?await hq({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(t);o||(o=document.createElement("div"),o.id=t,document.body.append(o));const a=ih(s,i),l=this.dom(),c=l.findIndex(p=>p.id===t);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let h;if(o.tagName.toLowerCase()==="canvas")h=o,h.dataset[nh]="false";else{const p=o.getElementsByTagName("canvas");p.length?(h=p[0],h.dataset[nh]="false"):(h=document.createElement("canvas"),h.dataset[nh]="true",o.appendChild(h))}h.style.width||(h.style.width="100%"),h.style.height||(h.style.height="100%");const d=new cq(this,t,a);return c>=0?l.splice(c,0,d):l.push(d),d.canvas.loadCanvas(h),await d.start(),d}}class gq{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return J_(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return J_({h:Jt(i.h),l:Jt(i.l),s:Jt(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?nQ({a:i.length>4?IF(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class yq{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:Jt(i.r),g:Jt(i.g),b:Jt(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?IF(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function vq(){const n=new yq,e=new gq;BR(n),BR(e);const t=new mq;return t.init(),t}const X_=vq();Ny()||(window.tsParticles=X_);const zc=n=>typeof n=="object"&&n!==null;function Vg(n,e,t=()=>!1){if(!zc(n)||!zc(e))return n===e;const i=Object.keys(n).filter(s=>!t(s)),r=Object.keys(e).filter(s=>!t(s));if(i.length!==r.length)return!1;for(const s of i){const o=n[s],a=e[s];if(zc(o)&&zc(a)){if(o===e&&a===n)continue;if(!Vg(o,a,t))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!VF(o,a,t))return!1}else if(o!==a)return!1}return!0}function VF(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){const r=n[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!VF(r,s,t))return!1}else if(zc(r)&&zc(s)){if(!Vg(r,s,t))return!1}else if(r!==s)return!1}return!0}const WF="tsparticles";class ky extends N.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const t=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Vg(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Vg(t,i,r=>r.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(X_),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:t,className:i,canvasClassName:r,id:s}=this.props;return yn.createElement("div",{className:i,id:s},yn.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:t}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??ky.defaultProps.id??WF,t=await X_.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=t),this.setState({library:t}),this.props.loaded&&await this.props.loaded(t)}}ky.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:WF};const xq={autoPlay:!0,background:{color:{value:"#051901"},image:"",position:"",repeat:"",size:"",opacity:1},backgroundMask:{composite:"destination-out",cover:{color:{value:"#fff"},opacity:1},enable:!1},clear:!0,defaultThemes:{},delay:0,fullScreen:{enable:!0,zIndex:-1},detectRetina:!0,duration:0,fpsLimit:120,interactivity:{detectsOn:"window",events:{onClick:{enable:!1,mode:[]},onDiv:{selectors:[],enable:!1,mode:[],type:"circle"},onHover:{enable:!0,mode:"trail",parallax:{enable:!1,force:2,smooth:10}},resize:{delay:.5,enable:!0}},modes:{trail:{delay:.005,pauseOnStop:!0,quantity:5,particles:{color:{value:"#ff0000",animation:{enable:!0,speed:400,sync:!0}},collisions:{enable:!1},links:{enable:!1},move:{outModes:{default:"destroy"},speed:2},size:{value:{min:1,max:5},animation:{enable:!0,speed:5,sync:!0,startValue:"min",destroy:"max"}}}},attract:{distance:200,duration:.4,easing:"ease-out-quad",factor:1,maxSpeed:50,speed:1},bounce:{distance:200},bubble:{distance:200,duration:.4,mix:!1,divs:{distance:200,duration:.4,mix:!1,selectors:[]}},connect:{distance:80,links:{opacity:.5},radius:60},grab:{distance:100,links:{blink:!1,consent:!1,opacity:1}},push:{default:!0,groups:[],quantity:4},remove:{quantity:2},repulse:{distance:200,duration:.4,factor:100,speed:1,maxSpeed:50,easing:"ease-out-quad",divs:{distance:200,duration:.4,factor:100,speed:1,maxSpeed:50,easing:"ease-out-quad",selectors:[]}},slow:{factor:3,radius:200},light:{area:{gradient:{start:{value:"#ffffff"},stop:{value:"#000000"}},radius:1e3},shadow:{color:{value:"#000000"},length:2e3}}}},manualParticles:[],particles:{bounce:{horizontal:{value:1},vertical:{value:1}},collisions:{absorb:{speed:2},bounce:{horizontal:{value:1},vertical:{value:1}},enable:!1,maxSpeed:50,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:"#ff0000",animation:{h:{count:0,enable:!0,speed:50,decay:0,delay:0,sync:!1,offset:0},s:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},l:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0}}},effect:{close:!0,fill:!0,options:{},type:[]},groups:{},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:3e3,y:3e3}},center:{x:50,y:50,mode:"percent",radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{value:0},enable:!1,options:{}},outModes:{default:"out",bottom:"out",left:"out",right:"out",top:"out"},random:!1,size:!1,speed:2,spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fill:{}},vibrate:!1,warp:!1},number:{density:{enable:!0,width:1920,height:1080},limit:{mode:"delete",value:0},value:100},opacity:{value:{min:.3,max:.8},animation:{count:0,enable:!0,speed:.5,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},reduceDuplicates:!1,shadow:{blur:0,color:{value:"#000"},enable:!1,offset:{x:0,y:0}},shape:{close:!0,fill:!0,options:{},type:"circle"},size:{value:{min:1,max:3},animation:{count:0,enable:!0,speed:3,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},stroke:{width:0},zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1},destroy:{bounds:{},mode:"none",split:{count:1,factor:{value:3},rate:{value:{min:4,max:9}},sizeOffset:!0,particles:{}}},roll:{darken:{enable:!1,value:0},enable:!1,enlighten:{enable:!1,value:0},mode:"vertical",speed:25},tilt:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",enable:!1},twinkle:{lines:{enable:!1,frequency:.05,opacity:1},particles:{enable:!1,frequency:.05,opacity:1}},wobble:{distance:5,enable:!1,speed:{angle:50,move:10}},life:{count:0,delay:{value:0,sync:!1},duration:{value:0,sync:!1}},rotate:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",path:!1},orbit:{animation:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!1},enable:!1,opacity:1,rotation:{value:45},width:1},links:{blink:!1,color:{value:"random"},consent:!1,distance:100,enable:!0,frequency:1,opacity:1,shadow:{blur:5,color:{value:"#000"},enable:!1},triangles:{enable:!1,frequency:1},width:1,warp:!1},repulse:{value:0,enabled:!1,distance:1,duration:1,factor:1,speed:1}},pauseOnBlur:!0,pauseOnOutsideViewport:!0,responsive:[],smooth:!1,style:{},themes:[],zLayers:100,emitters:[],motion:{disable:!1,reduce:{factor:4,value:!0}}},Aq=()=>q.jsx(ky,{params:xq}),_q=()=>q.jsxs(I3,{children:[q.jsx(Aq,{}),q.jsxs("div",{className:"relative z-0 bg-primary",children:[q.jsx("div",{className:"bg-hero-pattern bg-cover bg-np-repeat bg-center"}),q.jsx(X7,{}),q.jsx(kX,{}),q.jsx(nK,{}),q.jsx(MK,{}),q.jsx(rK,{}),q.jsx(wK,{}),q.jsx(PY,{}),q.jsx("div",{className:"relative z-0 text-center",children:"Contact"}),q.jsx("div",{className:"relative z-0 text-center",children:"ssun329@wisc.edu"})]})]});Dx.createRoot(document.getElementById("root")).render(q.jsx(yn.StrictMode,{children:q.jsx(_q,{})}));
